/*! For license information please see 946.js.LICENSE.txt */
(self.webpackChunkgrafana_metricsdrilldown_app=self.webpackChunkgrafana_metricsdrilldown_app||[]).push([[946],{144:(e,t,n)=>{"use strict";const r=n(5380);e.exports=(e,t,n)=>r(e,t,n)>0},362:(e,t,n)=>{"use strict";var r=n(6441);function a(){}function i(){}i.resetWarningCache=a,e.exports=function(){function e(e,t,n,a,i,s){if(s!==r){var o=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw o.name="Invariant Violation",o}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:a};return n.PropTypes=n,n}},402:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.canDragX=function(e){return"both"===e.props.axis||"x"===e.props.axis},t.canDragY=function(e){return"both"===e.props.axis||"y"===e.props.axis},t.createCoreData=function(e,t,n){const a=!(0,r.isNum)(e.lastX),s=i(e);return a?{node:s,deltaX:0,deltaY:0,lastX:t,lastY:n,x:t,y:n}:{node:s,deltaX:t-e.lastX,deltaY:n-e.lastY,lastX:e.lastX,lastY:e.lastY,x:t,y:n}},t.createDraggableData=function(e,t){const n=e.props.scale;return{node:t.node,x:e.state.x+t.deltaX/n,y:e.state.y+t.deltaY/n,deltaX:t.deltaX/n,deltaY:t.deltaY/n,lastX:e.state.x,lastY:e.state.y}},t.getBoundPosition=function(e,t,n){if(!e.props.bounds)return[t,n];let{bounds:s}=e.props;s="string"==typeof s?s:function(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom}}(s);const o=i(e);if("string"==typeof s){const{ownerDocument:e}=o,t=e.defaultView;let n;if("parent"===s)n=o.parentNode;else{n=o.getRootNode().querySelector(s)}if(!(n instanceof t.HTMLElement))throw new Error('Bounds selector "'+s+'" could not find an element.');const i=n,l=t.getComputedStyle(o),u=t.getComputedStyle(i);s={left:-o.offsetLeft+(0,r.int)(u.paddingLeft)+(0,r.int)(l.marginLeft),top:-o.offsetTop+(0,r.int)(u.paddingTop)+(0,r.int)(l.marginTop),right:(0,a.innerWidth)(i)-(0,a.outerWidth)(o)-o.offsetLeft+(0,r.int)(u.paddingRight)-(0,r.int)(l.marginRight),bottom:(0,a.innerHeight)(i)-(0,a.outerHeight)(o)-o.offsetTop+(0,r.int)(u.paddingBottom)-(0,r.int)(l.marginBottom)}}(0,r.isNum)(s.right)&&(t=Math.min(t,s.right));(0,r.isNum)(s.bottom)&&(n=Math.min(n,s.bottom));(0,r.isNum)(s.left)&&(t=Math.max(t,s.left));(0,r.isNum)(s.top)&&(n=Math.max(n,s.top));return[t,n]},t.getControlPosition=function(e,t,n){const r="number"==typeof t?(0,a.getTouch)(e,t):null;if("number"==typeof t&&!r)return null;const s=i(n),o=n.props.offsetParent||s.offsetParent||s.ownerDocument.body;return(0,a.offsetXYFromParent)(r||e,o,n.props.scale)},t.snapToGrid=function(e,t,n){const r=Math.round(t/e[0])*e[0],a=Math.round(n/e[1])*e[1];return[r,a]};var r=n(6732),a=n(2837);function i(e){const t=e.findDOMNode();if(!t)throw new Error("<DraggableCore>: Unmounted during event!");return t}},414:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bottom=d,t.childrenEqual=function(e,t){return(0,r.default)(a.default.Children.map(e,function(e){return null==e?void 0:e.key}),a.default.Children.map(t,function(e){return null==e?void 0:e.key}))},t.cloneLayout=h,t.cloneLayoutItem=f,t.collides=m,t.compact=v,t.compactItem=O,t.compactType=function(e){var t=e||{},n=t.verticalCompact,r=t.compactType;return!1===n?null:r},t.correctBounds=w,t.fastPositionEqual=function(e,t){return e.left===t.left&&e.top===t.top&&e.width===t.width&&e.height===t.height},t.fastRGLPropsEqual=void 0,t.getAllCollisions=$,t.getFirstCollision=S,t.getLayoutItem=x,t.getStatics=R,t.modifyLayout=p,t.moveElement=P,t.moveElementAwayFromCollision=E,t.noop=void 0,t.perc=function(e){return 100*e+"%"},t.setTopLeft=function(e){var t=e.top,n=e.left,r=e.width,a=e.height;return{top:"".concat(t,"px"),left:"".concat(n,"px"),width:"".concat(r,"px"),height:"".concat(a,"px"),position:"absolute"}},t.setTransform=function(e){var t=e.top,n=e.left,r=e.width,a=e.height,i="translate(".concat(n,"px,").concat(t,"px)");return{transform:i,WebkitTransform:i,MozTransform:i,msTransform:i,OTransform:i,width:"".concat(r,"px"),height:"".concat(a,"px"),position:"absolute"}},t.sortLayoutItems=k,t.sortLayoutItemsByColRow=C,t.sortLayoutItemsByRowCol=_,t.synchronizeLayoutWithChildren=function(e,t,n,r,i){e=e||[];var s=[];a.default.Children.forEach(t,function(t){if(null!=(null==t?void 0:t.key)){var n=x(e,String(t.key));if(n)s.push(f(n));else{!u&&t.props._grid&&console.warn("`_grid` properties on children have been deprecated as of React 15.2. Please use `data-grid` or add your properties directly to the `layout`.");var r=t.props["data-grid"]||t.props._grid;r?(u||T([r],"ReactGridLayout.children"),s.push(f(o(o({},r),{},{i:t.key})))):s.push(f({w:1,h:1,x:0,y:d(s),i:String(t.key)}))}}});var l=w(s,{cols:n});return i?l:v(l,r,n)},t.validateLayout=T,t.withLayoutItem=function(e,t,n){var r=x(e,t);return r?(r=n(f(r)),[e=p(e,r),r]):[e,null]};var r=i(n(7842)),a=i(n(5959));function i(e){return e&&e.__esModule?e:{default:e}}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach(function(t){l(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u=!0,c=!1;function d(e){for(var t,n=0,r=0,a=e.length;r<a;r++)(t=e[r].y+e[r].h)>n&&(n=t);return n}function h(e){for(var t=Array(e.length),n=0,r=e.length;n<r;n++)t[n]=f(e[n]);return t}function p(e,t){for(var n=Array(e.length),r=0,a=e.length;r<a;r++)t.i===e[r].i?n[r]=t:n[r]=e[r];return n}function f(e){return{w:e.w,h:e.h,x:e.x,y:e.y,i:e.i,minW:e.minW,maxW:e.maxW,minH:e.minH,maxH:e.maxH,moved:Boolean(e.moved),static:Boolean(e.static),isDraggable:e.isDraggable,isResizable:e.isResizable,resizeHandles:e.resizeHandles,isBounded:e.isBounded}}var g=n(7434);function m(e,t){return e.i!==t.i&&(!(e.x+e.w<=t.x)&&(!(e.x>=t.x+t.w)&&(!(e.y+e.h<=t.y)&&!(e.y>=t.y+t.h))))}function v(e,t,n){for(var r=R(e),a=k(e,t),i=Array(e.length),s=0,o=a.length;s<o;s++){var l=f(a[s]);l.static||(l=O(r,l,t,n,a),r.push(l)),i[e.indexOf(a[s])]=l,l.moved=!1}return i}t.fastRGLPropsEqual=g;var b={x:"w",y:"h"};function y(e,t,n,r){var a=b[r];t[r]+=1;for(var i=e.map(function(e){return e.i}).indexOf(t.i)+1;i<e.length;i++){var s=e[i];if(!s.static){if(s.y>t.y+t.h)break;m(t,s)&&y(e,s,n+t[a],r)}}t[r]=n}function O(e,t,n,r,a){var i,s="horizontal"===n;if("vertical"===n)for(t.y=Math.min(d(e),t.y);t.y>0&&!S(e,t);)t.y--;else if(s)for(;t.x>0&&!S(e,t);)t.x--;for(;i=S(e,t);)s?y(a,t,i.x+i.w,"x"):y(a,t,i.y+i.h,"y"),s&&t.x+t.w>r&&(t.x=r-t.w,t.y++);return t.y=Math.max(t.y,0),t.x=Math.max(t.x,0),t}function w(e,t){for(var n=R(e),r=0,a=e.length;r<a;r++){var i=e[r];if(i.x+i.w>t.cols&&(i.x=t.cols-i.w),i.x<0&&(i.x=0,i.w=t.cols),i.static)for(;S(n,i);)i.y++;else n.push(i)}return e}function x(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n].i===t)return e[n]}function S(e,t){for(var n=0,r=e.length;n<r;n++)if(m(e[n],t))return e[n]}function $(e,t){return e.filter(function(e){return m(e,t)})}function R(e){return e.filter(function(e){return e.static})}function P(e,t,n,r,a,i,s,o,l){if(t.static&&!0!==t.isDraggable)return e;if(t.y===r&&t.x===n)return e;D("Moving element ".concat(t.i," to [").concat(String(n),",").concat(String(r),"] from [").concat(t.x,",").concat(t.y,"]"));var u=t.x,c=t.y;"number"==typeof n&&(t.x=n),"number"==typeof r&&(t.y=r),t.moved=!0;var d=k(e,s);("vertical"===s&&"number"==typeof r?c>=r:"horizontal"===s&&"number"==typeof n&&u>=n)&&(d=d.reverse());var p=$(d,t),f=p.length>0;if(f&&l)return h(e);if(f&&i)return D("Collision prevented on ".concat(t.i,", reverting.")),t.x=u,t.y=c,t.moved=!1,e;for(var g=0,m=p.length;g<m;g++){var v=p[g];D("Resolving collision between ".concat(t.i," at [").concat(t.x,",").concat(t.y,"] and ").concat(v.i," at [").concat(v.x,",").concat(v.y,"]")),v.moved||(e=v.static?E(e,v,t,a,s,o):E(e,t,v,a,s,o))}return e}function E(e,t,n,r,a,i){var s="horizontal"===a,o="horizontal"!==a,l=t.static;if(r){r=!1;var u={x:s?Math.max(t.x-n.w,0):n.x,y:o?Math.max(t.y-n.h,0):n.y,w:n.w,h:n.h,i:"-1"};if(!S(e,u))return D("Doing reverse collision on ".concat(n.i," up to [").concat(u.x,",").concat(u.y,"].")),P(e,n,s?u.x:void 0,o?u.y:void 0,r,l,a,i)}return P(e,n,s?n.x+1:void 0,o?n.y+1:void 0,r,l,a,i)}function k(e,t){return"horizontal"===t?C(e):"vertical"===t?_(e):e}function _(e){return e.slice(0).sort(function(e,t){return e.y>t.y||e.y===t.y&&e.x>t.x?1:e.y===t.y&&e.x===t.x?0:-1})}function C(e){return e.slice(0).sort(function(e,t){return e.x>t.x||e.x===t.x&&e.y>t.y?1:-1})}function T(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Layout",n=["x","y","w","h"];if(!Array.isArray(e))throw new Error(t+" must be an array!");for(var r=0,a=e.length;r<a;r++)for(var i=e[r],s=0;s<n.length;s++)if("number"!=typeof i[n[s]])throw new Error("ReactGridLayout: "+t+"["+r+"]."+n[s]+" must be a number!")}function D(){var e;c&&(e=console).log.apply(e,arguments)}t.noop=function(){}},544:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.findOrGenerateResponsiveLayout=function(e,t,n,i,s,o){if(e[n])return(0,r.cloneLayout)(e[n]);for(var l=e[i],u=a(t),c=u.slice(u.indexOf(n)),d=0,h=c.length;d<h;d++){var p=c[d];if(e[p]){l=e[p];break}}return l=(0,r.cloneLayout)(l||[]),(0,r.compact)((0,r.correctBounds)(l,{cols:s}),o,s)},t.getBreakpointFromWidth=function(e,t){for(var n=a(e),r=n[0],i=1,s=n.length;i<s;i++){var o=n[i];t>e[o]&&(r=o)}return r},t.getColsFromBreakpoint=function(e,t){if(!t[e])throw new Error("ResponsiveReactGridLayout: `cols` entry for breakpoint "+e+" is missing!");return t[e]},t.sortBreakpoints=a;var r=n(414);function a(e){return Object.keys(e).sort(function(t,n){return e[t]-e[n]})}},599:(e,t,n)=>{"use strict";const r=n(5380);e.exports=(e,t,n)=>r(e,t,n)<0},603:(e,t,n)=>{"use strict";const r=n(2801);e.exports=(e,t)=>e.sort((e,n)=>r(e,n,t))},651:(e,t,n)=>{"use strict";const r=n(8395);e.exports=(e,t)=>new r(e,t).set.map(e=>e.map(e=>e.value).join(" ").trim().split(" "))},660:(e,t,n)=>{"use strict";const r=n(5860);e.exports=(e,t)=>{const n=r(e,null,!0),a=r(t,null,!0),i=n.compare(a);if(0===i)return null;const s=i>0,o=s?n:a,l=s?a:n,u=!!o.prerelease.length;if(!!l.prerelease.length&&!u){if(!l.patch&&!l.minor)return"major";if(0===l.compareMain(o))return l.minor&&!l.patch?"minor":"patch"}const c=u?"pre":"";return n.major!==a.major?c+"major":n.minor!==a.minor?c+"minor":n.patch!==a.patch?c+"patch":"prerelease"}},782:(e,t,n)=>{"use strict";n.d(t,{U1:()=>$});var r=n(7203);class a{constructor(e,t,n,r,a,i,s,o,l,u=0,c){this.p=e,this.stack=t,this.state=n,this.reducePos=r,this.pos=a,this.score=i,this.buffer=s,this.bufferBase=o,this.curContext=l,this.lookAhead=u,this.parent=c}toString(){return`[${this.stack.filter((e,t)=>t%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(e,t,n=0){let r=e.parser.context;return new a(e,[],t,n,n,0,[],0,r?new i(r,r.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(e,t){this.stack.push(this.state,t,this.bufferBase+this.buffer.length),this.state=e}reduce(e){var t;let n=e>>19,r=65535&e,{parser:a}=this.p,i=this.reducePos<this.pos-25;i&&this.setLookAhead(this.pos);let s=a.dynamicPrecedence(r);if(s&&(this.score+=s),0==n)return this.pushState(a.getGoto(this.state,r,!0),this.reducePos),r<a.minRepeatTerm&&this.storeNode(r,this.reducePos,this.reducePos,i?8:4,!0),void this.reduceContext(r,this.reducePos);let o=this.stack.length-3*(n-1)-(262144&e?6:0),l=o?this.stack[o-2]:this.p.ranges[0].from,u=this.reducePos-l;u>=2e3&&!(null===(t=this.p.parser.nodeSet.types[r])||void 0===t?void 0:t.isAnonymous)&&(l==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=u):this.p.lastBigReductionSize<u&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=l,this.p.lastBigReductionSize=u));let c=o?this.stack[o-1]:0,d=this.bufferBase+this.buffer.length-c;if(r<a.minRepeatTerm||131072&e){let e=a.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(r,l,e,d+4,!0)}if(262144&e)this.state=this.stack[o];else{let e=this.stack[o-3];this.state=a.getGoto(e,r,!0)}for(;this.stack.length>o;)this.stack.pop();this.reduceContext(r,l)}storeNode(e,t,n,r=4,a=!1){if(0==e&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let e=this,r=this.buffer.length;if(0==r&&e.parent&&(r=e.bufferBase-e.parent.bufferBase,e=e.parent),r>0&&0==e.buffer[r-4]&&e.buffer[r-1]>-1){if(t==n)return;if(e.buffer[r-2]>=t)return void(e.buffer[r-2]=n)}}if(a&&this.pos!=n){let a=this.buffer.length;if(a>0&&0!=this.buffer[a-4]){let e=!1;for(let t=a;t>0&&this.buffer[t-2]>n;t-=4)if(this.buffer[t-1]>=0){e=!0;break}if(e)for(;a>0&&this.buffer[a-2]>n;)this.buffer[a]=this.buffer[a-4],this.buffer[a+1]=this.buffer[a-3],this.buffer[a+2]=this.buffer[a-2],this.buffer[a+3]=this.buffer[a-1],a-=4,r>4&&(r-=4)}this.buffer[a]=e,this.buffer[a+1]=t,this.buffer[a+2]=n,this.buffer[a+3]=r}else this.buffer.push(e,t,n,r)}shift(e,t,n,r){if(131072&e)this.pushState(65535&e,this.pos);else if(262144&e)this.pos=r,this.shiftContext(t,n),t<=this.p.parser.maxNode&&this.buffer.push(t,n,r,4);else{let a=e,{parser:i}=this.p;(r>this.pos||t<=i.maxNode)&&(this.pos=r,i.stateFlag(a,1)||(this.reducePos=r)),this.pushState(a,n),this.shiftContext(t,n),t<=i.maxNode&&this.buffer.push(t,n,r,4)}}apply(e,t,n,r){65536&e?this.reduce(e):this.shift(e,t,n,r)}useNode(e,t){let n=this.p.reused.length-1;(n<0||this.p.reused[n]!=e)&&(this.p.reused.push(e),n++);let r=this.pos;this.reducePos=this.pos=r+e.length,this.pushState(t,r),this.buffer.push(n,r,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,e,this,this.p.stream.reset(this.pos-e.length)))}split(){let e=this,t=e.buffer.length;for(;t>0&&e.buffer[t-2]>e.reducePos;)t-=4;let n=e.buffer.slice(t),r=e.bufferBase+t;for(;e&&r==e.bufferBase;)e=e.parent;return new a(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,n,r,this.curContext,this.lookAhead,e)}recoverByDelete(e,t){let n=e<=this.p.parser.maxNode;n&&this.storeNode(e,this.pos,t,4),this.storeNode(0,this.pos,t,n?8:4),this.pos=this.reducePos=t,this.score-=190}canShift(e){for(let t=new s(this);;){let n=this.p.parser.stateSlot(t.state,4)||this.p.parser.hasAction(t.state,e);if(0==n)return!1;if(!(65536&n))return!0;t.reduce(n)}}recoverByInsert(e){if(this.stack.length>=300)return[];let t=this.p.parser.nextStates(this.state);if(t.length>8||this.stack.length>=120){let n=[];for(let r,a=0;a<t.length;a+=2)(r=t[a+1])!=this.state&&this.p.parser.hasAction(r,e)&&n.push(t[a],r);if(this.stack.length<120)for(let e=0;n.length<8&&e<t.length;e+=2){let r=t[e+1];n.some((e,t)=>1&t&&e==r)||n.push(t[e],r)}t=n}let n=[];for(let e=0;e<t.length&&n.length<4;e+=2){let r=t[e+1];if(r==this.state)continue;let a=this.split();a.pushState(r,this.pos),a.storeNode(0,a.pos,a.pos,4,!0),a.shiftContext(t[e],this.pos),a.reducePos=this.pos,a.score-=200,n.push(a)}return n}forceReduce(){let{parser:e}=this.p,t=e.stateSlot(this.state,5);if(!(65536&t))return!1;if(!e.validAction(this.state,t)){let n=t>>19,r=65535&t,a=this.stack.length-3*n;if(a<0||e.getGoto(this.stack[a],r,!1)<0){let e=this.findForcedReduction();if(null==e)return!1;t=e}this.storeNode(0,this.pos,this.pos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(t),!0}findForcedReduction(){let{parser:e}=this.p,t=[],n=(r,a)=>{if(!t.includes(r))return t.push(r),e.allActions(r,t=>{if(393216&t);else if(65536&t){let n=(t>>19)-a;if(n>1){let r=65535&t,a=this.stack.length-3*n;if(a>=0&&e.getGoto(this.stack[a],r,!1)>=0)return n<<19|65536|r}}else{let e=n(t,a+1);if(null!=e)return e}})};return n(this.state,0)}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(3!=this.stack.length)return!1;let{parser:e}=this.p;return 65535==e.data[e.stateSlot(this.state,1)]&&!e.stateSlot(this.state,4)}restart(){this.storeNode(0,this.pos,this.pos,4,!0),this.state=this.stack[0],this.stack.length=0}sameState(e){if(this.state!=e.state||this.stack.length!=e.stack.length)return!1;for(let t=0;t<this.stack.length;t+=3)if(this.stack[t]!=e.stack[t])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(e){return this.p.parser.dialect.flags[e]}shiftContext(e,t){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,e,this,this.p.stream.reset(t)))}reduceContext(e,t){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,e,this,this.p.stream.reset(t)))}emitContext(){let e=this.buffer.length-1;(e<0||-3!=this.buffer[e])&&this.buffer.push(this.curContext.hash,this.pos,this.pos,-3)}emitLookAhead(){let e=this.buffer.length-1;(e<0||-4!=this.buffer[e])&&this.buffer.push(this.lookAhead,this.pos,this.pos,-4)}updateContext(e){if(e!=this.curContext.context){let t=new i(this.curContext.tracker,e);t.hash!=this.curContext.hash&&this.emitContext(),this.curContext=t}}setLookAhead(e){e>this.lookAhead&&(this.emitLookAhead(),this.lookAhead=e)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}class i{constructor(e,t){this.tracker=e,this.context=t,this.hash=e.strict?e.hash(t):0}}class s{constructor(e){this.start=e,this.state=e.state,this.stack=e.stack,this.base=this.stack.length}reduce(e){let t=65535&e,n=e>>19;0==n?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=3*(n-1);let r=this.start.p.parser.getGoto(this.stack[this.base-3],t,!0);this.state=r}}class o{constructor(e,t,n){this.stack=e,this.pos=t,this.index=n,this.buffer=e.buffer,0==this.index&&this.maybeNext()}static create(e,t=e.bufferBase+e.buffer.length){return new o(e,t,t-e.bufferBase)}maybeNext(){let e=this.stack.parent;null!=e&&(this.index=this.stack.bufferBase-e.bufferBase,this.stack=e,this.buffer=e.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,0==this.index&&this.maybeNext()}fork(){return new o(this.stack,this.pos,this.index)}}function l(e,t=Uint16Array){if("string"!=typeof e)return e;let n=null;for(let r=0,a=0;r<e.length;){let i=0;for(;;){let t=e.charCodeAt(r++),n=!1;if(126==t){i=65535;break}t>=92&&t--,t>=34&&t--;let a=t-32;if(a>=46&&(a-=46,n=!0),i+=a,n)break;i*=46}n?n[a++]=i:n=new t(i)}return n}class u{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const c=new u;class d{constructor(e,t){this.input=e,this.ranges=t,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=c,this.rangeIndex=0,this.pos=this.chunkPos=t[0].from,this.range=t[0],this.end=t[t.length-1].to,this.readNext()}resolveOffset(e,t){let n=this.range,r=this.rangeIndex,a=this.pos+e;for(;a<n.from;){if(!r)return null;let e=this.ranges[--r];a-=n.from-e.to,n=e}for(;t<0?a>n.to:a>=n.to;){if(r==this.ranges.length-1)return null;let e=this.ranges[++r];a+=e.from-n.to,n=e}return a}clipPos(e){if(e>=this.range.from&&e<this.range.to)return e;for(let t of this.ranges)if(t.to>e)return Math.max(e,t.from);return this.end}peek(e){let t,n,r=this.chunkOff+e;if(r>=0&&r<this.chunk.length)t=this.pos+e,n=this.chunk.charCodeAt(r);else{let r=this.resolveOffset(e,1);if(null==r)return-1;if(t=r,t>=this.chunk2Pos&&t<this.chunk2Pos+this.chunk2.length)n=this.chunk2.charCodeAt(t-this.chunk2Pos);else{let e=this.rangeIndex,r=this.range;for(;r.to<=t;)r=this.ranges[++e];this.chunk2=this.input.chunk(this.chunk2Pos=t),t+this.chunk2.length>r.to&&(this.chunk2=this.chunk2.slice(0,r.to-t)),n=this.chunk2.charCodeAt(0)}}return t>=this.token.lookAhead&&(this.token.lookAhead=t+1),n}acceptToken(e,t=0){let n=t?this.resolveOffset(t,-1):this.pos;if(null==n||n<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=e,this.token.end=n}acceptTokenTo(e,t){this.token.value=e,this.token.end=t}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:e,chunkPos:t}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=e,this.chunk2Pos=t,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let e=this.input.chunk(this.pos),t=this.pos+e.length;this.chunk=t>this.range.to?e.slice(0,this.range.to-this.pos):e,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(e=1){for(this.chunkOff+=e;this.pos+e>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();e-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=e,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(e,t){if(t?(this.token=t,t.start=e,t.lookAhead=e+1,t.value=t.extended=-1):this.token=c,this.pos!=e){if(this.pos=e,e==this.end)return this.setDone(),this;for(;e<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;e>=this.range.to;)this.range=this.ranges[++this.rangeIndex];e>=this.chunkPos&&e<this.chunkPos+this.chunk.length?this.chunkOff=e-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(e,t){if(e>=this.chunkPos&&t<=this.chunkPos+this.chunk.length)return this.chunk.slice(e-this.chunkPos,t-this.chunkPos);if(e>=this.chunk2Pos&&t<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(e-this.chunk2Pos,t-this.chunk2Pos);if(e>=this.range.from&&t<=this.range.to)return this.input.read(e,t);let n="";for(let r of this.ranges){if(r.from>=t)break;r.to>e&&(n+=this.input.read(Math.max(r.from,e),Math.min(r.to,t)))}return n}}class h{constructor(e,t){this.data=e,this.id=t}token(e,t){let{parser:n}=t.p;p(this.data,e,t,this.id,n.data,n.tokenPrecTable)}}h.prototype.contextual=h.prototype.fallback=h.prototype.extend=!1;h.prototype.fallback=h.prototype.extend=!1;function p(e,t,n,r,a,i){let s=0,o=1<<r,{dialect:l}=n.p.parser;e:for(;0!=(o&e[s]);){let n=e[s+1];for(let r=s+3;r<n;r+=2)if((e[r+1]&o)>0){let n=e[r];if(l.allows(n)&&(-1==t.token.value||t.token.value==n||g(n,t.token.value,a,i))){t.acceptToken(n);break}}let r=t.next,u=0,c=e[s+2];if(!(t.next<0&&c>u&&65535==e[n+3*c-3])){for(;u<c;){let a=u+c>>1,i=n+a+(a<<1),o=e[i],l=e[i+1]||65536;if(r<o)c=a;else{if(!(r>=l)){s=e[i+2],t.advance();continue e}u=a+1}}break}s=e[n+3*c-1]}}function f(e,t,n){for(let r,a=t;65535!=(r=e[a]);a++)if(r==n)return a-t;return-1}function g(e,t,n,r){let a=f(n,r,t);return a<0||f(n,r,e)<a}const m="undefined"!=typeof process&&process.env&&/\bparse\b/.test(process.env.LOG);let v=null;function b(e,t,n){let a=e.cursor(r.Qj.IncludeAnonymous);for(a.moveTo(t);;)if(!(n<0?a.childBefore(t):a.childAfter(t)))for(;;){if((n<0?a.to<t:a.from>t)&&!a.type.isError)return n<0?Math.max(0,Math.min(a.to-1,t-25)):Math.min(e.length,Math.max(a.from+1,t+25));if(n<0?a.prevSibling():a.nextSibling())break;if(!a.parent())return n<0?0:e.length}}class y{constructor(e,t){this.fragments=e,this.nodeSet=t,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let e=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(e){for(this.safeFrom=e.openStart?b(e.tree,e.from+e.offset,1)-e.offset:e.from,this.safeTo=e.openEnd?b(e.tree,e.to+e.offset,-1)-e.offset:e.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(e.tree),this.start.push(-e.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(e){if(e<this.nextStart)return null;for(;this.fragment&&this.safeTo<=e;)this.nextFragment();if(!this.fragment)return null;for(;;){let t=this.trees.length-1;if(t<0)return this.nextFragment(),null;let n=this.trees[t],a=this.index[t];if(a==n.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let i=n.children[a],s=this.start[t]+n.positions[a];if(s>e)return this.nextStart=s,null;if(i instanceof r.PH){if(s==e){if(s<this.safeFrom)return null;let e=s+i.length;if(e<=this.safeTo){let t=i.prop(r.uY.lookAhead);if(!t||e+t<this.fragment.to)return i}}this.index[t]++,s+i.length>=Math.max(this.safeFrom,e)&&(this.trees.push(i),this.start.push(s),this.index.push(0))}else this.index[t]++,this.nextStart=s+i.length}}}class O{constructor(e,t){this.stream=t,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=e.tokenizers.map(e=>new u)}getActions(e){let t=0,n=null,{parser:r}=e.p,{tokenizers:a}=r,i=r.stateSlot(e.state,3),s=e.curContext?e.curContext.hash:0,o=0;for(let r=0;r<a.length;r++){if(!(1<<r&i))continue;let l=a[r],u=this.tokens[r];if((!n||l.fallback)&&((l.contextual||u.start!=e.pos||u.mask!=i||u.context!=s)&&(this.updateCachedToken(u,l,e),u.mask=i,u.context=s),u.lookAhead>u.end+25&&(o=Math.max(u.lookAhead,o)),0!=u.value)){let r=t;if(u.extended>-1&&(t=this.addActions(e,u.extended,u.end,t)),t=this.addActions(e,u.value,u.end,t),!l.extend&&(n=u,t>r))break}}for(;this.actions.length>t;)this.actions.pop();return o&&e.setLookAhead(o),n||e.pos!=this.stream.end||(n=new u,n.value=e.p.parser.eofTerm,n.start=n.end=e.pos,t=this.addActions(e,n.value,n.end,t)),this.mainToken=n,this.actions}getMainToken(e){if(this.mainToken)return this.mainToken;let t=new u,{pos:n,p:r}=e;return t.start=n,t.end=Math.min(n+1,r.stream.end),t.value=n==r.stream.end?r.parser.eofTerm:0,t}updateCachedToken(e,t,n){let r=this.stream.clipPos(n.pos);if(t.token(this.stream.reset(r,e),n),e.value>-1){let{parser:t}=n.p;for(let r=0;r<t.specialized.length;r++)if(t.specialized[r]==e.value){let a=t.specializers[r](this.stream.read(e.start,e.end),n);if(a>=0&&n.p.parser.dialect.allows(a>>1)){1&a?e.extended=a>>1:e.value=a>>1;break}}}else e.value=0,e.end=this.stream.clipPos(r+1)}putAction(e,t,n,r){for(let t=0;t<r;t+=3)if(this.actions[t]==e)return r;return this.actions[r++]=e,this.actions[r++]=t,this.actions[r++]=n,r}addActions(e,t,n,r){let{state:a}=e,{parser:i}=e.p,{data:s}=i;for(let e=0;e<2;e++)for(let o=i.stateSlot(a,e?2:1);;o+=3){if(65535==s[o]){if(1!=s[o+1]){0==r&&2==s[o+1]&&(r=this.putAction(R(s,o+2),t,n,r));break}o=R(s,o+2)}s[o]==t&&(r=this.putAction(R(s,o+1),t,n,r))}return r}}class w{constructor(e,t,n,r){this.parser=e,this.input=t,this.ranges=r,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new d(t,r),this.tokens=new O(e,this.stream),this.topTerm=e.top[1];let{from:i}=r[0];this.stacks=[a.start(this,e.top[0],i)],this.fragments=n.length&&this.stream.end-i>4*e.bufferLength?new y(n,e.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let e,t,n=this.stacks,r=this.minStackPos,a=this.stacks=[];if(this.bigReductionCount>300&&1==n.length){let[e]=n;for(;e.forceReduce()&&e.stack.length&&e.stack[e.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let i=0;i<n.length;i++){let s=n[i];for(;;){if(this.tokens.mainToken=null,s.pos>r)a.push(s);else{if(this.advanceStack(s,a,n))continue;{e||(e=[],t=[]),e.push(s);let n=this.tokens.getMainToken(s);t.push(n.value,n.end)}}break}}if(!a.length){let t=e&&function(e){let t=null;for(let n of e){let e=n.p.stoppedAt;(n.pos==n.p.stream.end||null!=e&&n.pos>e)&&n.p.parser.stateFlag(n.state,2)&&(!t||t.score<n.score)&&(t=n)}return t}(e);if(t)return this.stackToTree(t);if(this.parser.strict)throw new SyntaxError("No parse at "+r);this.recovering||(this.recovering=5)}if(this.recovering&&e){let n=null!=this.stoppedAt&&e[0].pos>this.stoppedAt?e[0]:this.runRecovery(e,t,a);if(n)return this.stackToTree(n.forceAll())}if(this.recovering){let e=1==this.recovering?1:3*this.recovering;if(a.length>e)for(a.sort((e,t)=>t.score-e.score);a.length>e;)a.pop();a.some(e=>e.reducePos>r)&&this.recovering--}else if(a.length>1){e:for(let e=0;e<a.length-1;e++){let t=a[e];for(let n=e+1;n<a.length;n++){let r=a[n];if(t.sameState(r)||t.buffer.length>500&&r.buffer.length>500){if(!((t.score-r.score||t.buffer.length-r.buffer.length)>0)){a.splice(e--,1);continue e}a.splice(n--,1)}}}a.length>12&&a.splice(12,a.length-12)}this.minStackPos=a[0].pos;for(let e=1;e<a.length;e++)a[e].pos<this.minStackPos&&(this.minStackPos=a[e].pos);return null}stopAt(e){if(null!=this.stoppedAt&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}advanceStack(e,t,n){let a=e.pos,{parser:i}=this;m&&this.stackID(e);if(null!=this.stoppedAt&&a>this.stoppedAt)return e.forceReduce()?e:null;if(this.fragments){let t=e.curContext&&e.curContext.tracker.strict,n=t?e.curContext.hash:0;for(let s=this.fragments.nodeAt(a);s;){let a=this.parser.nodeSet.types[s.type.id]==s.type?i.getGoto(e.state,s.type.id):-1;if(a>-1&&s.length&&(!t||(s.prop(r.uY.contextHash)||0)==n))return e.useNode(s,a),!0;if(!(s instanceof r.PH)||0==s.children.length||s.positions[0]>0)break;let o=s.children[0];if(!(o instanceof r.PH&&0==s.positions[0]))break;s=o}}let s=i.stateSlot(e.state,4);if(s>0)return e.reduce(s),!0;if(e.stack.length>=8400)for(;e.stack.length>6e3&&e.forceReduce(););let o=this.tokens.getActions(e);for(let r=0;r<o.length;){let i=o[r++],s=o[r++],l=o[r++],u=r==o.length||!n,c=u?e:e.split(),d=this.tokens.mainToken;if(c.apply(i,s,d?d.start:c.pos,l),u)return!0;c.pos>a?t.push(c):n.push(c)}return!1}advanceFully(e,t){let n=e.pos;for(;;){if(!this.advanceStack(e,null,null))return!1;if(e.pos>n)return x(e,t),!0}}runRecovery(e,t,n){let r=null,a=!1;for(let i=0;i<e.length;i++){let s=e[i],o=t[i<<1],l=t[1+(i<<1)],u=m?this.stackID(s)+" -> ":"";if(s.deadEnd){if(a)continue;if(a=!0,s.restart(),this.advanceFully(s,n))continue}let c=s.split(),d=u;for(let e=0;c.forceReduce()&&e<10;e++){if(this.advanceFully(c,n))break;m&&(d=this.stackID(c)+" -> ")}for(let e of s.recoverByInsert(o))this.advanceFully(e,n);this.stream.end>s.pos?(l==s.pos&&(l++,o=0),s.recoverByDelete(o,l),x(s,n)):(!r||r.score<s.score)&&(r=s)}return r}stackToTree(e){return e.close(),r.PH.build({buffer:o.create(e),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:e.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(e){let t=(v||(v=new WeakMap)).get(e);return t||v.set(e,t=String.fromCodePoint(this.nextStackID++)),t+e}}function x(e,t){for(let n=0;n<t.length;n++){let r=t[n];if(r.pos==e.pos&&r.sameState(e))return void(t[n].score<e.score&&(t[n]=e))}t.push(e)}class S{constructor(e,t,n){this.source=e,this.flags=t,this.disabled=n}allows(e){return!this.disabled||0==this.disabled[e]}}class $ extends r.iX{constructor(e){if(super(),this.wrappers=[],14!=e.version)throw new RangeError(`Parser version (${e.version}) doesn't match runtime version (14)`);let t=e.nodeNames.split(" ");this.minRepeatTerm=t.length;for(let n=0;n<e.repeatNodeCount;n++)t.push("");let n=Object.keys(e.topRules).map(t=>e.topRules[t][1]),a=[];for(let e=0;e<t.length;e++)a.push([]);function i(e,t,n){a[e].push([t,t.deserialize(String(n))])}if(e.nodeProps)for(let t of e.nodeProps){let e=t[0];"string"==typeof e&&(e=r.uY[e]);for(let n=1;n<t.length;){let r=t[n++];if(r>=0)i(r,e,t[n++]);else{let a=t[n+-r];for(let s=-r;s>0;s--)i(t[n++],e,a);n++}}}this.nodeSet=new r.fI(t.map((t,i)=>r.Z6.define({name:i>=this.minRepeatTerm?void 0:t,id:i,props:a[i],top:n.indexOf(i)>-1,error:0==i,skipped:e.skippedNodes&&e.skippedNodes.indexOf(i)>-1}))),e.propSources&&(this.nodeSet=this.nodeSet.extend(...e.propSources)),this.strict=!1,this.bufferLength=r.cF;let s=l(e.tokenData);this.context=e.context,this.specializerSpecs=e.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let e=0;e<this.specializerSpecs.length;e++)this.specialized[e]=this.specializerSpecs[e].term;this.specializers=this.specializerSpecs.map(P),this.states=l(e.states,Uint32Array),this.data=l(e.stateData),this.goto=l(e.goto),this.maxTerm=e.maxTerm,this.tokenizers=e.tokenizers.map(e=>"number"==typeof e?new h(s,e):e),this.topRules=e.topRules,this.dialects=e.dialects||{},this.dynamicPrecedences=e.dynamicPrecedences||null,this.tokenPrecTable=e.tokenPrec,this.termNames=e.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(e,t,n){let r=new w(this,e,t,n);for(let a of this.wrappers)r=a(r,e,t,n);return r}getGoto(e,t,n=!1){let r=this.goto;if(t>=r[0])return-1;for(let a=r[t+1];;){let t=r[a++],i=1&t,s=r[a++];if(i&&n)return s;for(let n=a+(t>>1);a<n;a++)if(r[a]==e)return s;if(i)return-1}}hasAction(e,t){let n=this.data;for(let r=0;r<2;r++)for(let a,i=this.stateSlot(e,r?2:1);;i+=3){if(65535==(a=n[i])){if(1!=n[i+1]){if(2==n[i+1])return R(n,i+2);break}a=n[i=R(n,i+2)]}if(a==t||0==a)return R(n,i+1)}return 0}stateSlot(e,t){return this.states[6*e+t]}stateFlag(e,t){return(this.stateSlot(e,0)&t)>0}validAction(e,t){return!!this.allActions(e,e=>e==t||null)}allActions(e,t){let n=this.stateSlot(e,4),r=n?t(n):void 0;for(let n=this.stateSlot(e,1);null==r;n+=3){if(65535==this.data[n]){if(1!=this.data[n+1])break;n=R(this.data,n+2)}r=t(R(this.data,n+1))}return r}nextStates(e){let t=[];for(let n=this.stateSlot(e,1);;n+=3){if(65535==this.data[n]){if(1!=this.data[n+1])break;n=R(this.data,n+2)}if(!(1&this.data[n+2])){let e=this.data[n+1];t.some((t,n)=>1&n&&t==e)||t.push(this.data[n],e)}}return t}configure(e){let t=Object.assign(Object.create($.prototype),this);if(e.props&&(t.nodeSet=this.nodeSet.extend(...e.props)),e.top){let n=this.topRules[e.top];if(!n)throw new RangeError(`Invalid top rule name ${e.top}`);t.top=n}return e.tokenizers&&(t.tokenizers=this.tokenizers.map(t=>{let n=e.tokenizers.find(e=>e.from==t);return n?n.to:t})),e.specializers&&(t.specializers=this.specializers.slice(),t.specializerSpecs=this.specializerSpecs.map((n,r)=>{let a=e.specializers.find(e=>e.from==n.external);if(!a)return n;let i=Object.assign(Object.assign({},n),{external:a.to});return t.specializers[r]=P(i),i})),e.contextTracker&&(t.context=e.contextTracker),e.dialect&&(t.dialect=this.parseDialect(e.dialect)),null!=e.strict&&(t.strict=e.strict),e.wrap&&(t.wrappers=t.wrappers.concat(e.wrap)),null!=e.bufferLength&&(t.bufferLength=e.bufferLength),t}hasWrappers(){return this.wrappers.length>0}getName(e){return this.termNames?this.termNames[e]:String(e<=this.maxNode&&this.nodeSet.types[e].name||e)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(e){let t=this.dynamicPrecedences;return null==t?0:t[e]||0}parseDialect(e){let t=Object.keys(this.dialects),n=t.map(()=>!1);if(e)for(let r of e.split(" ")){let e=t.indexOf(r);e>=0&&(n[e]=!0)}let r=null;for(let e=0;e<t.length;e++)if(!n[e])for(let n,a=this.dialects[t[e]];65535!=(n=this.data[a++]);)(r||(r=new Uint8Array(this.maxTerm+1)))[n]=1;return new S(e,n,r)}static deserialize(e){return new $(e)}}function R(e,t){return e[t]|e[t+1]<<16}function P(e){if(e.external){let t=e.extend?1:0;return(n,r)=>e.external(n,r)<<1|t}return e.get}},878:(e,t,n)=>{"use strict";n.d(t,{H9:()=>Ko,x0:()=>El,yP:()=>Yc,mI:()=>Zc,P1:()=>md,No:()=>ep,n8:()=>hn,d0:()=>Jh,fS:()=>Bl,UU:()=>I,xK:()=>lh,gF:()=>oh,N0:()=>rh,Zv:()=>X,Es:()=>jc,vA:()=>ih,G1:()=>ah,Bs:()=>_,bZ:()=>S,So:()=>B,dt:()=>ul,dM:()=>mh,WM:()=>Hd,KE:()=>Fd,JZ:()=>K,Pj:()=>Wc,oh:()=>ae,$L:()=>gd,Sh:()=>kl,K8:()=>Fc,Eb:()=>Du,Lw:()=>bd,Gg:()=>r,pN:()=>Od,pY:()=>Q,jh:()=>eu,Go:()=>tp});var r={};n.r(r),n.d(r,{K2:()=>uu});var a=n(1159),i=n(7781),s=n(8531);function o(e,t,n){const r={...t};if(n)for(const e of Object.keys(r))n.includes(e)||delete r[e];return i.urlUtil.renderUrl(i.locationUtil.assureBaseUrl(e),r)}function l(e){const t=(0,a.useParams)(),n=(0,a.useLocation)();return{params:t,isExact:null!==(0,a.matchPath)({path:e,caseSensitive:!1,end:!0},n.pathname),path:n.pathname,url:n.pathname}}const u=new Map;var c=n(5959),d=n.t(c,2),h=n.n(c),p=n(1269);const f={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let g;const m=new Uint8Array(16);function v(){if(!g&&(g="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!g))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return g(m)}const b=[];for(let e=0;e<256;++e)b.push((e+256).toString(16).slice(1));function y(e,t=0){return b[e[t+0]]+b[e[t+1]]+b[e[t+2]]+b[e[t+3]]+"-"+b[e[t+4]]+b[e[t+5]]+"-"+b[e[t+6]]+b[e[t+7]]+"-"+b[e[t+8]]+b[e[t+9]]+"-"+b[e[t+10]]+b[e[t+11]]+b[e[t+12]]+b[e[t+13]]+b[e[t+14]]+b[e[t+15]]}const O=function(e,t,n){if(f.randomUUID&&!t&&!e)return f.randomUUID();const r=(e=e||{}).random||(e.rng||v)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(let e=0;e<16;++e)t[n+e]=r[e];return t}return y(r)};const w=h().memo(function({model:e,...t}){var n;const r=null!=(n=e.constructor.Component)?n:x,[a,i]=(0,c.useState)(0);return(0,c.useEffect)(()=>{const t=e.activate();return i(e=>e+1),t},[e]),e.isActive||e.renderBeforeActivation?h().createElement(r,{...t,model:e}):null});function x(e){return null}class S extends i.BusEventWithPayload{}S.type="scene-object-state-change";class $ extends i.BusEventWithPayload{}$.type="scene-object-user-action";var R,P=e=>{throw TypeError(e)},E=(e,t,n)=>t.has(e)||P("Cannot "+n);class k{constructor(e){var t,n,r;t=this,(n=R).has(t)?P("Cannot add the same private member more than once"):n instanceof WeakSet?n.add(t):n.set(t,r),((e,t,n)=>{E(e,t,"write to private field"),t.set(e,n)})(this,R,e)}resolve(){return E(e=this,t=R,"read from private field"),n?n.call(e):t.get(e);var e,t,n}}R=new WeakMap;class _{constructor(e){this._isActive=!1,this._activationHandlers=[],this._deactivationHandlers=new Map,this._subs=new p.Subscription,this._refCount=0,this._renderBeforeActivation=!1,e.key||(e.key=O()),this._events=new i.EventBusSrv,this._state=Object.freeze(e),this._setParent(this._state)}get state(){return this._state}get isActive(){return this._isActive}get renderBeforeActivation(){return this._renderBeforeActivation}get parent(){return this._parent}get variableDependency(){return this._variableDependency}get urlSync(){return this._urlSync}get Component(){return w}_setParent(e){T(e,e=>{e._parent&&e._parent!==this&&console.warn("SceneObject already has a parent set that is different from the new parent. You cannot share the same SceneObject instance in multiple scenes or in multiple different places of the same scene graph. Use SceneObject.clone() to duplicate a SceneObject or store a state key reference and use sceneGraph.findObject to locate it.",e,this),e._parent=this})}clearParent(){this._parent=void 0}subscribeToState(e){return this._events.subscribe(S,t=>{t.payload.changedObject===this&&e(t.payload.newState,t.payload.prevState)})}subscribeToEvent(e,t){return this._events.subscribe(e,t)}setState(e){const t=this._state,n={...this._state,...e};this._state=Object.freeze(n),this._setParent(e),this._handleActivationOfChangedStateProps(t,n),this.publishEvent(new S({prevState:t,newState:n,partialUpdate:e,changedObject:this}),!0)}_handleActivationOfChangedStateProps(e,t){this.isActive&&(e.$behaviors!==t.$behaviors&&this._handleChangedBehaviors(e.$behaviors,t.$behaviors),e.$data!==t.$data&&this._handleChangedStateActivation(e.$data,t.$data),e.$variables!==t.$variables&&this._handleChangedStateActivation(e.$variables,t.$variables),e.$timeRange!==t.$timeRange&&this._handleChangedStateActivation(e.$timeRange,t.$timeRange))}_handleChangedStateActivation(e,t){if(e){const t=this._deactivationHandlers.get(e);t&&(t(),this._deactivationHandlers.delete(e))}t&&this._deactivationHandlers.set(t,t.activate())}_handleChangedBehaviors(e,t){if(e)for(const n of e)if(!t||!t.includes(n)){const e=this._deactivationHandlers.get(n);e&&(e(),this._deactivationHandlers.delete(n))}if(t)for(const n of t)e&&e.includes(n)||this._activateBehavior(n)}publishEvent(e,t){this._events.publish(e),t&&this.parent&&this.parent.publishEvent(e,t)}getRoot(){return this._parent?this._parent.getRoot():this}_internalActivate(){this._isActive=!0;const{$data:e,$variables:t,$timeRange:n,$behaviors:r}=this.state;if(this._activationHandlers.forEach(e=>{const t=e();t&&this._deactivationHandlers.set(t,t)}),n&&!n.isActive&&this._deactivationHandlers.set(n,n.activate()),t&&!t.isActive&&this._deactivationHandlers.set(t,t.activate()),e&&!e.isActive&&this._deactivationHandlers.set(e,e.activate()),r)for(const e of r)this._activateBehavior(e)}_activateBehavior(e){if(e instanceof _)this._deactivationHandlers.set(e,e.activate());else if("function"==typeof e){const t=e(this);t&&this._deactivationHandlers.set(e,t)}}activate(){this.isActive||this._internalActivate(),this._refCount++;let e=!1;return()=>{if(this._refCount--,e){throw new Error("SceneObject cancelation handler returned by activate() called a second time")}e=!0,0===this._refCount&&this._internalDeactivate()}}_internalDeactivate(){this._isActive=!1;for(let e of this._deactivationHandlers.values())e();this._deactivationHandlers.clear(),this._events.removeAllListeners(),this._subs.unsubscribe(),this._subs=new p.Subscription}useState(){return C(this)}forceRender(){this.setState({})}clone(e){return function(e,t){const n=A(e.state,t);return new e.constructor(n)}(this,e)}addActivationHandler(e){this._activationHandlers.push(e)}forEachChild(e){T(this.state,e)}getRef(){return this._ref||(this._ref=new k(this)),this._ref}toJSON(){return{type:Object.getPrototypeOf(this).constructor.name,isActive:this.isActive,state:this.state}}}function C(e,t){var n;const[r,a]=(0,c.useState)(e.state),i=e.state,s=null!=(n=null==t?void 0:t.shouldActivateOrKeepAlive)&&n;return(0,c.useEffect)(()=>{let t;s&&(t=e.activate());const n=e.subscribeToState(e=>{a(e)});return e.state!==i&&a(e.state),()=>{n.unsubscribe(),t&&t()}},[e,s]),e.state}function T(e,t){for(const n of Object.values(e)){if(n instanceof _){if(!1===t(n))break}if(Array.isArray(n)){let e=!1;for(const r of n)if(r instanceof _){if(!1===t(r)){e=!0;break}}if(e)break}}}var D=n(3241);function A(e,t){const n={...e};Object.assign(n,t);for(const e in n){if(t&&void 0!==t[e])continue;const r=n[e];if(r instanceof k)console.warn("Cloning object with SceneObjectRef");else if(r instanceof _)n[e]=r.clone();else if(Array.isArray(r)){const t=[];for(const e of r)e instanceof _?t.push(e.clone()):"object"==typeof e?t.push((0,D.cloneDeep)(e)):t.push(e);n[e]=t}else n[e]="object"==typeof r?(0,D.cloneDeep)(r):r}return n}class I extends i.DataSourceApi{constructor(e,t){super({name:"RuntimeDataSource-"+e,uid:t,type:e,id:1,readOnly:!0,jsonData:{},access:"direct",meta:{id:e,name:"RuntimeDataSource-"+e,type:i.PluginType.datasource,info:{author:{name:""},description:"",links:[],logos:{large:"",small:""},screenshots:[],updated:"",version:""},module:"",baseUrl:""}})}testDatasource(){return Promise.resolve({})}}const L=new Map;function Q({dataSource:e}){if(L.has(e.uid))throw new Error(`A runtime data source with uid ${e.uid} has already been registered`);L.set(e.uid,e)}function N(e,t){const n=t.state.$variables;if(!n)return t.parent?N(e,t.parent):null;const r=n.getByName(e);return r||(t.parent?N(e,t.parent):null)}function V(e,t,...n){let r=!1;"undefined"!=typeof window&&(r="true"===localStorage.getItem("grafana.debug.scenes"))}new WeakMap,new WeakMap,new WeakMap,new WeakMap;function z(e){return"isQueryController"in e}function M(e){let t=e;for(;t;){if(t.state.$behaviors)for(const e of t.state.$behaviors)if(z(e))return e;t=t.parent}}new WeakMap,new WeakMap;var j=n(1625);j.ob.Auto;var F=(e=>(e.NotStarted="NotStarted",e.Loading="Loading",e.Streaming="Streaming",e.Done="Done",e.Error="Error",e))(F||{});class X extends _{constructor(e){super({data:U,...e})}getResultsStream(){const e={origin:this,data:this.state.data};return(0,p.of)(e)}}const U={state:F.Done,series:[],timeRange:(0,i.getDefaultTimeRange)()};class B{constructor(e,t){this._sceneObject=e,this._nextChangeShouldAddHistoryStep=!1,this._keys=t.keys}getKeys(){return"function"==typeof this._keys?this._keys():this._keys}getUrlState(){return this._sceneObject.getUrlState()}updateFromUrl(e){this._sceneObject.updateFromUrl(e)}shouldCreateHistoryStep(e){return this._nextChangeShouldAddHistoryStep}performBrowserHistoryAction(e){this._nextChangeShouldAddHistoryStep=!0,e(),this._nextChangeShouldAddHistoryStep=!1}}function q(e,t){let n,r=e;for(;r&&!n;)n=t(r),r=r.parent;return n}const W=/^\d+[yYmMsSwWhHdD]$/;function H(e){if("string"!=typeof e)return null;if(-1!==e.indexOf("now"))return e;if(W.test(e))return e;if(8===e.length){const t=(0,i.toUtc)(e,"YYYYMMDD");if(t.isValid())return t.toISOString()}else if(15===e.length){const t=(0,i.toUtc)(e,"YYYYMMDDTHHmmss");if(t.isValid())return t.toISOString()}else if(19===e.length){const t=(0,i.toUtc)(e,"YYYY-MM-DD HH:mm:ss");if(t.isValid())return t.toISOString()}else if(24===e.length){return(0,i.toUtc)(e).toISOString()}const t=parseInt(e,10);return isNaN(t)?null:(0,i.toUtc)(t).toISOString()}function G(e,t,n,r,a,s){const o=a&&"now"===t,l=Date.now();s&&function(e){e!==Y&&(Y=e,(0,i.setWeekStart)(e))}(s);const u=(e,t)=>i.dateMath.toDateTime?i.dateMath.toDateTime(e,t):i.dateMath.parse(e,t.roundUp,t.timezone,t.fiscalYearStartMonth);return{to:u(o?"now-"+a:t,{roundUp:!0,timezone:n,fiscalYearStartMonth:r,now:l}),from:u(e,{roundUp:!1,timezone:n,fiscalYearStartMonth:r,now:l}),raw:{from:e,to:t}}}let Y;function Z(e,t,n){if((0,i.isDateTime)(e))return e.isValid();if(i.dateMath.isMathString(e))return i.dateMath.isValid(e);return(0,i.dateTimeParse)(e,{roundUp:t,timeZone:n}).isValid()}class K extends _{constructor(e={}){var t;const n=e.from&&Z(e.from)?e.from:"now-6h",r=e.to&&Z(e.to)?e.to:"now",a=J(e.timeZone);super({from:n,to:r,timeZone:a,value:G(n,r,a||(0,i.getTimeZone)(),e.fiscalYearStartMonth,e.UNSAFE_nowDelay,e.weekStart),refreshOnActivate:null!=(t=e.refreshOnActivate)?t:{percent:10},...e}),this._urlSync=new B(this,{keys:["from","to","timezone","time","time.window"]}),this.onTimeRangeChange=e=>{const t={};if("string"==typeof e.raw.from?t.from=e.raw.from:t.from=e.raw.from.toISOString(),"string"==typeof e.raw.to?t.to=e.raw.to:t.to=e.raw.to.toISOString(),t.value=G(t.from,t.to,this.getTimeZone(),this.state.fiscalYearStartMonth,this.state.UNSAFE_nowDelay,this.state.weekStart),t.from!==this.state.from||t.to!==this.state.to){const e=M(this);null==e||e.startProfile("SceneTimeRange"),this._urlSync.performBrowserHistoryAction(()=>{this.setState(t)})}},this.onTimeZoneChange=e=>{this._urlSync.performBrowserHistoryAction(()=>{var t;const n=null!=(t=J(e))?t:j.vp,r=G(this.state.from,this.state.to,n,this.state.fiscalYearStartMonth,this.state.UNSAFE_nowDelay,this.state.weekStart);this.setState({timeZone:n,value:r})})},this.onRefresh=()=>{this.refreshRange(0),this.publishEvent(new s.RefreshEvent,!0)},this.addActivationHandler(this._onActivate.bind(this))}_onActivate(){if(!this.state.timeZone){const e=this.getTimeZoneSource();e!==this&&this._subs.add(e.subscribeToState((e,t)=>{void 0!==e.timeZone&&e.timeZone!==t.timeZone&&this.refreshRange(0)}))}return i.rangeUtil.isRelativeTimeRange(this.state.value.raw)&&this.refreshIfStale(),()=>{this.state.weekStart&&(0,i.setWeekStart)(s.config.bootData.user.weekStart)}}refreshIfStale(){var e,t,n,r;let a;void 0!==(null==(t=null==(e=this.state)?void 0:e.refreshOnActivate)?void 0:t.percent)&&(a=this.calculatePercentOfInterval(this.state.refreshOnActivate.percent)),void 0!==(null==(r=null==(n=this.state)?void 0:n.refreshOnActivate)?void 0:r.afterMs)&&(a=Math.min(this.state.refreshOnActivate.afterMs,null!=a?a:1/0)),void 0!==a&&this.refreshRange(a)}getTimeZoneSource(){if(!this.parent||!this.parent.parent)return this;const e=q(this.parent.parent,e=>{if(e.state.$timeRange&&e.state.$timeRange.state.timeZone)return e.state.$timeRange});return e||this}refreshRange(e){var t;const n=G(this.state.from,this.state.to,null!=(t=this.state.timeZone)?t:(0,i.getTimeZone)(),this.state.fiscalYearStartMonth,this.state.UNSAFE_nowDelay,this.state.weekStart);n.to.diff(this.state.value.to,"milliseconds")>=e&&this.setState({value:n})}calculatePercentOfInterval(e){const t=this.state.value.to.diff(this.state.value.from,"milliseconds");return Math.ceil(t/100*e)}getTimeZone(){if(this.state.timeZone&&J(this.state.timeZone))return this.state.timeZone;const e=this.getTimeZoneSource();return e!==this&&J(e.state.timeZone)?e.state.timeZone:(0,i.getTimeZone)()}getUrlState(){const e=s.locationService.getSearchObject(),t={from:this.state.from,to:this.state.to,timezone:this.getTimeZone()};return e.time&&e["time.window"]&&(t.time=null,t["time.window"]=null),t}updateFromUrl(e){var t,n,r;const a={};let s=H(e.from),o=H(e.to);if(e.time&&e["time.window"]){const t=function(e,t){const n=isNaN(Date.parse(e))?parseInt(e,10):Date.parse(e);let r;r=t.match(/^\d+$/)&&parseInt(t,10)?parseInt(t,10):i.rangeUtil.intervalToMs(t);return{from:(0,i.toUtc)(n-r/2).toISOString(),to:(0,i.toUtc)(n+r/2).toISOString()}}(Array.isArray(e.time)?e.time[0]:e.time,Array.isArray(e["time.window"])?e["time.window"][0]:e["time.window"]);t.from&&Z(t.from)&&(s=t.from),t.to&&Z(t.to)&&(o=t.to)}if(s&&Z(s)&&(a.from=s),o&&Z(o)&&(a.to=o),"string"==typeof e.timezone&&(a.timeZone=""!==e.timezone?e.timezone:void 0),0!==Object.keys(a).length)return a.value=G(null!=(t=a.from)?t:this.state.from,null!=(n=a.to)?n:this.state.to,null!=(r=a.timeZone)?r:this.getTimeZone(),this.state.fiscalYearStartMonth,this.state.UNSAFE_nowDelay,this.state.weekStart),this.setState(a)}}function J(e){if(void 0!==e&&""!==e)return e===j.vp||(0,i.getZone)(e)?e:void V()}const ee=new X,te=new K;const ne=new class extends _{constructor(){super({variables:[]})}getByName(e){}isVariableLoadingOrWaitingToUpdate(e){return!1}};function re(e){var t;return null!=(t=q(e,e=>e.state.$timeRange))?t:te}class ae extends i.BusEventWithPayload{}function ie(e){return"object"==typeof e&&"formatter"in e}ae.type="scene-variable-changed-value";let se,oe={};function le(e){const t=oe[e];return t||(oe[e]=(0,D.property)(e))}class ue{constructor(e,t){this.state={name:e,value:t,type:"scopedvar"}}getValue(e){let{value:t}=this.state,n=t.value;return n=e?le(e)(t.value):t.value,"string"===n||"number"===n||"boolean"===n?n:String(n)}getValueText(){const{value:e}=this.state;return null!=e.text?String(e.text):String(e)}}var ce=n(2540);const de=e=>"string"==typeof e,he=()=>{let e,t;const n=new Promise((n,r)=>{e=n,t=r});return n.resolve=e,n.reject=t,n},pe=e=>null==e?"":""+e,fe=/###/g,ge=e=>e&&e.indexOf("###")>-1?e.replace(fe,"."):e,me=e=>!e||de(e),ve=(e,t,n)=>{const r=de(t)?t.split("."):t;let a=0;for(;a<r.length-1;){if(me(e))return{};const t=ge(r[a]);!e[t]&&n&&(e[t]=new n),e=Object.prototype.hasOwnProperty.call(e,t)?e[t]:{},++a}return me(e)?{}:{obj:e,k:ge(r[a])}},be=(e,t,n)=>{const{obj:r,k:a}=ve(e,t,Object);if(void 0!==r||1===t.length)return void(r[a]=n);let i=t[t.length-1],s=t.slice(0,t.length-1),o=ve(e,s,Object);for(;void 0===o.obj&&s.length;)i=`${s[s.length-1]}.${i}`,s=s.slice(0,s.length-1),o=ve(e,s,Object),o?.obj&&void 0!==o.obj[`${o.k}.${i}`]&&(o.obj=void 0);o.obj[`${o.k}.${i}`]=n},ye=(e,t)=>{const{obj:n,k:r}=ve(e,t);if(n&&Object.prototype.hasOwnProperty.call(n,r))return n[r]},Oe=(e,t,n)=>{for(const r in t)"__proto__"!==r&&"constructor"!==r&&(r in e?de(e[r])||e[r]instanceof String||de(t[r])||t[r]instanceof String?n&&(e[r]=t[r]):Oe(e[r],t[r],n):e[r]=t[r]);return e},we=e=>e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var xe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const Se=e=>de(e)?e.replace(/[&<>"'\/]/g,e=>xe[e]):e;const $e=[" ",",","?","!",";"],Re=new class{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const t=this.regExpMap.get(e);if(void 0!==t)return t;const n=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,n),this.regExpQueue.push(e),n}}(20),Pe=(e,t,n=".")=>{if(!e)return;if(e[t]){if(!Object.prototype.hasOwnProperty.call(e,t))return;return e[t]}const r=t.split(n);let a=e;for(let e=0;e<r.length;){if(!a||"object"!=typeof a)return;let t,i="";for(let s=e;s<r.length;++s)if(s!==e&&(i+=n),i+=r[s],t=a[i],void 0!==t){if(["string","number","boolean"].indexOf(typeof t)>-1&&s<r.length-1)continue;e+=s-e+1;break}a=t}return a},Ee=e=>e?.replace("_","-"),ke={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){console?.[e]?.apply?.(console,t)}};class _e{constructor(e,t={}){this.init(e,t)}init(e,t={}){this.prefix=t.prefix||"i18next:",this.logger=e||ke,this.options=t,this.debug=t.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,t,n,r){return r&&!this.debug?null:(de(e[0])&&(e[0]=`${n}${this.prefix} ${e[0]}`),this.logger[t](e))}create(e){return new _e(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return(e=e||this.options).prefix=e.prefix||this.prefix,new _e(this.logger,e)}}var Ce=new _e;class Te{constructor(){this.observers={}}on(e,t){return e.split(" ").forEach(e=>{this.observers[e]||(this.observers[e]=new Map);const n=this.observers[e].get(t)||0;this.observers[e].set(t,n+1)}),this}off(e,t){this.observers[e]&&(t?this.observers[e].delete(t):delete this.observers[e])}emit(e,...t){if(this.observers[e]){Array.from(this.observers[e].entries()).forEach(([e,n])=>{for(let r=0;r<n;r++)e(...t)})}if(this.observers["*"]){Array.from(this.observers["*"].entries()).forEach(([n,r])=>{for(let a=0;a<r;a++)n.apply(n,[e,...t])})}}}class De extends Te{constructor(e,t={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=t,void 0===this.options.keySeparator&&(this.options.keySeparator="."),void 0===this.options.ignoreJSONStructure&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}getResource(e,t,n,r={}){const a=void 0!==r.keySeparator?r.keySeparator:this.options.keySeparator,i=void 0!==r.ignoreJSONStructure?r.ignoreJSONStructure:this.options.ignoreJSONStructure;let s;e.indexOf(".")>-1?s=e.split("."):(s=[e,t],n&&(Array.isArray(n)?s.push(...n):de(n)&&a?s.push(...n.split(a)):s.push(n)));const o=ye(this.data,s);return!o&&!t&&!n&&e.indexOf(".")>-1&&(e=s[0],t=s[1],n=s.slice(2).join(".")),!o&&i&&de(n)?Pe(this.data?.[e]?.[t],n,a):o}addResource(e,t,n,r,a={silent:!1}){const i=void 0!==a.keySeparator?a.keySeparator:this.options.keySeparator;let s=[e,t];n&&(s=s.concat(i?n.split(i):n)),e.indexOf(".")>-1&&(s=e.split("."),r=t,t=s[1]),this.addNamespaces(t),be(this.data,s,r),a.silent||this.emit("added",e,t,n,r)}addResources(e,t,n,r={silent:!1}){for(const r in n)(de(n[r])||Array.isArray(n[r]))&&this.addResource(e,t,r,n[r],{silent:!0});r.silent||this.emit("added",e,t,n)}addResourceBundle(e,t,n,r,a,i={silent:!1,skipCopy:!1}){let s=[e,t];e.indexOf(".")>-1&&(s=e.split("."),r=n,n=t,t=s[1]),this.addNamespaces(t);let o=ye(this.data,s)||{};i.skipCopy||(n=JSON.parse(JSON.stringify(n))),r?Oe(o,n,a):o={...o,...n},be(this.data,s,o),i.silent||this.emit("added",e,t,n)}removeResourceBundle(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}hasResourceBundle(e,t){return void 0!==this.getResource(e,t)}getResourceBundle(e,t){return t||(t=this.options.defaultNS),this.getResource(e,t)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find(e=>t[e]&&Object.keys(t[e]).length>0)}toJSON(){return this.data}}var Ae={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,n,r,a){return e.forEach(e=>{t=this.processors[e]?.process(t,n,r,a)??t}),t}};const Ie={},Le=e=>!de(e)&&"boolean"!=typeof e&&"number"!=typeof e;class Qe extends Te{constructor(e,t={}){super(),((e,t,n)=>{e.forEach(e=>{t[e]&&(n[e]=t[e])})})(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=t,void 0===this.options.keySeparator&&(this.options.keySeparator="."),this.logger=Ce.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,t={interpolation:{}}){const n={...t};if(null==e)return!1;const r=this.resolve(e,n);return void 0!==r?.res}extractFromKey(e,t){let n=void 0!==t.nsSeparator?t.nsSeparator:this.options.nsSeparator;void 0===n&&(n=":");const r=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator;let a=t.ns||this.options.defaultNS||[];const i=n&&e.indexOf(n)>-1,s=!(this.options.userDefinedKeySeparator||t.keySeparator||this.options.userDefinedNsSeparator||t.nsSeparator||((e,t,n)=>{t=t||"",n=n||"";const r=$e.filter(e=>t.indexOf(e)<0&&n.indexOf(e)<0);if(0===r.length)return!0;const a=Re.getRegExp(`(${r.map(e=>"?"===e?"\\?":e).join("|")})`);let i=!a.test(e);if(!i){const t=e.indexOf(n);t>0&&!a.test(e.substring(0,t))&&(i=!0)}return i})(e,n,r));if(i&&!s){const t=e.match(this.interpolator.nestingRegexp);if(t&&t.length>0)return{key:e,namespaces:de(a)?[a]:a};const i=e.split(n);(n!==r||n===r&&this.options.ns.indexOf(i[0])>-1)&&(a=i.shift()),e=i.join(r)}return{key:e,namespaces:de(a)?[a]:a}}translate(e,t,n){let r="object"==typeof t?{...t}:t;if("object"!=typeof r&&this.options.overloadTranslationOptionHandler&&(r=this.options.overloadTranslationOptionHandler(arguments)),"object"==typeof options&&(r={...r}),r||(r={}),null==e)return"";Array.isArray(e)||(e=[String(e)]);const a=void 0!==r.returnDetails?r.returnDetails:this.options.returnDetails,i=void 0!==r.keySeparator?r.keySeparator:this.options.keySeparator,{key:s,namespaces:o}=this.extractFromKey(e[e.length-1],r),l=o[o.length-1];let u=void 0!==r.nsSeparator?r.nsSeparator:this.options.nsSeparator;void 0===u&&(u=":");const c=r.lng||this.language,d=r.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if("cimode"===c?.toLowerCase())return d?a?{res:`${l}${u}${s}`,usedKey:s,exactUsedKey:s,usedLng:c,usedNS:l,usedParams:this.getUsedParamsDetails(r)}:`${l}${u}${s}`:a?{res:s,usedKey:s,exactUsedKey:s,usedLng:c,usedNS:l,usedParams:this.getUsedParamsDetails(r)}:s;const h=this.resolve(e,r);let p=h?.res;const f=h?.usedKey||s,g=h?.exactUsedKey||s,m=void 0!==r.joinArrays?r.joinArrays:this.options.joinArrays,v=!this.i18nFormat||this.i18nFormat.handleAsObject,b=void 0!==r.count&&!de(r.count),y=Qe.hasDefaultValue(r),O=b?this.pluralResolver.getSuffix(c,r.count,r):"",w=r.ordinal&&b?this.pluralResolver.getSuffix(c,r.count,{ordinal:!1}):"",x=b&&!r.ordinal&&0===r.count,S=x&&r[`defaultValue${this.options.pluralSeparator}zero`]||r[`defaultValue${O}`]||r[`defaultValue${w}`]||r.defaultValue;let $=p;v&&!p&&y&&($=S);const R=Le($),P=Object.prototype.toString.apply($);if(!(v&&$&&R&&["[object Number]","[object Function]","[object RegExp]"].indexOf(P)<0)||de(m)&&Array.isArray($))if(v&&de(m)&&Array.isArray(p))p=p.join(m),p&&(p=this.extendTranslation(p,e,r,n));else{let t=!1,a=!1;!this.isValidLookup(p)&&y&&(t=!0,p=S),this.isValidLookup(p)||(a=!0,p=s);const o=(r.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&a?void 0:p,d=y&&S!==p&&this.options.updateMissing;if(a||t||d){if(this.logger.log(d?"updateKey":"missingKey",c,l,s,d?S:p),i){const e=this.resolve(s,{...r,keySeparator:!1});e&&e.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let e=[];const t=this.languageUtils.getFallbackCodes(this.options.fallbackLng,r.lng||this.language);if("fallback"===this.options.saveMissingTo&&t&&t[0])for(let n=0;n<t.length;n++)e.push(t[n]);else"all"===this.options.saveMissingTo?e=this.languageUtils.toResolveHierarchy(r.lng||this.language):e.push(r.lng||this.language);const n=(e,t,n)=>{const a=y&&n!==p?n:o;this.options.missingKeyHandler?this.options.missingKeyHandler(e,l,t,a,d,r):this.backendConnector?.saveMissing&&this.backendConnector.saveMissing(e,l,t,a,d,r),this.emit("missingKey",e,l,t,p)};this.options.saveMissing&&(this.options.saveMissingPlurals&&b?e.forEach(e=>{const t=this.pluralResolver.getSuffixes(e,r);x&&r[`defaultValue${this.options.pluralSeparator}zero`]&&t.indexOf(`${this.options.pluralSeparator}zero`)<0&&t.push(`${this.options.pluralSeparator}zero`),t.forEach(t=>{n([e],s+t,r[`defaultValue${t}`]||S)})}):n(e,s,S))}p=this.extendTranslation(p,e,r,h,n),a&&p===s&&this.options.appendNamespaceToMissingKey&&(p=`${l}${u}${s}`),(a||t)&&this.options.parseMissingKeyHandler&&(p=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${l}${u}${s}`:s,t?p:void 0,r))}else{if(!r.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const e=this.options.returnedObjectHandler?this.options.returnedObjectHandler(f,$,{...r,ns:o}):`key '${s} (${this.language})' returned an object instead of string.`;return a?(h.res=e,h.usedParams=this.getUsedParamsDetails(r),h):e}if(i){const e=Array.isArray($),t=e?[]:{},n=e?g:f;for(const e in $)if(Object.prototype.hasOwnProperty.call($,e)){const a=`${n}${i}${e}`;t[e]=y&&!p?this.translate(a,{...r,defaultValue:Le(S)?S[e]:void 0,joinArrays:!1,ns:o}):this.translate(a,{...r,joinArrays:!1,ns:o}),t[e]===a&&(t[e]=$[e])}p=t}}return a?(h.res=p,h.usedParams=this.getUsedParamsDetails(r),h):p}extendTranslation(e,t,n,r,a){if(this.i18nFormat?.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...n},n.lng||this.language||r.usedLng,r.usedNS,r.usedKey,{resolved:r});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init({...n,interpolation:{...this.options.interpolation,...n.interpolation}});const i=de(e)&&(void 0!==n?.interpolation?.skipOnVariables?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let s;if(i){const t=e.match(this.interpolator.nestingRegexp);s=t&&t.length}let o=n.replace&&!de(n.replace)?n.replace:n;if(this.options.interpolation.defaultVariables&&(o={...this.options.interpolation.defaultVariables,...o}),e=this.interpolator.interpolate(e,o,n.lng||this.language||r.usedLng,n),i){const t=e.match(this.interpolator.nestingRegexp);s<(t&&t.length)&&(n.nest=!1)}!n.lng&&r&&r.res&&(n.lng=this.language||r.usedLng),!1!==n.nest&&(e=this.interpolator.nest(e,(...e)=>a?.[0]!==e[0]||n.context?this.translate(...e,t):(this.logger.warn(`It seems you are nesting recursively key: ${e[0]} in key: ${t[0]}`),null),n)),n.interpolation&&this.interpolator.reset()}const i=n.postProcess||this.options.postProcess,s=de(i)?[i]:i;return null!=e&&s?.length&&!1!==n.applyPostProcessor&&(e=Ae.handle(s,e,t,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...r,usedParams:this.getUsedParamsDetails(n)},...n}:n,this)),e}resolve(e,t={}){let n,r,a,i,s;return de(e)&&(e=[e]),e.forEach(e=>{if(this.isValidLookup(n))return;const o=this.extractFromKey(e,t),l=o.key;r=l;let u=o.namespaces;this.options.fallbackNS&&(u=u.concat(this.options.fallbackNS));const c=void 0!==t.count&&!de(t.count),d=c&&!t.ordinal&&0===t.count,h=void 0!==t.context&&(de(t.context)||"number"==typeof t.context)&&""!==t.context,p=t.lngs?t.lngs:this.languageUtils.toResolveHierarchy(t.lng||this.language,t.fallbackLng);u.forEach(e=>{this.isValidLookup(n)||(s=e,Ie[`${p[0]}-${e}`]||!this.utils?.hasLoadedNamespace||this.utils?.hasLoadedNamespace(s)||(Ie[`${p[0]}-${e}`]=!0,this.logger.warn(`key "${r}" for languages "${p.join(", ")}" won't get resolved as namespace "${s}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),p.forEach(r=>{if(this.isValidLookup(n))return;i=r;const s=[l];if(this.i18nFormat?.addLookupKeys)this.i18nFormat.addLookupKeys(s,l,r,e,t);else{let e;c&&(e=this.pluralResolver.getSuffix(r,t.count,t));const n=`${this.options.pluralSeparator}zero`,a=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(c&&(s.push(l+e),t.ordinal&&0===e.indexOf(a)&&s.push(l+e.replace(a,this.options.pluralSeparator)),d&&s.push(l+n)),h){const r=`${l}${this.options.contextSeparator}${t.context}`;s.push(r),c&&(s.push(r+e),t.ordinal&&0===e.indexOf(a)&&s.push(r+e.replace(a,this.options.pluralSeparator)),d&&s.push(r+n))}}let o;for(;o=s.pop();)this.isValidLookup(n)||(a=o,n=this.getResource(r,e,o,t))}))})}),{res:n,usedKey:r,exactUsedKey:a,usedLng:i,usedNS:s}}isValidLookup(e){return!(void 0===e||!this.options.returnNull&&null===e||!this.options.returnEmptyString&&""===e)}getResource(e,t,n,r={}){return this.i18nFormat?.getResource?this.i18nFormat.getResource(e,t,n,r):this.resourceStore.getResource(e,t,n,r)}getUsedParamsDetails(e={}){const t=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],n=e.replace&&!de(e.replace);let r=n?e.replace:e;if(n&&void 0!==e.count&&(r.count=e.count),this.options.interpolation.defaultVariables&&(r={...this.options.interpolation.defaultVariables,...r}),!n){r={...r};for(const e of t)delete r[e]}return r}static hasDefaultValue(e){const t="defaultValue";for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t===n.substring(0,12)&&void 0!==e[n])return!0;return!1}}class Ne{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Ce.create("languageUtils")}getScriptPartFromCode(e){if(!(e=Ee(e))||e.indexOf("-")<0)return null;const t=e.split("-");return 2===t.length?null:(t.pop(),"x"===t[t.length-1].toLowerCase()?null:this.formatLanguageCode(t.join("-")))}getLanguagePartFromCode(e){if(!(e=Ee(e))||e.indexOf("-")<0)return e;const t=e.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(e){if(de(e)&&e.indexOf("-")>-1){let t;try{t=Intl.getCanonicalLocales(e)[0]}catch(e){}return t&&this.options.lowerCaseLng&&(t=t.toLowerCase()),t||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return("languageOnly"===this.options.load||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let t;return e.forEach(e=>{if(t)return;const n=this.formatLanguageCode(e);this.options.supportedLngs&&!this.isSupportedCode(n)||(t=n)}),!t&&this.options.supportedLngs&&e.forEach(e=>{if(t)return;const n=this.getScriptPartFromCode(e);if(this.isSupportedCode(n))return t=n;const r=this.getLanguagePartFromCode(e);if(this.isSupportedCode(r))return t=r;t=this.options.supportedLngs.find(e=>e===r?e:e.indexOf("-")<0&&r.indexOf("-")<0?void 0:e.indexOf("-")>0&&r.indexOf("-")<0&&e.substring(0,e.indexOf("-"))===r||0===e.indexOf(r)&&r.length>1?e:void 0)}),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t}getFallbackCodes(e,t){if(!e)return[];if("function"==typeof e&&(e=e(t)),de(e)&&(e=[e]),Array.isArray(e))return e;if(!t)return e.default||[];let n=e[t];return n||(n=e[this.getScriptPartFromCode(t)]),n||(n=e[this.formatLanguageCode(t)]),n||(n=e[this.getLanguagePartFromCode(t)]),n||(n=e.default),n||[]}toResolveHierarchy(e,t){const n=this.getFallbackCodes((!1===t?[]:t)||this.options.fallbackLng||[],e),r=[],a=e=>{e&&(this.isSupportedCode(e)?r.push(e):this.logger.warn(`rejecting language code not found in supportedLngs: ${e}`))};return de(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?("languageOnly"!==this.options.load&&a(this.formatLanguageCode(e)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&a(this.getScriptPartFromCode(e)),"currentOnly"!==this.options.load&&a(this.getLanguagePartFromCode(e))):de(e)&&a(this.formatLanguageCode(e)),n.forEach(e=>{r.indexOf(e)<0&&a(this.formatLanguageCode(e))}),r}}const Ve={zero:0,one:1,two:2,few:3,many:4,other:5},ze={select:e=>1===e?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class Me{constructor(e,t={}){this.languageUtils=e,this.options=t,this.logger=Ce.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,t){this.rules[e]=t}clearCache(){this.pluralRulesCache={}}getRule(e,t={}){const n=Ee("dev"===e?"en":e),r=t.ordinal?"ordinal":"cardinal",a=JSON.stringify({cleanedCode:n,type:r});if(a in this.pluralRulesCache)return this.pluralRulesCache[a];let i;try{i=new Intl.PluralRules(n,{type:r})}catch(n){if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),ze;if(!e.match(/-|_/))return ze;const r=this.languageUtils.getLanguagePartFromCode(e);i=this.getRule(r,t)}return this.pluralRulesCache[a]=i,i}needsPlural(e,t={}){let n=this.getRule(e,t);return n||(n=this.getRule("dev",t)),n?.resolvedOptions().pluralCategories.length>1}getPluralFormsOfKey(e,t,n={}){return this.getSuffixes(e,n).map(e=>`${t}${e}`)}getSuffixes(e,t={}){let n=this.getRule(e,t);return n||(n=this.getRule("dev",t)),n?n.resolvedOptions().pluralCategories.sort((e,t)=>Ve[e]-Ve[t]).map(e=>`${this.options.prepend}${t.ordinal?`ordinal${this.options.prepend}`:""}${e}`):[]}getSuffix(e,t,n={}){const r=this.getRule(e,n);return r?`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${r.select(t)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",t,n))}}const je=(e,t,n,r=".",a=!0)=>{let i=((e,t,n)=>{const r=ye(e,n);return void 0!==r?r:ye(t,n)})(e,t,n);return!i&&a&&de(n)&&(i=Pe(e,n,r),void 0===i&&(i=Pe(t,n,r))),i},Fe=e=>e.replace(/\$/g,"$$$$");class Xe{constructor(e={}){this.logger=Ce.create("interpolator"),this.options=e,this.format=e?.interpolation?.format||(e=>e),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});const{escape:t,escapeValue:n,useRawValueToEscape:r,prefix:a,prefixEscaped:i,suffix:s,suffixEscaped:o,formatSeparator:l,unescapeSuffix:u,unescapePrefix:c,nestingPrefix:d,nestingPrefixEscaped:h,nestingSuffix:p,nestingSuffixEscaped:f,nestingOptionsSeparator:g,maxReplaces:m,alwaysFormat:v}=e.interpolation;this.escape=void 0!==t?t:Se,this.escapeValue=void 0===n||n,this.useRawValueToEscape=void 0!==r&&r,this.prefix=a?we(a):i||"{{",this.suffix=s?we(s):o||"}}",this.formatSeparator=l||",",this.unescapePrefix=u?"":c||"-",this.unescapeSuffix=this.unescapePrefix?"":u||"",this.nestingPrefix=d?we(d):h||we("$t("),this.nestingSuffix=p?we(p):f||we(")"),this.nestingOptionsSeparator=g||",",this.maxReplaces=m||1e3,this.alwaysFormat=void 0!==v&&v,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(e,t)=>e?.source===t?(e.lastIndex=0,e):new RegExp(t,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,t,n,r){let a,i,s;const o=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},l=e=>{if(e.indexOf(this.formatSeparator)<0){const a=je(t,o,e,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(a,void 0,n,{...r,...t,interpolationkey:e}):a}const a=e.split(this.formatSeparator),i=a.shift().trim(),s=a.join(this.formatSeparator).trim();return this.format(je(t,o,i,this.options.keySeparator,this.options.ignoreJSONStructure),s,n,{...r,...t,interpolationkey:i})};this.resetRegExp();const u=r?.missingInterpolationHandler||this.options.missingInterpolationHandler,c=void 0!==r?.interpolation?.skipOnVariables?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:e=>Fe(e)},{regex:this.regexp,safeValue:e=>this.escapeValue?Fe(this.escape(e)):Fe(e)}].forEach(t=>{for(s=0;a=t.regex.exec(e);){const n=a[1].trim();if(i=l(n),void 0===i)if("function"==typeof u){const t=u(e,a,r);i=de(t)?t:""}else if(r&&Object.prototype.hasOwnProperty.call(r,n))i="";else{if(c){i=a[0];continue}this.logger.warn(`missed to pass in variable ${n} for interpolating ${e}`),i=""}else de(i)||this.useRawValueToEscape||(i=pe(i));const o=t.safeValue(i);if(e=e.replace(a[0],o),c?(t.regex.lastIndex+=i.length,t.regex.lastIndex-=a[0].length):t.regex.lastIndex=0,s++,s>=this.maxReplaces)break}}),e}nest(e,t,n={}){let r,a,i;const s=(e,t)=>{const n=this.nestingOptionsSeparator;if(e.indexOf(n)<0)return e;const r=e.split(new RegExp(`${n}[ ]*{`));let a=`{${r[1]}`;e=r[0],a=this.interpolate(a,i);const s=a.match(/'/g),o=a.match(/"/g);((s?.length??0)%2==0&&!o||o.length%2!=0)&&(a=a.replace(/'/g,'"'));try{i=JSON.parse(a),t&&(i={...t,...i})}catch(t){return this.logger.warn(`failed parsing options string in nesting for key ${e}`,t),`${e}${n}${a}`}return i.defaultValue&&i.defaultValue.indexOf(this.prefix)>-1&&delete i.defaultValue,e};for(;r=this.nestingRegexp.exec(e);){let o=[];i={...n},i=i.replace&&!de(i.replace)?i.replace:i,i.applyPostProcessor=!1,delete i.defaultValue;const l=/{.*}/.test(r[1])?r[1].lastIndexOf("}")+1:r[1].indexOf(this.formatSeparator);if(-1!==l&&(o=r[1].slice(l).split(this.formatSeparator).map(e=>e.trim()).filter(Boolean),r[1]=r[1].slice(0,l)),a=t(s.call(this,r[1].trim(),i),i),a&&r[0]===e&&!de(a))return a;de(a)||(a=pe(a)),a||(this.logger.warn(`missed to resolve ${r[1]} for nesting ${e}`),a=""),o.length&&(a=o.reduce((e,t)=>this.format(e,t,n.lng,{...n,interpolationkey:r[1].trim()}),a.trim())),e=e.replace(r[0],a),this.regexp.lastIndex=0}return e}}const Ue=e=>{const t={};return(n,r,a)=>{let i=a;a&&a.interpolationkey&&a.formatParams&&a.formatParams[a.interpolationkey]&&a[a.interpolationkey]&&(i={...i,[a.interpolationkey]:void 0});const s=r+JSON.stringify(i);let o=t[s];return o||(o=e(Ee(r),a),t[s]=o),o(n)}},Be=e=>(t,n,r)=>e(Ee(n),r)(t);class qe{constructor(e={}){this.logger=Ce.create("formatter"),this.options=e,this.init(e)}init(e,t={interpolation:{}}){this.formatSeparator=t.interpolation.formatSeparator||",";const n=t.cacheInBuiltFormats?Ue:Be;this.formats={number:n((e,t)=>{const n=new Intl.NumberFormat(e,{...t});return e=>n.format(e)}),currency:n((e,t)=>{const n=new Intl.NumberFormat(e,{...t,style:"currency"});return e=>n.format(e)}),datetime:n((e,t)=>{const n=new Intl.DateTimeFormat(e,{...t});return e=>n.format(e)}),relativetime:n((e,t)=>{const n=new Intl.RelativeTimeFormat(e,{...t});return e=>n.format(e,t.range||"day")}),list:n((e,t)=>{const n=new Intl.ListFormat(e,{...t});return e=>n.format(e)})}}add(e,t){this.formats[e.toLowerCase().trim()]=t}addCached(e,t){this.formats[e.toLowerCase().trim()]=Ue(t)}format(e,t,n,r={}){const a=t.split(this.formatSeparator);if(a.length>1&&a[0].indexOf("(")>1&&a[0].indexOf(")")<0&&a.find(e=>e.indexOf(")")>-1)){const e=a.findIndex(e=>e.indexOf(")")>-1);a[0]=[a[0],...a.splice(1,e)].join(this.formatSeparator)}const i=a.reduce((e,t)=>{const{formatName:a,formatOptions:i}=(e=>{let t=e.toLowerCase().trim();const n={};if(e.indexOf("(")>-1){const r=e.split("(");t=r[0].toLowerCase().trim();const a=r[1].substring(0,r[1].length-1);"currency"===t&&a.indexOf(":")<0?n.currency||(n.currency=a.trim()):"relativetime"===t&&a.indexOf(":")<0?n.range||(n.range=a.trim()):a.split(";").forEach(e=>{if(e){const[t,...r]=e.split(":"),a=r.join(":").trim().replace(/^'+|'+$/g,""),i=t.trim();n[i]||(n[i]=a),"false"===a&&(n[i]=!1),"true"===a&&(n[i]=!0),isNaN(a)||(n[i]=parseInt(a,10))}})}return{formatName:t,formatOptions:n}})(t);if(this.formats[a]){let t=e;try{const s=r?.formatParams?.[r.interpolationkey]||{},o=s.locale||s.lng||r.locale||r.lng||n;t=this.formats[a](e,o,{...i,...r,...s})}catch(e){this.logger.warn(e)}return t}return this.logger.warn(`there was no format function for ${a}`),e},e);return i}}class We extends Te{constructor(e,t,n,r={}){super(),this.backend=e,this.store=t,this.services=n,this.languageUtils=n.languageUtils,this.options=r,this.logger=Ce.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=r.maxParallelReads||10,this.readingCalls=0,this.maxRetries=r.maxRetries>=0?r.maxRetries:5,this.retryTimeout=r.retryTimeout>=1?r.retryTimeout:350,this.state={},this.queue=[],this.backend?.init?.(n,r.backend,r)}queueLoad(e,t,n,r){const a={},i={},s={},o={};return e.forEach(e=>{let r=!0;t.forEach(t=>{const s=`${e}|${t}`;!n.reload&&this.store.hasResourceBundle(e,t)?this.state[s]=2:this.state[s]<0||(1===this.state[s]?void 0===i[s]&&(i[s]=!0):(this.state[s]=1,r=!1,void 0===i[s]&&(i[s]=!0),void 0===a[s]&&(a[s]=!0),void 0===o[t]&&(o[t]=!0)))}),r||(s[e]=!0)}),(Object.keys(a).length||Object.keys(i).length)&&this.queue.push({pending:i,pendingCount:Object.keys(i).length,loaded:{},errors:[],callback:r}),{toLoad:Object.keys(a),pending:Object.keys(i),toLoadLanguages:Object.keys(s),toLoadNamespaces:Object.keys(o)}}loaded(e,t,n){const r=e.split("|"),a=r[0],i=r[1];t&&this.emit("failedLoading",a,i,t),!t&&n&&this.store.addResourceBundle(a,i,n,void 0,void 0,{skipCopy:!0}),this.state[e]=t?-1:2,t&&n&&(this.state[e]=0);const s={};this.queue.forEach(n=>{((e,t,n)=>{const{obj:r,k:a}=ve(e,t,Object);r[a]=r[a]||[],r[a].push(n)})(n.loaded,[a],i),((e,t)=>{void 0!==e.pending[t]&&(delete e.pending[t],e.pendingCount--)})(n,e),t&&n.errors.push(t),0!==n.pendingCount||n.done||(Object.keys(n.loaded).forEach(e=>{s[e]||(s[e]={});const t=n.loaded[e];t.length&&t.forEach(t=>{void 0===s[e][t]&&(s[e][t]=!0)})}),n.done=!0,n.errors.length?n.callback(n.errors):n.callback())}),this.emit("loaded",s),this.queue=this.queue.filter(e=>!e.done)}read(e,t,n,r=0,a=this.retryTimeout,i){if(!e.length)return i(null,{});if(this.readingCalls>=this.maxParallelReads)return void this.waitingReads.push({lng:e,ns:t,fcName:n,tried:r,wait:a,callback:i});this.readingCalls++;const s=(s,o)=>{if(this.readingCalls--,this.waitingReads.length>0){const e=this.waitingReads.shift();this.read(e.lng,e.ns,e.fcName,e.tried,e.wait,e.callback)}s&&o&&r<this.maxRetries?setTimeout(()=>{this.read.call(this,e,t,n,r+1,2*a,i)},a):i(s,o)},o=this.backend[n].bind(this.backend);if(2!==o.length)return o(e,t,s);try{const n=o(e,t);n&&"function"==typeof n.then?n.then(e=>s(null,e)).catch(s):s(null,n)}catch(e){s(e)}}prepareLoading(e,t,n={},r){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),r&&r();de(e)&&(e=this.languageUtils.toResolveHierarchy(e)),de(t)&&(t=[t]);const a=this.queueLoad(e,t,n,r);if(!a.toLoad.length)return a.pending.length||r(),null;a.toLoad.forEach(e=>{this.loadOne(e)})}load(e,t,n){this.prepareLoading(e,t,{},n)}reload(e,t,n){this.prepareLoading(e,t,{reload:!0},n)}loadOne(e,t=""){const n=e.split("|"),r=n[0],a=n[1];this.read(r,a,"read",void 0,void 0,(n,i)=>{n&&this.logger.warn(`${t}loading namespace ${a} for language ${r} failed`,n),!n&&i&&this.logger.log(`${t}loaded namespace ${a} for language ${r}`,i),this.loaded(e,n,i)})}saveMissing(e,t,n,r,a,i={},s=()=>{}){if(!this.services?.utils?.hasLoadedNamespace||this.services?.utils?.hasLoadedNamespace(t)){if(null!=n&&""!==n){if(this.backend?.create){const o={...i,isUpdate:a},l=this.backend.create.bind(this.backend);if(l.length<6)try{let a;a=5===l.length?l(e,t,n,r,o):l(e,t,n,r),a&&"function"==typeof a.then?a.then(e=>s(null,e)).catch(s):s(null,a)}catch(e){s(e)}else l(e,t,n,r,s,o)}e&&e[0]&&this.store.addResource(e[0],t,n,r)}}else this.logger.warn(`did not save key "${n}" as the namespace "${t}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")}}const He=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:e=>{let t={};if("object"==typeof e[1]&&(t=e[1]),de(e[1])&&(t.defaultValue=e[1]),de(e[2])&&(t.tDescription=e[2]),"object"==typeof e[2]||"object"==typeof e[3]){const n=e[3]||e[2];Object.keys(n).forEach(e=>{t[e]=n[e]})}return t},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),Ge=e=>(de(e.ns)&&(e.ns=[e.ns]),de(e.fallbackLng)&&(e.fallbackLng=[e.fallbackLng]),de(e.fallbackNS)&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs?.indexOf?.("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),"boolean"==typeof e.initImmediate&&(e.initAsync=e.initImmediate),e),Ye=()=>{};class Ze extends Te{constructor(e={},t){var n;if(super(),this.options=Ge(e),this.services={},this.logger=Ce,this.modules={external:[]},n=this,Object.getOwnPropertyNames(Object.getPrototypeOf(n)).forEach(e=>{"function"==typeof n[e]&&(n[e]=n[e].bind(n))}),t&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,t),this;setTimeout(()=>{this.init(e,t)},0)}}init(e={},t){this.isInitializing=!0,"function"==typeof e&&(t=e,e={}),null==e.defaultNS&&e.ns&&(de(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const n=He();this.options={...n,...this.options,...Ge(e)},this.options.interpolation={...n.interpolation,...this.options.interpolation},void 0!==e.keySeparator&&(this.options.userDefinedKeySeparator=e.keySeparator),void 0!==e.nsSeparator&&(this.options.userDefinedNsSeparator=e.nsSeparator);const r=e=>e?"function"==typeof e?new e:e:null;if(!this.options.isClone){let e;this.modules.logger?Ce.init(r(this.modules.logger),this.options):Ce.init(null,this.options),e=this.modules.formatter?this.modules.formatter:qe;const t=new Ne(this.options);this.store=new De(this.options.resources,this.options);const a=this.services;a.logger=Ce,a.resourceStore=this.store,a.languageUtils=t,a.pluralResolver=new Me(t,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix});this.options.interpolation.format&&this.options.interpolation.format!==n.interpolation.format&&this.logger.warn("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),!e||this.options.interpolation.format&&this.options.interpolation.format!==n.interpolation.format||(a.formatter=r(e),a.formatter.init&&a.formatter.init(a,this.options),this.options.interpolation.format=a.formatter.format.bind(a.formatter)),a.interpolator=new Xe(this.options),a.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},a.backendConnector=new We(r(this.modules.backend),a.resourceStore,a,this.options),a.backendConnector.on("*",(e,...t)=>{this.emit(e,...t)}),this.modules.languageDetector&&(a.languageDetector=r(this.modules.languageDetector),a.languageDetector.init&&a.languageDetector.init(a,this.options.detection,this.options)),this.modules.i18nFormat&&(a.i18nFormat=r(this.modules.i18nFormat),a.i18nFormat.init&&a.i18nFormat.init(this)),this.translator=new Qe(this.services,this.options),this.translator.on("*",(e,...t)=>{this.emit(e,...t)}),this.modules.external.forEach(e=>{e.init&&e.init(this)})}if(this.format=this.options.interpolation.format,t||(t=Ye),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const e=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);e.length>0&&"dev"!==e[0]&&(this.options.lng=e[0])}this.services.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined");["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(e=>{this[e]=(...t)=>this.store[e](...t)});["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(e=>{this[e]=(...t)=>(this.store[e](...t),this)});const a=he(),i=()=>{const e=(e,n)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),a.resolve(n),t(e,n)};if(this.languages&&!this.isInitialized)return e(null,this.t.bind(this));this.changeLanguage(this.options.lng,e)};return this.options.resources||!this.options.initAsync?i():setTimeout(i,0),a}loadResources(e,t=Ye){let n=t;const r=de(e)?e:this.language;if("function"==typeof e&&(n=e),!this.options.resources||this.options.partialBundledLanguages){if("cimode"===r?.toLowerCase()&&(!this.options.preload||0===this.options.preload.length))return n();const e=[],t=t=>{if(!t)return;if("cimode"===t)return;this.services.languageUtils.toResolveHierarchy(t).forEach(t=>{"cimode"!==t&&e.indexOf(t)<0&&e.push(t)})};if(r)t(r);else{this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(e=>t(e))}this.options.preload?.forEach?.(e=>t(e)),this.services.backendConnector.load(e,this.options.ns,e=>{e||this.resolvedLanguage||!this.language||this.setResolvedLanguage(this.language),n(e)})}else n(null)}reloadResources(e,t,n){const r=he();return"function"==typeof e&&(n=e,e=void 0),"function"==typeof t&&(n=t,t=void 0),e||(e=this.languages),t||(t=this.options.ns),n||(n=Ye),this.services.backendConnector.reload(e,t,e=>{r.resolve(),n(e)}),r}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return"backend"===e.type&&(this.modules.backend=e),("logger"===e.type||e.log&&e.warn&&e.error)&&(this.modules.logger=e),"languageDetector"===e.type&&(this.modules.languageDetector=e),"i18nFormat"===e.type&&(this.modules.i18nFormat=e),"postProcessor"===e.type&&Ae.addPostProcessor(e),"formatter"===e.type&&(this.modules.formatter=e),"3rdParty"===e.type&&this.modules.external.push(e),this}setResolvedLanguage(e){if(e&&this.languages&&!(["cimode","dev"].indexOf(e)>-1)){for(let e=0;e<this.languages.length;e++){const t=this.languages[e];if(!(["cimode","dev"].indexOf(t)>-1)&&this.store.hasLanguageSomeTranslations(t)){this.resolvedLanguage=t;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,t){this.isLanguageChangingTo=e;const n=he();this.emit("languageChanging",e);const r=e=>{this.language=e,this.languages=this.services.languageUtils.toResolveHierarchy(e),this.resolvedLanguage=void 0,this.setResolvedLanguage(e)},a=(a,i)=>{i?this.isLanguageChangingTo===e&&(r(i),this.translator.changeLanguage(i),this.isLanguageChangingTo=void 0,this.emit("languageChanged",i),this.logger.log("languageChanged",i)):this.isLanguageChangingTo=void 0,n.resolve((...e)=>this.t(...e)),t&&t(a,(...e)=>this.t(...e))},i=t=>{e||t||!this.services.languageDetector||(t=[]);const n=de(t)?t:t&&t[0],i=this.store.hasLanguageSomeTranslations(n)?n:this.services.languageUtils.getBestMatchFromCodes(de(t)?[t]:t);i&&(this.language||r(i),this.translator.language||this.translator.changeLanguage(i),this.services.languageDetector?.cacheUserLanguage?.(i)),this.loadResources(i,e=>{a(e,i)})};return e||!this.services.languageDetector||this.services.languageDetector.async?!e&&this.services.languageDetector&&this.services.languageDetector.async?0===this.services.languageDetector.detect.length?this.services.languageDetector.detect().then(i):this.services.languageDetector.detect(i):i(e):i(this.services.languageDetector.detect()),n}getFixedT(e,t,n){const r=(e,t,...a)=>{let i;i="object"!=typeof t?this.options.overloadTranslationOptionHandler([e,t].concat(a)):{...t},i.lng=i.lng||r.lng,i.lngs=i.lngs||r.lngs,i.ns=i.ns||r.ns,""!==i.keyPrefix&&(i.keyPrefix=i.keyPrefix||n||r.keyPrefix);const s=this.options.keySeparator||".";let o;return o=i.keyPrefix&&Array.isArray(e)?e.map(e=>`${i.keyPrefix}${s}${e}`):i.keyPrefix?`${i.keyPrefix}${s}${e}`:e,this.t(o,i)};return de(e)?r.lng=e:r.lngs=e,r.ns=t,r.keyPrefix=n,r}t(...e){return this.translator?.translate(...e)}exists(...e){return this.translator?.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,t={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const n=t.lng||this.resolvedLanguage||this.languages[0],r=!!this.options&&this.options.fallbackLng,a=this.languages[this.languages.length-1];if("cimode"===n.toLowerCase())return!0;const i=(e,t)=>{const n=this.services.backendConnector.state[`${e}|${t}`];return-1===n||0===n||2===n};if(t.precheck){const e=t.precheck(this,i);if(void 0!==e)return e}return!!this.hasResourceBundle(n,e)||(!(this.services.backendConnector.backend&&(!this.options.resources||this.options.partialBundledLanguages))||!(!i(n,e)||r&&!i(a,e)))}loadNamespaces(e,t){const n=he();return this.options.ns?(de(e)&&(e=[e]),e.forEach(e=>{this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}),this.loadResources(e=>{n.resolve(),t&&t(e)}),n):(t&&t(),Promise.resolve())}loadLanguages(e,t){const n=he();de(e)&&(e=[e]);const r=this.options.preload||[],a=e.filter(e=>r.indexOf(e)<0&&this.services.languageUtils.isSupportedCode(e));return a.length?(this.options.preload=r.concat(a),this.loadResources(e=>{n.resolve(),t&&t(e)}),n):(t&&t(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages?.length>0?this.languages[0]:this.language)),!e)return"rtl";try{const t=new Intl.Locale(e);if(t&&t.getTextInfo){const e=t.getTextInfo();if(e&&e.direction)return e.direction}}catch(e){}const t=this.services?.languageUtils||new Ne(He());return e.toLowerCase().indexOf("-latn")>1?"ltr":["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"].indexOf(t.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},t){return new Ze(e,t)}cloneInstance(e={},t=Ye){const n=e.forkResourceStore;n&&delete e.forkResourceStore;const r={...this.options,...e,isClone:!0},a=new Ze(r);void 0===e.debug&&void 0===e.prefix||(a.logger=a.logger.clone(e));if(["store","services","language"].forEach(e=>{a[e]=this[e]}),a.services={...this.services},a.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},n){const e=Object.keys(this.store.data).reduce((e,t)=>(e[t]={...this.store.data[t]},e[t]=Object.keys(e[t]).reduce((n,r)=>(n[r]={...e[t][r]},n),e[t]),e),{});a.store=new De(e,r),a.services.resourceStore=a.store}return a.translator=new Qe(a.services,r),a.translator.on("*",(e,...t)=>{a.emit(e,...t)}),a.init(r,t),a.translator.options=r,a.translator.backendConnector.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},a}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Ke=Ze.createInstance();Ke.createInstance=Ze.createInstance;Ke.createInstance,Ke.dir,Ke.init,Ke.loadResources,Ke.reloadResources,Ke.use,Ke.changeLanguage,Ke.getFixedT,Ke.t,Ke.exists,Ke.setDefaultNamespace,Ke.hasLoadedNamespace,Ke.loadNamespaces,Ke.loadLanguages;const{slice:Je,forEach:et}=[];let tt=!1;try{document.cookie,tt=!0}catch(e){}const nt=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];tt||nt.splice(1,1);var rt=n(7151),at=n.n(rt),it=/\s([^'"/\s><]+?)[\s/>]|([^\s=]+)=\s?(".*?"|'.*?')/g;function st(e){var t={type:"tag",name:"",voidElement:!1,attrs:{},children:[]},n=e.match(/<\/?([^\s]+?)[/\s>]/);if(n&&(t.name=n[1],(at()[n[1]]||"/"===e.charAt(e.length-2))&&(t.voidElement=!0),t.name.startsWith("!--"))){var r=e.indexOf("--\x3e");return{type:"comment",comment:-1!==r?e.slice(4,r):""}}for(var a=new RegExp(it),i=null;null!==(i=a.exec(e));)if(i[0].trim())if(i[1]){var s=i[1].trim(),o=[s,""];s.indexOf("=")>-1&&(o=s.split("=")),t.attrs[o[0]]=o[1],a.lastIndex--}else i[2]&&(t.attrs[i[2]]=i[3].trim().substring(1,i[3].length-1));return t}var ot=/<[a-zA-Z0-9\-\!\/](?:"[^"]*"|'[^']*'|[^'">])*>/g,lt=/^\s*$/,ut=Object.create(null);function ct(e,t){switch(t.type){case"text":return e+t.content;case"tag":return e+="<"+t.name+(t.attrs?function(e){var t=[];for(var n in e)t.push(n+'="'+e[n]+'"');return t.length?" "+t.join(" "):""}(t.attrs):"")+(t.voidElement?"/>":">"),t.voidElement?e:e+t.children.reduce(ct,"")+"</"+t.name+">";case"comment":return e+"\x3c!--"+t.comment+"--\x3e"}}var dt={parse:function(e,t){t||(t={}),t.components||(t.components=ut);var n,r=[],a=[],i=-1,s=!1;if(0!==e.indexOf("<")){var o=e.indexOf("<");r.push({type:"text",content:-1===o?e:e.substring(0,o)})}return e.replace(ot,function(o,l){if(s){if(o!=="</"+n.name+">")return;s=!1}var u,c="/"!==o.charAt(1),d=o.startsWith("\x3c!--"),h=l+o.length,p=e.charAt(h);if(d){var f=st(o);return i<0?(r.push(f),r):((u=a[i]).children.push(f),r)}if(c&&(i++,"tag"===(n=st(o)).type&&t.components[n.name]&&(n.type="component",s=!0),n.voidElement||s||!p||"<"===p||n.children.push({type:"text",content:e.slice(h,e.indexOf("<",h))}),0===i&&r.push(n),(u=a[i-1])&&u.children.push(n),a[i]=n),(!c||n.voidElement)&&(i>-1&&(n.voidElement||n.name===o.slice(2,-1))&&(i--,n=-1===i?r:a[i]),!s&&"<"!==p&&p)){u=-1===i?r:a[i].children;var g=e.indexOf("<",h),m=e.slice(h,-1===g?void 0:g);lt.test(m)&&(m=" "),(g>-1&&i+u.length>=0||" "!==m)&&u.push({type:"text",content:m})}}),r},stringify:function(e){return e.reduce(function(e,t){return e+ct("",t)},"")}};const ht=dt,pt=(e,t,n,r)=>{const a=[n,{code:t,...r||{}}];if(e?.services?.logger?.forward)return e.services.logger.forward(a,"warn","react-i18next::",!0);mt(a[0])&&(a[0]=`react-i18next:: ${a[0]}`),e?.services?.logger?.warn?e.services.logger.warn(...a):console?.warn&&console.warn(...a)},ft={},gt=(e,t,n,r)=>{mt(n)&&ft[n]||(mt(n)&&(ft[n]=new Date),pt(e,t,n,r))},mt=e=>"string"==typeof e,vt=e=>"object"==typeof e&&null!==e,bt=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,yt={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},Ot=e=>yt[e];let wt={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:e=>e.replace(bt,Ot)};let xt;const St=()=>xt,$t=(e,t)=>{if(!e)return!1;const n=e.props?.children??e.children;return t?n.length>0:!!n},Rt=e=>{if(!e)return[];const t=e.props?.children??e.children;return e.props?.i18nIsDynamicList?Pt(t):t},Pt=e=>Array.isArray(e)?e:[e],Et=(e,t,n,r)=>{if(!e)return"";let a="";const i=Pt(e),s=t?.transSupportBasicHtmlNodes?t.transKeepBasicHtmlNodesFor??[]:[];return i.forEach((e,i)=>{if(mt(e))a+=`${e}`;else{if((0,c.isValidElement)(e)){const{props:o,type:l}=e,u=Object.keys(o).length,c=s.indexOf(l)>-1,d=o.children;if(!d&&c&&!u)return void(a+=`<${l}/>`);if(!d&&(!c||u)||o.i18nIsDynamicList)return void(a+=`<${i}></${i}>`);if(c&&1===u&&mt(d))return void(a+=`<${l}>${d}</${l}>`);const h=Et(d,t,n,r);return void(a+=`<${i}>${h}</${i}>`)}if(null!==e){if(vt(e)){const{format:t,...i}=e,s=Object.keys(i);if(1===s.length){const e=t?`${s[0]}, ${t}`:s[0];return void(a+=`{{${e}}}`)}return void pt(n,"TRANS_INVALID_OBJ","Invalid child - Object should only have keys {{ value, format }} (format is optional).",{i18nKey:r,child:e})}pt(n,"TRANS_INVALID_VAR","Passed in a variable like {number} - pass variables for interpolation as full objects like {{number}}.",{i18nKey:r,child:e})}else pt(n,"TRANS_NULL_VALUE","Passed in a null value as child",{i18nKey:r})}}),a},kt=(e,t,n,r,a,i,s)=>{if(""===n)return[];const o=a.transKeepBasicHtmlNodesFor||[],l=n&&new RegExp(o.map(e=>`<${e}`).join("|")).test(n);if(!(e||t||l||s))return[n];const u=t??{},d=e=>{Pt(e).forEach(e=>{mt(e)||($t(e)?d(Rt(e)):vt(e)&&!(0,c.isValidElement)(e)&&Object.assign(u,e))})};d(e);const h=ht.parse(`<0>${n}</0>`),p={...u,...i},f=(e,t,n)=>{const r=Rt(e),a=m(r,t.children,n);return(e=>Array.isArray(e)&&e.every(c.isValidElement))(r)&&0===a.length||e.props?.i18nIsDynamicList?r:a},g=(e,t,n,r,a)=>{e.dummy?(e.children=t,n.push((0,c.cloneElement)(e,{key:r},a?void 0:t))):n.push(...c.Children.map([e],e=>{const n={...e.props};return delete n.i18nIsDynamicList,(0,c.createElement)(e.type,{...n,key:r,ref:e.props.ref??e.ref},a?null:t)}))},m=(e,n,i)=>{const u=Pt(e);return Pt(n).reduce((e,n,d)=>{const h=n.children?.[0]?.content&&r.services.interpolator.interpolate(n.children[0].content,p,r.language);if("tag"===n.type){let s=u[parseInt(n.name,10)];!s&&t&&(s=t[n.name]),1!==i.length||s||(s=i[0][n.name]),s||(s={});const v=0!==Object.keys(n.attrs).length?((e,t)=>{const n={...t};return n.props=Object.assign(e.props,t.props),n})({props:n.attrs},s):s,b=(0,c.isValidElement)(v),y=b&&$t(n,!0)&&!n.voidElement,O=l&&vt(v)&&v.dummy&&!b,w=vt(t)&&Object.hasOwnProperty.call(t,n.name);if(mt(v)){const t=r.services.interpolator.interpolate(v,p,r.language);e.push(t)}else if($t(v)||y){const t=f(v,n,i);g(v,t,e,d)}else if(O){const t=m(u,n.children,i);g(v,t,e,d)}else if(Number.isNaN(parseFloat(n.name)))if(w){const t=f(v,n,i);g(v,t,e,d,n.voidElement)}else if(a.transSupportBasicHtmlNodes&&o.indexOf(n.name)>-1)if(n.voidElement)e.push((0,c.createElement)(n.name,{key:`${n.name}-${d}`}));else{const t=m(u,n.children,i);e.push((0,c.createElement)(n.name,{key:`${n.name}-${d}`},t))}else if(n.voidElement)e.push(`<${n.name} />`);else{const t=m(u,n.children,i);e.push(`<${n.name}>${t}</${n.name}>`)}else if(vt(v)&&!b){const t=n.children[0]?h:null;t&&e.push(t)}else g(v,h,e,d,1!==n.children.length||!h)}else if("text"===n.type){const t=a.transWrapTextNodes,i=s?a.unescape(r.services.interpolator.interpolate(n.content,p,r.language)):r.services.interpolator.interpolate(n.content,p,r.language);t?e.push((0,c.createElement)(t,{key:`${n.name}-${d}`},i)):e.push(i)}return e},[])},v=m([{dummy:!0,children:e||[]}],h,Pt(e||[]));return Rt(v[0])},_t=(e,t,n)=>{const r=e.key||t,a=(0,c.cloneElement)(e,{key:r});if(!a.props||!a.props.children||n.indexOf(`${t}/>`)<0&&n.indexOf(`${t} />`)<0)return a;return(0,c.createElement)(function(){return(0,c.createElement)(c.Fragment,null,a)},{key:r})},Ct=(e,t,n,r)=>e?Array.isArray(e)?((e,t)=>e.map((e,n)=>_t(e,n,t)))(e,t):vt(e)?((e,t)=>{const n={};return Object.keys(e).forEach(r=>{Object.assign(n,{[r]:_t(e[r],r,t)})}),n})(e,t):(gt(n,"TRANS_INVALID_COMPONENTS",'<Trans /> "components" prop expects an object or array',{i18nKey:r}),null):null;function Tt({children:e,count:t,parent:n,i18nKey:r,context:a,tOptions:i={},values:s,defaults:o,components:l,ns:u,i18n:d,t:h,shouldUnescape:p,...f}){const g=d||St();if(!g)return gt(g,"NO_I18NEXT_INSTANCE","Trans: You need to pass in an i18next instance using i18nextReactModule",{i18nKey:r}),e;const m=h||g.t.bind(g)||(e=>e),v={...wt,...g.options?.react};let b=u||m.ns||g.options?.defaultNS;b=mt(b)?[b]:b||["translation"];const y=Et(e,v,g,r),O=o||y||v.transEmptyNodeValue||r,{hashTransKey:w}=v,x=r||(w?w(y||O):y||O);g.options?.interpolation?.defaultVariables&&(s=s&&Object.keys(s).length>0?{...s,...g.options.interpolation.defaultVariables}:{...g.options.interpolation.defaultVariables});const S=s||void 0!==t&&!g.options?.interpolation?.alwaysFormat||!e?i.interpolation:{interpolation:{...i.interpolation,prefix:"#$?",suffix:"?$#"}},$={...i,context:a||i.context,count:t,...s,...S,defaultValue:O,ns:b},R=x?m(x,$):O,P=Ct(l,R,g,r);let E=P||e,k=null;var _;vt(_=P)&&!Array.isArray(_)&&Object.keys(_).reduce((e,t)=>e&&Number.isNaN(Number.parseFloat(t)),!0)&&(k=P,E=e);const C=kt(E,k,R,g,v,$,p),T=n??v.defaultTransParent;return T?(0,c.createElement)(T,f,C):C}const Dt={type:"3rdParty",init(e){((e={})=>{wt={...wt,...e}})(e.options.react),(e=>{xt=e})(e)}},At=(0,c.createContext)();function It({children:e,count:t,parent:n,i18nKey:r,context:a,tOptions:i={},values:s,defaults:o,components:l,ns:u,i18n:d,t:h,shouldUnescape:p,...f}){const{i18n:g,defaultNS:m}=(0,c.useContext)(At)||{},v=d||g||St(),b=h||v?.t.bind(v);return Tt({children:e,count:t,parent:n,i18nKey:r,context:a,tOptions:i,values:s,defaults:o,components:l,ns:u||b?.ns||m||v?.options?.defaultNS,i18n:v,t:h,shouldUnescape:p,...f})}const Lt="en-US",Qt=Lt,Nt=[{code:Lt,name:"English"},{code:"fr-FR",name:"Français"},{code:"es-ES",name:"Español"},{code:"de-DE",name:"Deutsch"},{code:"zh-Hans",name:"中文（简体）"},{code:"pt-BR",name:"Português Brasileiro"},{code:"zh-Hant",name:"中文（繁體）"},{code:"it-IT",name:"Italiano"},{code:"ja-JP",name:"日本語"},{code:"id-ID",name:"Bahasa Indonesia"},{code:"ko-KR",name:"한국어"},{code:"ru-RU",name:"Русский"},{code:"cs-CZ",name:"Čeština"},{code:"nl-NL",name:"Nederlands"},{code:"hu-HU",name:"Magyar"},{code:"pt-PT",name:"Português"},{code:"pl-PL",name:"Polski"},{code:"sv-SE",name:"Svenska"},{code:"tr-TR",name:"Türkçe"}];let Vt,zt;function Mt({id:e,ns:t}={}){if(e)return Vt=Ft().getFixedT(null,e),void(zt=t=>(0,ce.jsx)(It,{shouldUnescape:!0,ns:e,...t}));Vt=Ft().t,zt=e=>(0,ce.jsx)(It,{shouldUnescape:!0,ns:t,...e})}function jt(){var e;if((null==(e=Ft().options)?void 0:e.resources)&&"object"==typeof Ft().options.resources)return;const t=Ft().use(Dt).init({resources:{},returnEmptyString:!1,lng:Qt});return Mt(),t}function Ft(){return Ke}const Xt=(e,t,n)=>(jt(),Vt||(console.warn("t() was called before i18n was initialized. This is probably caused by calling t() in the root module scope, instead of lazily on render"),Vt=Ft().t),Vt(e,t,n));function Ut(e){jt();const t=null!=zt?zt:It;return(0,ce.jsx)(t,{shouldUnescape:!0,...e})}const Bt=new i.Registry(()=>{const e=[{id:j.$m.Lucene,name:"Lucene",description:"Values are lucene escaped and multi-valued variables generate an OR expression",formatter:e=>{if("string"==typeof e)return qt(e);if(Array.isArray(e)){if(0===e.length)return"__empty__";return"("+(0,D.map)(e,e=>'"'+qt(e)+'"').join(" OR ")+")"}return qt(`${e}`)}},{id:j.$m.Raw,name:"raw",description:Xt("grafana-scenes.variables.format-registry.formats.description.keep-value-as-is","Keep value as is"),formatter:e=>String(e)},{id:j.$m.Regex,name:"Regex",description:"Values are regex escaped and multi-valued variables generate a (<value>|<value>) expression",formatter:e=>{if("string"==typeof e)return(0,i.escapeRegex)(e);if(Array.isArray(e)){const t=e.map(e=>"string"==typeof e?(0,i.escapeRegex)(e):(0,i.escapeRegex)(String(e)));return 1===t.length?t[0]:"("+t.join("|")+")"}return(0,i.escapeRegex)(`${e}`)}},{id:j.$m.Pipe,name:"Pipe",description:Xt("grafana-scenes.variables.format-registry.formats.description.values-are-separated-by-character","Values are separated by | character"),formatter:e=>"string"==typeof e?e:Array.isArray(e)?e.join("|"):`${e}`},{id:j.$m.Distributed,name:"Distributed",description:Xt("grafana-scenes.variables.format-registry.formats.description.multiple-values-are-formatted-like-variablevalue","Multiple values are formatted like variable=value"),formatter:(e,t,n)=>"string"==typeof e?e:Array.isArray(e)?(e=(0,D.map)(e,(e,t)=>0!==t?n.state.name+"="+e:e),e.join(",")):`${e}`},{id:j.$m.CSV,name:"Csv",description:Xt("grafana-scenes.variables.format-registry.formats.description.commaseparated-values","Comma-separated values"),formatter:e=>"string"==typeof e?e:(0,D.isArray)(e)?e.join(","):String(e)},{id:j.$m.HTML,name:"HTML",description:Xt("grafana-scenes.variables.format-registry.formats.description.html-escaping-of-values","HTML escaping of values"),formatter:e=>"string"==typeof e?i.textUtil.escapeHtml(e):(0,D.isArray)(e)?i.textUtil.escapeHtml(e.join(", ")):i.textUtil.escapeHtml(String(e))},{id:j.$m.JSON,name:"JSON",description:Xt("grafana-scenes.variables.format-registry.formats.description.json-stringify-value","JSON stringify value"),formatter:e=>"string"==typeof e?e:JSON.stringify(e)},{id:j.$m.PercentEncode,name:"Percent encode",description:Xt("grafana-scenes.variables.format-registry.formats.description.useful-for-url-escaping-values","Useful for URL escaping values"),formatter:e=>(0,D.isArray)(e)?Wt("{"+e.join(",")+"}"):Wt(e)},{id:j.$m.SingleQuote,name:"Single quote",description:Xt("grafana-scenes.variables.format-registry.formats.description.single-quoted-values","Single quoted values"),formatter:e=>{const t=new RegExp("'","g");if((0,D.isArray)(e))return(0,D.map)(e,e=>`'${(0,D.replace)(e,t,"\\'")}'`).join(",");let n="string"==typeof e?e:String(e);return`'${(0,D.replace)(n,t,"\\'")}'`}},{id:j.$m.DoubleQuote,name:"Double quote",description:Xt("grafana-scenes.variables.format-registry.formats.description.double-quoted-values","Double quoted values"),formatter:e=>{const t=new RegExp('"',"g");if((0,D.isArray)(e))return(0,D.map)(e,e=>`"${(0,D.replace)(e,t,'\\"')}"`).join(",");let n="string"==typeof e?e:String(e);return`"${(0,D.replace)(n,t,'\\"')}"`}},{id:j.$m.SQLString,name:"SQL string",description:"SQL string quoting and commas for use in IN statements and other scenarios",formatter:Jt},{id:"join",name:"Join",description:"Join values with a comma",formatter:(e,t)=>{var n;if((0,D.isArray)(e)){const r=null!=(n=t[0])?n:",";return e.join(r)}return String(e)}},{id:j.$m.Date,name:"Date",description:Xt("grafana-scenes.variables.format-registry.formats.description.format-date-in-different-ways","Format date in different ways"),formatter:(e,t)=>{var n;let r=NaN;if("number"==typeof e?r=e:"string"==typeof e&&(r=parseInt(e,10)),isNaN(r))return"NaN";const a=null!=(n=t[0])?n:"iso";switch(a){case"ms":return String(e);case"seconds":return`${Math.round(r/1e3)}`;case"iso":return(0,i.dateTime)(r).toISOString();default:return(t||[]).length>1?(0,i.dateTime)(r).format(t.join(":")):(0,i.dateTime)(r).format(a)}}},{id:j.$m.Glob,name:"Glob",description:Xt("grafana-scenes.variables.format-registry.formats.description.format-multivalued-variables-using-syntax-example","Format multi-valued variables using glob syntax, example {value1,value2}"),formatter:e=>(0,D.isArray)(e)&&e.length>1?"{"+e.join(",")+"}":String(e)},{id:j.$m.Text,name:"Text",description:"Format variables in their text representation. Example in multi-variable scenario A + B + C.",formatter:(e,t,n)=>n.getValueText?n.getValueText():String(e)},{id:j.$m.QueryParam,name:"Query parameter",description:"Format variables as URL parameters. Example in multi-variable scenario A + B + C => var-foo=A&var-foo=B&var-foo=C.",formatter:(e,t,n)=>{if(n.urlSync){const e=n.urlSync.getUrlState();return i.urlUtil.toUrlParams(e)}return Array.isArray(e)?e.map(e=>Yt(n.state.name,e)).join("&"):Yt(n.state.name,e)}},{id:"customqueryparam",name:"Custom query parameter",description:"Format variables as URL parameters with custom name and value prefix. Example in multi-variable scenario A + B + C => p-foo=x-A&p-foo=x-B&p-foo=x-C.",formatter:(e,t,n)=>{const r=Wt(t[0]||n.state.name),a=Wt(t[1]||"");return Array.isArray(e)?e.map(e=>Zt(r,e,a)).join("&"):Zt(r,e,a)}},{id:j.$m.UriEncode,name:"Percent encode as URI",description:Xt("grafana-scenes.variables.format-registry.formats.description.useful-escaping-values-taking-syntax-characters","Useful for URL escaping values, taking into URI syntax characters"),formatter:e=>(0,D.isArray)(e)?Ht("{"+e.join(",")+"}"):Ht(e)}];return e});function qt(e){return!1===isNaN(+e)?e:e.replace(/([\!\*\+\-\=<>\s\&\|\(\)\[\]\{\}\^\~\?\:\\/"])/g,"\\$1")}function Wt(e){return"object"==typeof e&&(e=String(e)),Gt(encodeURIComponent(e))}const Ht=e=>Gt(encodeURI(String(e))),Gt=e=>e.replace(/[!'()*]/g,e=>"%"+e.charCodeAt(0).toString(16).toUpperCase());function Yt(e,t){return`var-${e}=${Wt(t)}`}function Zt(e,t,n=""){return`${e}=${n}${Wt(t)}`}const Kt={"'":"''",'"':'\\"'};function Jt(e){const t=new RegExp("'|\"","g");if((0,D.isArray)(e))return(0,D.map)(e,e=>`'${(0,D.replace)(e,t,e=>{var t;return null!=(t=Kt[e])?t:""})}'`).join(",");let n="string"==typeof e?e:String(e);return`'${(0,D.replace)(n,t,e=>{var t;return null!=(t=Kt[e])?t:""})}'`}const en="All",tn="$__all",nn="$__auto",rn=/\$(\w+)|\[\[(\w+?)(?::(\w+))?\]\]|\${(\w+)(?:\.([^:^\}]+))?(?::([^\}]+))?}/g,an="__searchFilter",sn="__scopes";class on{constructor(e){this._value=e}formatter(){return this._value}}class ln{constructor(e,t){this.state={name:e,type:"time_macro"},this._sceneObject=t}getValue(){const e=re(this._sceneObject);return"__from"===this.state.name?e.state.value.from.valueOf():e.state.value.to.valueOf()}getValueText(){const e=re(this._sceneObject);return"__from"===this.state.name?(0,i.dateTimeFormat)(e.state.value.from,{timeZone:e.getTimeZone()}):(0,i.dateTimeFormat)(e.state.value.to,{timeZone:e.getTimeZone()})}}class un{constructor(e,t,n){this.state={name:e,type:"time_macro",match:n},this._sceneObject=t}getValue(){var e;const t=Gl(this._sceneObject);if(t){const n=null==(e=t.state.data)?void 0:e.request;return n?"__interval_ms"===this.state.name?n.intervalMs:n.interval:this.state.match}return this.state.match}}function cn(e,t){e.setState(t)}function dn(){return s.useLocationService?(0,s.useLocationService)():s.locationService}class hn extends _{constructor(){super(...arguments),this._urlSync=new pn(this)}validateAndUpdate(){return this.getValueOptions({}).pipe((0,p.map)(e=>(this.updateValueGivenNewOptions(e),{})))}onCancel(){this.setStateHelper({loading:!1});const e=this.parent;null==e||e.cancel(this)}updateValueGivenNewOptions(e){const{value:t,text:n,options:r}=this.state,a=this.getStateUpdateGivenNewOptions(e,t,n);this.interceptStateUpdateAfterValidation(a),this.setStateHelper(a),(a.value!==t||a.text!==n||this.hasAllValue()&&!(0,D.isEqual)(e,r))&&this.publishEvent(new ae(this),!0)}getStateUpdateGivenNewOptions(e,t,n){const r={options:e,loading:!1,value:t,text:n};if(0===e.length)return this.state.defaultToAll||this.state.includeAll?(r.value=tn,r.text=en):this.state.isMulti?(r.value=[],r.text=[]):(r.value="",r.text=""),r;if(this.hasAllValue())return this.state.includeAll?r.text=en:(r.value=e[0].value,r.text=e[0].label,this.state.isMulti&&(r.value=[r.value],r.text=[r.text])),r;if(this.state.isMulti){const a=(Array.isArray(t)?t:[t]).filter(t=>e.find(e=>e.value===t)),i=a.map(t=>e.find(e=>e.value===t).label);if(0===a.length){const t=this.getDefaultMultiState(e);r.value=t.value,r.text=t.text}else(0,D.isEqual)(a,t)||(r.value=a),(0,D.isEqual)(i,n)||(r.text=i);return r}let a=function(e,t,n){let r;for(const a of n){if(a.value===e)return a;a.label===t&&(r=a)}return r}(t,n,e);if(a)r.text=a.label,r.value=a.value;else{const t=this.getDefaultSingleState(e);r.value=t.value,r.text=t.text}return r}interceptStateUpdateAfterValidation(e){const t=e.value===tn&&this.state.text===en;this.skipNextValidation&&e.value!==this.state.value&&e.text!==this.state.text&&!t&&(e.value=this.state.value,e.text=this.state.text),this.skipNextValidation=!1}getValue(e){let t=this.state.value;if(this.hasAllValue()){if(this.state.allValue)return new fn(this.state.allValue,this);t=this.state.options.map(e=>e.value)}if(null!=e&&Array.isArray(t)){const n=parseInt(e,10);if(!isNaN(n)&&n>=0&&n<t.length)return t[n]}return t}getValueText(){return this.hasAllValue()?en:Array.isArray(this.state.text)?this.state.text.join(" + "):String(this.state.text)}hasAllValue(){const e=this.state.value;return e===tn||Array.isArray(e)&&e[0]===tn}getDefaultMultiState(e){return this.state.defaultToAll?{value:[tn],text:[en]}:e.length>0?{value:[e[0].value],text:[e[0].label]}:{value:[],text:[]}}getDefaultSingleState(e){return this.state.defaultToAll?{value:tn,text:en}:e.length>0?{value:e[0].value,text:e[0].label}:{value:"",text:""}}changeValueTo(e,t,n=!1){var r,a;if(e===this.state.value&&t===this.state.text)return;if(t||(t=Array.isArray(e)?e.map(e=>this.findLabelTextForValue(e)):this.findLabelTextForValue(e)),Array.isArray(e)){if(0===e.length){const n=this.getDefaultMultiState(this.state.options);e=n.value,t=n.text}e[e.length-1]===tn?(e=[tn],t=[en]):e[0]===tn&&e.length>1&&(e.shift(),Array.isArray(t)&&t.shift())}if((0,D.isEqual)(e,this.state.value)&&(0,D.isEqual)(t,this.state.text))return;const i=()=>this.setStateHelper({value:e,text:t,loading:!1});n?null==(a=(r=this._urlSync).performBrowserHistoryAction)||a.call(r,i):i(),this.publishEvent(new ae(this),!0)}findLabelTextForValue(e){if(e===tn)return en;const t=this.state.options.find(t=>t.value===e);if(t)return t.label;const n=this.state.options.find(t=>t.label===e);return n?n.label:e}setStateHelper(e){cn(this,e)}getOptionsForSelect(e=!0){let t=this.state.options;if(this.state.includeAll&&(t=[{value:tn,label:en},...t]),e&&!Array.isArray(this.state.value)){t.find(e=>e.value===this.state.value)||(t=[{value:this.state.value,label:String(this.state.text)},...t])}return t}refreshOptions(){this.getValueOptions({}).subscribe(e=>{this.updateValueGivenNewOptions(e)})}}class pn{constructor(e){this._sceneObject=e,this._nextChangeShouldAddHistoryStep=!1}getKey(){return`var-${this._sceneObject.state.name}`}getKeys(){return this._sceneObject.state.skipUrlSync?[]:[this.getKey()]}getUrlState(){if(this._sceneObject.state.skipUrlSync)return{};let e=null,t=this._sceneObject.state.value;return e=Array.isArray(t)?t.map(String):this._sceneObject.state.isMulti?[String(t)]:String(t),{[this.getKey()]:e}}updateFromUrl(e){let t=e[this.getKey()];null!=t&&(this._sceneObject.state.includeAll&&(t=function(e){if((0,D.isArray)(e)&&e[0]===en)return[tn];if(e===en)return tn;return e}(t)),this._sceneObject.state.allValue&&this._sceneObject.state.allValue===t&&(t=tn),this._sceneObject.isActive||(this._sceneObject.skipNextValidation=!0),this._sceneObject.changeValueTo(t))}performBrowserHistoryAction(e){this._nextChangeShouldAddHistoryStep=!0,e(),this._nextChangeShouldAddHistoryStep=!1}shouldCreateHistoryStep(e){return this._nextChangeShouldAddHistoryStep}}class fn{constructor(e,t){this._value=e,this._variable=t}formatter(e){return e===j.$m.Text?en:e===j.$m.PercentEncode?Bt.get(j.$m.PercentEncode).formatter(this._value,[],this._variable):e===j.$m.QueryParam?Bt.get(j.$m.QueryParam).formatter(en,[],this._variable):this._value}}function gn(e,t={}){if(e.state.$variables)for(const n of e.state.$variables.state.variables)n.state.skipUrlSync||t[n.state.name]||(t[n.state.name]=n);return e.parent&&gn(e.parent,t),t}const mn=(0,i.getDisplayProcessor)();class vn{constructor(e){this._urlQueryParams=e}formatter(e){if(!e)return this._urlQueryParams;const t=e.split(":");if("exclude"===t[0]&&t.length>1){const e=new URLSearchParams(this._urlQueryParams);for(const n of t[1].split(","))e.delete(n);return`?${e}`}if("include"===t[0]&&t.length>1){const e=new URLSearchParams(this._urlQueryParams),n=t[1].split(",");for(const t of e.keys())n.includes(t)||e.delete(t);return`?${e}`}return this._urlQueryParams}}const bn=new Map([[i.DataLinkBuiltInVars.includeVars,class{constructor(e,t){this.state={name:e,type:"url_variable"},this._sceneObject=t}getValue(){const e=gn(this._sceneObject),t=Bt.get(j.$m.QueryParam),n=[];for(const r of Object.keys(e)){const a=e[r];if(a instanceof hn&&a.hasAllValue()&&!a.state.allValue){n.push(t.formatter(tn,[],a));continue}const i=a.getValue();i&&(ie(i)?n.push(i.formatter(j.$m.QueryParam)):n.push(t.formatter(i,[],a)))}return new on(n.join("&"))}getValueText(){return""}}],[i.DataLinkBuiltInVars.keepTime,class{constructor(e,t){this.state={name:e,type:"url_variable"},this._sceneObject=t}getValue(){var e;const t=null==(e=re(this._sceneObject).urlSync)?void 0:e.getUrlState();return"browser"===(null==t?void 0:t.timezone)&&(t.timezone=Intl.DateTimeFormat().resolvedOptions().timeZone),new on(i.urlUtil.toUrlParams(t))}getValueText(){return""}}],["__value",class{constructor(e,t,n,r){this._match=n,this._scopedVars=r,this.state={name:e,type:"__value"}}getValue(e){var t,n;const r=null==(t=this._scopedVars)?void 0:t.__dataContext;if(!r)return this._match;const{frame:a,rowIndex:s,field:o,calculatedValue:l}=r.value;if(l)switch(e){case"numeric":case"raw":return l.numeric;case"time":return"";default:return(0,i.formattedValueToString)(l)}if(null==s)return this._match;if("time"===e){const e=a.fields.find(e=>e.type===i.FieldType.time);return e?e.values.get(s):void 0}if(!o)return this._match;const u=o.values.get(s);if("raw"===e)return u;const c=(null!=(n=o.display)?n:mn)(u);return"numeric"===e?c.numeric:(0,i.formattedValueToString)(c)}getValueText(){return""}}],["__data",class{constructor(e,t,n,r){this._match=n,this._scopedVars=r,this.state={name:e,type:"__data"}}getValue(e){var t,n;const r=null==(t=this._scopedVars)?void 0:t.__dataContext;if(!r||!e)return this._match;const{frame:a,rowIndex:s}=r.value;if(void 0===s||void 0===e)return this._match;const o={name:a.name,refId:a.refId,fields:(0,i.getFieldDisplayValuesProxy)({frame:a,rowIndex:s})};return null!=(n=le(e)(o))?n:""}getValueText(){return""}}],["__series",class{constructor(e,t,n,r){this._match=n,this._scopedVars=r,this.state={name:e,type:"__series"}}getValue(e){var t;const n=null==(t=this._scopedVars)?void 0:t.__dataContext;if(!n||!e)return this._match;if("name"!==e)return this._match;const{frame:r,frameIndex:a}=n.value;return(0,i.getFrameDisplayName)(r,a)}getValueText(){return""}}],["__field",class{constructor(e,t,n,r){this._match=n,this._scopedVars=r,this.state={name:e,type:"__field"}}getValue(e){var t,n;const r=null==(t=this._scopedVars)?void 0:t.__dataContext;if(!r||!e)return this._match;if(void 0===e||""===e)return this._match;const{frame:a,field:s,data:o}=r.value,l=function(e,t,n){return new Proxy({},{get:(r,a)=>"name"===a?e.name:"displayName"===a?(0,i.getFieldDisplayName)(e,t,n):"labels"===a||"formattedLabels"===a?e.labels?{...e.labels,__values:Object.values(e.labels).sort().join(", "),toString:()=>(0,i.formatLabels)(e.labels,"",!0)}:"":void 0})}(s,a,o);return null!=(n=le(e)(l))?n:""}getValueText(){return""}}],["__url",class{constructor(e,t){this.state={name:e,type:"url_macro"}}getValue(e){var t;const n=s.locationService.getLocation(),r=null!=(t=s.config.appSubUrl)?t:"";switch(null!=e?e:""){case"params":return new vn(n.search);case"path":return r+n.pathname;default:return r+n.pathname+n.search}}getValueText(){return""}}],["__from",ln],["__to",ln],["__timezone",class{constructor(e,t){this.state={name:e,type:"time_macro"},this._sceneObject=t}getValue(){const e=re(this._sceneObject).getTimeZone();return"browser"===e?Intl.DateTimeFormat().resolvedOptions().timeZone:e}getValueText(){return this.getValue()}}],["__user",class{constructor(e,t){this.state={name:e,type:"user_macro"}}getValue(e){const t=s.config.bootData.user;switch(e){case"login":return t.login;case"email":return t.email;default:return String(t.id)}}getValueText(){return""}}],["__org",class{constructor(e,t){this.state={name:e,type:"org_macro"}}getValue(e){const t=s.config.bootData.user;return"name"===e?t.orgName:String(t.orgId)}getValueText(){return""}}],["__interval",un],["__interval_ms",un]]);function yn(e,t,n,r,a){return t&&"string"==typeof t?(rn.lastIndex=0,t.replace(rn,(t,i,s,o,l,u,c)=>{const d=i||s||l,h=o||c||r,p=function(e,t,n,r){if(n&&n.hasOwnProperty(e)){const t=n[e];if(t)return function(e,t){return se?(se.state.name=e,se.state.value=t):se=new ue(e,t),se}(e,t)}const a=N(e,r);if(a)return a;const i=bn.get(e);if(i)return new i(e,r,t,n);return null}(d,t,n,e);if(!p)return a&&a.push({match:t,variableName:d,fieldPath:u,format:h,value:t,found:!1}),t;const f=function(e,t,n,r){if(null==n)return"";if(ie(n))return yn(e,n.formatter(r));Array.isArray(n)||"object"!=typeof n||(n=`${n}`);if("function"==typeof r)return r(n,{name:t.state.name,type:t.state.type,multi:t.state.isMulti,includeAll:t.state.includeAll});let a=[];r?(a=r.split(":"),a.length>1?(r=a[0],a=a.slice(1)):a=[]):r=j.$m.Glob;let i=Bt.getIfExists(r);i||(console.error(`Variable format ${r} not found. Using glob format as fallback.`),i=Bt.get(j.$m.Glob));return i.formatter(n,a,t)}(e,p,p.getValue(u),h);return a&&a.push({match:t,variableName:d,fieldPath:u,format:h,value:f,found:f!==t}),f})):null!=t?t:""}function On(e){return void 0!==e.useState}function wn(e){return"enrichDataRequest"in e}function xn(e){return"isDataLayer"in e}function Sn(e){return t=>{const n=eu.getQueryController(e.origin);return n?new p.Observable(r=>{e.cancel||(e.cancel=()=>r.complete()),n.queryStarted(e);let a=!1;const i=t.subscribe({next:t=>{a||t.state===F.Loading||(a=!0,n.queryCompleted(e)),r.next(t)},error:e=>r.error(e),complete:()=>{r.complete()}});return()=>{i.unsubscribe(),a||n.queryCompleted(e)}}):t}}function $n(e){return new p.Observable(t=>{t.next({state:F.Loading});(0,p.from)(e).pipe((0,p.map)(()=>({state:F.Done})),(0,p.catchError)(()=>(t.next({state:F.Error}),[]))).subscribe({next:e=>t.next(e),complete:()=>t.complete()})})}async function Rn(e,t){if(null==e?void 0:e.uid){const t=L.get(e.uid);if(t)return t}if(e&&e.query)return e;const n=(0,s.getDataSourceSrv)().get(e,t);if(t.__sceneObject&&t.__sceneObject.value.valueOf()){const e=eu.getQueryController(t.__sceneObject.value.valueOf());e&&e.state.enableProfiling&&$n(n).pipe(Sn({type:"plugin",origin:t.__sceneObject.value.valueOf()})).subscribe(()=>{})}return await n}class Pn{constructor(){this._values=new Map}recordCurrentDependencyValuesForSceneObject(e){if(this.clearValues(),e.variableDependency)for(const t of e.variableDependency.getNames()){const n=eu.lookupVariable(t,e);n&&this._values.set(n.state.name,n.getValue())}}cloneAndRecordCurrentValuesForSceneObject(e){const t=new Pn;return t.recordCurrentDependencyValuesForSceneObject(e),t}clearValues(){this._values.clear()}hasValues(){return!!this._values}recordCurrentValue(e){this._values.set(e.state.name,e.getValue())}hasRecordedValue(e){return this._values.has(e.state.name)}hasValueChanged(e){if(this._values.has(e.state.name)){if(!hl(this._values.get(e.state.name),e.getValue()))return!0}return!1}hasDependenciesChanged(e){if(!this._values)return!1;if(!e.variableDependency)return!1;for(const t of e.variableDependency.getNames()){const n=eu.lookupVariable(t,e);if(!n)continue;const r=n.state.name;if(n&&this._values.has(r)){if(!hl(this._values.get(r),n.getValue()))return!0}}return!1}}function En(e){return"object"==typeof e&&"getExtraQueries"in e}const kn=(e,t)=>(0,p.of)(t),_n=0;function Cn(e){const t=e.getRoot();return wn(t)?t.enrichDataRequest(e):null}let Tn,Dn=new Set;const An=new Set;var In=n(2007),Ln=n(8449);function Qn(e,t="latest"){return Nn(e,t.replace(/\-.*/,""))}function Nn(e,t){const n={};for(const[r,a]of Object.entries(e))Vn(a)?n[r]=Nn(a,t):(Mn(a,r),n[r]=zn(a,t));return n}function Vn(e){if("object"==typeof e){const[t]=Object.keys(e);return!(0,Ln.valid)(t)}return!1}function zn(e,t){let n,r=Object.keys(e).sort(Ln.compare);if("latest"===t)return e[r[r.length-1]];for(const e of r)(0,Ln.gte)(t,e)&&(n=e);return n||(n=r[r.length-1]),e[n]}function Mn(e,t){if(!Object.keys(e).every(e=>(0,Ln.valid)(e)))throw new Error(`Invalid semver version: '${t}'`)}const jn="8.5.0",Fn={RadioButton:{container:{"10.2.3":"data-testid radio-button"}},Breadcrumbs:{breadcrumb:{"9.4.0":e=>`data-testid ${e} breadcrumb`}},TimePicker:{openButton:{[jn]:"data-testid TimePicker Open Button"},overlayContent:{"10.2.3":"data-testid TimePicker Overlay Content"},fromField:{"10.2.3":"data-testid Time Range from field",[jn]:"Time Range from field"},toField:{"10.2.3":"data-testid Time Range to field",[jn]:"Time Range to field"},applyTimeRange:{[jn]:"data-testid TimePicker submit button"},copyTimeRange:{"10.4.0":"data-testid TimePicker copy button"},pasteTimeRange:{"10.4.0":"data-testid TimePicker paste button"},calendar:{label:{"10.2.3":"data-testid Time Range calendar",[jn]:"Time Range calendar"},openButton:{"10.2.3":"data-testid Open time range calendar",[jn]:"Open time range calendar"},closeButton:{"10.2.3":"data-testid Close time range Calendar",[jn]:"Close time range Calendar"}},absoluteTimeRangeTitle:{[jn]:"data-testid-absolute-time-range-narrow"}},DataSourcePermissions:{form:{"9.5.0":()=>'form[name="addPermission"]'},roleType:{"9.5.0":"Role to add new permission to"},rolePicker:{"9.5.0":"Built-in role picker"},permissionLevel:{"12.0.0":"Permission level","9.5.0":"Permission Level"}},DateTimePicker:{input:{"10.2.3":"data-testid date-time-input"}},DataSource:{TestData:{QueryTab:{scenarioSelectContainer:{[jn]:"Test Data Query scenario select container"},scenarioSelect:{[jn]:"Test Data Query scenario select"},max:{[jn]:"TestData max"},min:{[jn]:"TestData min"},noise:{[jn]:"TestData noise"},seriesCount:{[jn]:"TestData series count"},spread:{[jn]:"TestData spread"},startValue:{[jn]:"TestData start value"},drop:{[jn]:"TestData drop values"}}},DataSourceHttpSettings:{urlInput:{"10.4.0":"data-testid Datasource HTTP settings url",[jn]:"Datasource HTTP settings url"}},Jaeger:{traceIDInput:{[jn]:"Trace ID"}},Prometheus:{configPage:{connectionSettings:{[jn]:"Data source connection URL"},manageAlerts:{"10.4.0":"prometheus-alerts-manager"},scrapeInterval:{"10.4.0":"data-testid scrape interval"},queryTimeout:{"10.4.0":"data-testid query timeout"},defaultEditor:{"10.4.0":"data-testid default editor"},disableMetricLookup:{"10.4.0":"disable-metric-lookup"},prometheusType:{"10.4.0":"data-testid prometheus type"},prometheusVersion:{"10.4.0":"data-testid prometheus version"},cacheLevel:{"10.4.0":"data-testid cache level"},incrementalQuerying:{"10.4.0":"prometheus-incremental-querying"},queryOverlapWindow:{"10.4.0":"data-testid query overlap window"},disableRecordingRules:{"10.4.0":"disable-recording-rules"},customQueryParameters:{"10.4.0":"data-testid custom query parameters"},httpMethod:{"10.4.0":"data-testid http method"},exemplarsAddButton:{"10.3.0":"data-testid Add exemplar config button",[jn]:"Add exemplar config button"},internalLinkSwitch:{"10.3.0":"data-testid Internal link switch",[jn]:"Internal link switch"},codeModeMetricNamesSuggestionLimit:{"11.1.0":"data-testid code mode metric names suggestion limit"}},queryEditor:{explain:{"10.4.0":"data-testid prometheus explain switch wrapper"},editorToggle:{"10.4.0":"data-testid QueryEditorModeToggle"},options:{"10.4.0":"data-testid prometheus options"},legend:{"10.4.0":"data-testid prometheus legend wrapper"},format:{"10.4.0":"data-testid prometheus format"},step:{"10.4.0":"prometheus-step"},type:{"10.4.0":"data-testid prometheus type"},exemplars:{"10.4.0":"prometheus-exemplars"},builder:{metricSelect:{"10.4.0":"data-testid metric select"},hints:{"10.4.0":"data-testid prometheus hints"},metricsExplorer:{"10.4.0":"data-testid metrics explorer"},queryAdvisor:{"10.4.0":"data-testid query advisor"}},code:{queryField:{"10.4.0":"data-testid prometheus query field"},metricsCountInfo:{"11.1.0":"data-testid metrics count disclaimer"},metricsBrowser:{openButton:{"10.4.0":"data-testid open metrics browser"},selectMetric:{"10.4.0":"data-testid select a metric"},seriesLimit:{"10.3.1":"data-testid series limit"},metricList:{"10.4.0":"data-testid metric list"},labelNamesFilter:{"10.4.0":"data-testid label names filter"},labelValuesFilter:{"10.4.0":"data-testid label values filter"},useQuery:{"10.4.0":"data-testid use query"},useAsRateQuery:{"10.4.0":"data-testid use as rate query"},validateSelector:{"10.4.0":"data-testid validate selector"},clear:{"10.4.0":"data-testid clear"}}}},exemplarMarker:{"10.3.0":"data-testid Exemplar marker",[jn]:"Exemplar marker"},variableQueryEditor:{queryType:{"10.4.0":"data-testid query type"},labelnames:{metricRegex:{"10.4.0":"data-testid label names metric regex"}},labelValues:{labelSelect:{"10.4.0":"data-testid label values label select"}},metricNames:{metricRegex:{"10.4.0":"data-testid metric names metric regex"}},varQueryResult:{"10.4.0":"data-testid variable query result"},seriesQuery:{"10.4.0":"data-testid prometheus series query"},classicQuery:{"10.4.0":"data-testid prometheus classic query"}},annotations:{minStep:{"10.4.0":"prometheus-annotation-min-step"},title:{"10.4.0":"data-testid prometheus annotation title"},tags:{"10.4.0":"data-testid prometheus annotation tags"},text:{"10.4.0":"data-testid prometheus annotation text"},seriesValueAsTimestamp:{"10.4.0":"data-testid prometheus annotation series value as timestamp"}}}},Menu:{MenuComponent:{[jn]:e=>`${e} menu`},MenuGroup:{[jn]:e=>`${e} menu group`},MenuItem:{[jn]:e=>`${e} menu item`},SubMenu:{container:{"10.3.0":"data-testid SubMenu container",[jn]:"SubMenu container"},icon:{"10.3.0":"data-testid SubMenu icon",[jn]:"SubMenu icon"}}},Panels:{Panel:{title:{[jn]:e=>`data-testid Panel header ${e}`},content:{"11.1.0":"data-testid panel content"},headerItems:{"10.2.0":e=>`data-testid Panel header item ${e}`},menuItems:{"9.5.0":e=>`data-testid Panel menu item ${e}`},menu:{"9.5.0":e=>`data-testid Panel menu ${e}`},containerByTitle:{[jn]:e=>`${e} panel`},headerCornerInfo:{[jn]:e=>`Panel header ${e}`},status:{"10.2.0":e=>`data-testid Panel status ${e}`,[jn]:e=>"Panel status"},loadingBar:{"10.0.0":()=>"Panel loading bar"},HoverWidget:{container:{"10.1.0":"data-testid hover-header-container",[jn]:"hover-header-container"},dragIcon:{"10.0.0":"data-testid drag-icon"}},PanelDataErrorMessage:{"10.4.0":"data-testid Panel data error message"}},Visualization:{Graph:{container:{"9.5.0":"Graph container"},VisualizationTab:{legendSection:{[jn]:"Legend section"}},Legend:{legendItemAlias:{[jn]:e=>`gpl alias ${e}`},showLegendSwitch:{[jn]:"gpl show legend"}},xAxis:{labels:{[jn]:()=>"div.flot-x-axis > div.flot-tick-label"}}},BarGauge:{valueV2:{[jn]:"data-testid Bar gauge value"}},PieChart:{svgSlice:{"10.3.0":"data testid Pie Chart Slice"}},Text:{container:{[jn]:()=>".markdown-html"}},Table:{header:{[jn]:"table header"},footer:{[jn]:"table-footer"},body:{"10.2.0":"data-testid table body"}}}},VizLegend:{seriesName:{"10.3.0":e=>`data-testid VizLegend series ${e}`}},Drawer:{General:{title:{[jn]:e=>`Drawer title ${e}`},expand:{[jn]:"Drawer expand"},contract:{[jn]:"Drawer contract"},close:{"10.3.0":"data-testid Drawer close",[jn]:"Drawer close"},rcContentWrapper:{"9.4.0":()=>".rc-drawer-content-wrapper"},subtitle:{"10.4.0":"data-testid drawer subtitle"}},DashboardSaveDrawer:{saveButton:{"11.1.0":"data-testid Save dashboard drawer button"},saveAsButton:{"11.1.0":"data-testid Save as dashboard drawer button"},saveAsTitleInput:{"11.1.0":"Save dashboard title field"}}},PanelEditor:{General:{content:{"11.1.0":"data-testid Panel editor content","8.0.0":"Panel editor content"}},OptionsPane:{content:{"11.1.0":"data-testid Panel editor option pane content",[jn]:"Panel editor option pane content"},select:{[jn]:"Panel editor option pane select"},fieldLabel:{[jn]:e=>`${e} field property editor`},fieldInput:{"11.0.0":e=>`data-testid Panel editor option pane field input ${e}`}},DataPane:{content:{"11.1.0":"data-testid Panel editor data pane content",[jn]:"Panel editor data pane content"}},applyButton:{"9.2.0":"data-testid Apply changes and go back to dashboard","9.1.0":"Apply changes and go back to dashboard","8.0.0":"panel editor apply"},toggleVizPicker:{"10.0.0":"data-testid toggle-viz-picker","8.0.0":"toggle-viz-picker"},toggleVizOptions:{"10.1.0":"data-testid toggle-viz-options",[jn]:"toggle-viz-options"},toggleTableView:{"11.1.0":"data-testid toggle-table-view",[jn]:"toggle-table-view"},showZoomField:{"10.2.0":"Map controls Show zoom control field property editor"},showAttributionField:{"10.2.0":"Map controls Show attribution field property editor"},showScaleField:{"10.2.0":"Map controls Show scale field property editor"},showMeasureField:{"10.2.0":"Map controls Show measure tools field property editor"},showDebugField:{"10.2.0":"Map controls Show debug field property editor"},measureButton:{"9.2.0":"show measure tools"}},PanelInspector:{Data:{content:{[jn]:"Panel inspector Data content"}},Stats:{content:{[jn]:"Panel inspector Stats content"}},Json:{content:{"11.1.0":"data-testid Panel inspector Json content",[jn]:"Panel inspector Json content"}},Query:{content:{[jn]:"Panel inspector Query content"},refreshButton:{[jn]:"Panel inspector Query refresh button"},jsonObjectKeys:{[jn]:()=>".json-formatter-key"}}},Tab:{title:{"11.2.0":e=>`data-testid Tab ${e}`},active:{[jn]:()=>'[class*="-activeTabStyle"]'}},RefreshPicker:{runButtonV2:{[jn]:"data-testid RefreshPicker run button"},intervalButtonV2:{[jn]:"data-testid RefreshPicker interval button"}},QueryTab:{content:{[jn]:"Query editor tab content"},queryInspectorButton:{[jn]:"Query inspector button"},queryHistoryButton:{"10.2.0":"data-testid query-history-button",[jn]:"query-history-button"},addQuery:{"10.2.0":"data-testid query-tab-add-query",[jn]:"Query editor add query button"},addQueryFromLibrary:{"11.5.0":"data-testid query-tab-add-query-from-library"},queryGroupTopSection:{"11.2.0":"data-testid query group top section"},addExpression:{"11.2.0":"data-testid query-tab-add-expression"}},QueryHistory:{queryText:{"9.0.0":"Query text"}},QueryEditorRows:{rows:{[jn]:"Query editor row"}},QueryEditorRow:{actionButton:{"10.4.0":e=>`data-testid ${e}`},title:{[jn]:e=>`Query editor row title ${e}`},container:{[jn]:e=>`Query editor row ${e}`}},AlertTab:{content:{"10.2.3":"data-testid Alert editor tab content",[jn]:"Alert editor tab content"}},AlertRules:{groupToggle:{"11.0.0":"data-testid group-collapse-toggle"},toggle:{"11.0.0":"data-testid collapse-toggle"},expandedContent:{"11.0.0":"data-testid expanded-content"},previewButton:{"11.1.0":"data-testid alert-rule preview-button"},ruleNameField:{"11.1.0":"data-testid alert-rule name-field"},newFolderButton:{"11.1.0":"data-testid alert-rule new-folder-button"},newFolderNameField:{"11.1.0":"data-testid alert-rule name-folder-name-field"},newFolderNameCreateButton:{"11.1.0":"data-testid alert-rule name-folder-name-create-button"},newEvaluationGroupButton:{"11.1.0":"data-testid alert-rule new-evaluation-group-button"},newEvaluationGroupName:{"11.1.0":"data-testid alert-rule new-evaluation-group-name"},newEvaluationGroupInterval:{"11.1.0":"data-testid alert-rule new-evaluation-group-interval"},newEvaluationGroupCreate:{"11.1.0":"data-testid alert-rule new-evaluation-group-create-button"},step:{"11.5.0":e=>`data-testid alert-rule step-${e}`},stepAdvancedModeSwitch:{"11.5.0":e=>`data-testid advanced-mode-switch step-${e}`}},Alert:{alertV2:{[jn]:e=>`data-testid Alert ${e}`}},TransformTab:{content:{"10.1.0":"data-testid Transform editor tab content",[jn]:"Transform editor tab content"},newTransform:{"10.1.0":e=>`data-testid New transform ${e}`},transformationEditor:{"10.1.0":e=>`data-testid Transformation editor ${e}`},transformationEditorDebugger:{"10.1.0":e=>`data-testid Transformation editor debugger ${e}`}},Transforms:{card:{"10.1.0":e=>`data-testid New transform ${e}`},disableTransformationButton:{"10.4.0":"data-testid Disable transformation button"},Reduce:{modeLabel:{"10.2.3":"data-testid Transform mode label",[jn]:"Transform mode label"},calculationsLabel:{"10.2.3":"data-testid Transform calculations label",[jn]:"Transform calculations label"}},SpatialOperations:{actionLabel:{"9.1.2":"root Action field property editor"},locationLabel:{"10.2.0":"root Location Mode field property editor"},location:{autoOption:{"9.1.2":"Auto location option"},coords:{option:{"9.1.2":"Coords location option"},latitudeFieldLabel:{"9.1.2":"root Latitude field field property editor"},longitudeFieldLabel:{"9.1.2":"root Longitude field field property editor"}},geohash:{option:{"9.1.2":"Geohash location option"},geohashFieldLabel:{"9.1.2":"root Geohash field field property editor"}},lookup:{option:{"9.1.2":"Lookup location option"},lookupFieldLabel:{"9.1.2":"root Lookup field field property editor"},gazetteerFieldLabel:{"9.1.2":"root Gazetteer field property editor"}}}},searchInput:{"10.2.3":"data-testid search transformations",[jn]:"search transformations"},noTransformationsMessage:{"10.2.3":"data-testid no transformations message"},addTransformationButton:{"10.1.0":"data-testid add transformation button",[jn]:"add transformation button"},removeAllTransformationsButton:{"10.4.0":"data-testid remove all transformations button"}},NavBar:{Configuration:{button:{"9.5.0":"Configuration"}},Toggle:{button:{"10.2.3":"data-testid Toggle menu",[jn]:"Toggle menu"}},Reporting:{button:{"9.5.0":"Reporting"}}},NavMenu:{Menu:{"10.2.3":"data-testid navigation mega-menu"},item:{"9.5.0":"data-testid Nav menu item"}},NavToolbar:{container:{"9.4.0":"data-testid Nav toolbar"},commandPaletteTrigger:{"11.5.0":"data-testid Command palette trigger"},shareDashboard:{"11.1.0":"data-testid Share dashboard"},markAsFavorite:{"11.1.0":"data-testid Mark as favorite"},editDashboard:{editButton:{"11.1.0":"data-testid Edit dashboard button"},saveButton:{"11.1.0":"data-testid Save dashboard button"},exitButton:{"11.1.0":"data-testid Exit edit mode button"},settingsButton:{"11.1.0":"data-testid Dashboard settings"},addRowButton:{"11.1.0":"data-testid Add row button"},addLibraryPanelButton:{"11.1.0":"data-testid Add a panel from the panel library button"},addVisualizationButton:{"11.1.0":"data-testid Add new visualization menu item"},pastePanelButton:{"11.1.0":"data-testid Paste panel button"},discardChangesButton:{"11.1.0":"data-testid Discard changes button"},discardLibraryPanelButton:{"11.1.0":"data-testid Discard library panel button"},unlinkLibraryPanelButton:{"11.1.0":"data-testid Unlink library panel button"},saveLibraryPanelButton:{"11.1.0":"data-testid Save library panel button"},backToDashboardButton:{"11.1.0":"data-testid Back to dashboard button"}}},PageToolbar:{container:{[jn]:()=>".page-toolbar"},item:{[jn]:e=>`${e}`},itemButton:{"9.5.0":e=>`data-testid ${e}`}},QueryEditorToolbarItem:{button:{[jn]:e=>`QueryEditor toolbar item button ${e}`}},BackButton:{backArrow:{"10.3.0":"data-testid Go Back",[jn]:"Go Back"}},OptionsGroup:{group:{"11.1.0":e=>e?`data-testid Options group ${e}`:"data-testid Options group",[jn]:e=>e?`Options group ${e}`:"Options group"},toggle:{"11.1.0":e=>e?`data-testid Options group ${e} toggle`:"data-testid Options group toggle",[jn]:e=>e?`Options group ${e} toggle`:"Options group toggle"}},PluginVisualization:{item:{[jn]:e=>`Plugin visualization item ${e}`},current:{[jn]:()=>'[class*="-currentVisualizationItem"]'}},Select:{menu:{"11.5.0":"data-testid Select menu",[jn]:"Select options menu"},option:{"11.1.0":"data-testid Select option",[jn]:"Select option"},toggleAllOptions:{"11.3.0":"data-testid toggle all options"},input:{[jn]:()=>'input[id*="time-options-input"]'},singleValue:{[jn]:()=>'div[class*="-singleValue"]'}},FieldConfigEditor:{content:{[jn]:"Field config editor content"}},OverridesConfigEditor:{content:{[jn]:"Field overrides editor content"}},FolderPicker:{containerV2:{[jn]:"data-testid Folder picker select container"},input:{"10.4.0":"data-testid folder-picker-input"}},ReadonlyFolderPicker:{container:{[jn]:"data-testid Readonly folder picker select container"}},DataSourcePicker:{container:{"10.0.0":"data-testid Data source picker select container","8.0.0":"Data source picker select container"},inputV2:{"10.1.0":"data-testid Select a data source",[jn]:"Select a data source"},dataSourceList:{"10.4.0":"data-testid Data source list dropdown"},advancedModal:{dataSourceList:{"10.4.0":"data-testid Data source list"},builtInDataSourceList:{"10.4.0":"data-testid Built in data source list"}}},TimeZonePicker:{containerV2:{[jn]:"data-testid Time zone picker select container"},changeTimeSettingsButton:{"11.0.0":"data-testid Time zone picker Change time settings button"}},WeekStartPicker:{containerV2:{[jn]:"data-testid Choose starting day of the week"},placeholder:{[jn]:"Choose starting day of the week"}},TraceViewer:{spanBar:{"9.0.0":"data-testid SpanBar--wrapper"}},QueryField:{container:{"10.3.0":"data-testid Query field",[jn]:"Query field"}},QueryBuilder:{queryPatterns:{"10.3.0":"data-testid Query patterns",[jn]:"Query patterns"},labelSelect:{"10.3.0":"data-testid Select label",[jn]:"Select label"},inputSelect:{"11.1.0":"data-testid Select label-input"},valueSelect:{"10.3.0":"data-testid Select value",[jn]:"Select value"},matchOperatorSelect:{"10.3.0":"data-testid Select match operator",[jn]:"Select match operator"}},ValuePicker:{button:{"10.3.0":e=>`data-testid Value picker button ${e}`},select:{"10.3.0":e=>`data-testid Value picker select ${e}`}},Search:{sectionV2:{[jn]:"data-testid Search section"},itemsV2:{[jn]:"data-testid Search items"},cards:{[jn]:"data-testid Search cards"},collapseFolder:{[jn]:e=>`data-testid Collapse folder ${e}`},expandFolder:{[jn]:e=>`data-testid Expand folder ${e}`},dashboardItem:{[jn]:e=>`data-testid Dashboard search item ${e}`},dashboardCard:{[jn]:e=>`data-testid Search card ${e}`},folderHeader:{"9.3.0":e=>`data-testid Folder header ${e}`},folderContent:{"9.3.0":e=>`data-testid Folder content ${e}`},dashboardItems:{[jn]:"data-testid Dashboard search item"}},DashboardLinks:{container:{[jn]:"data-testid Dashboard link container"},dropDown:{[jn]:"data-testid Dashboard link dropdown"},link:{[jn]:"data-testid Dashboard link"}},LoadingIndicator:{icon:{"10.4.0":"data-testid Loading indicator",[jn]:"Loading indicator"}},CallToActionCard:{buttonV2:{[jn]:e=>`data-testid Call to action button ${e}`}},DataLinksContextMenu:{singleLink:{"10.3.0":"data-testid Data link",[jn]:"Data link"}},CodeEditor:{container:{"10.2.3":"data-testid Code editor container",[jn]:"Code editor container"}},ReactMonacoEditor:{editorLazy:{"11.1.0":"data-testid ReactMonacoEditor editorLazy"}},DashboardImportPage:{textarea:{[jn]:"data-testid-import-dashboard-textarea"},submit:{[jn]:"data-testid-load-dashboard"}},ImportDashboardForm:{name:{[jn]:"data-testid-import-dashboard-title"},submit:{[jn]:"data-testid-import-dashboard-submit"}},PanelAlertTabContent:{content:{"10.2.3":"data-testid Unified alert editor tab content",[jn]:"Unified alert editor tab content"}},VisualizationPreview:{card:{[jn]:e=>`data-testid suggestion-${e}`}},ColorSwatch:{name:{[jn]:"data-testid-colorswatch"}},DashboardRow:{title:{[jn]:e=>`data-testid dashboard-row-title-${e}`}},UserProfile:{profileSaveButton:{[jn]:"data-testid-user-profile-save"},preferencesSaveButton:{[jn]:"data-testid-shared-prefs-save"},orgsTable:{[jn]:"data-testid-user-orgs-table"},sessionsTable:{[jn]:"data-testid-user-sessions-table"},extensionPointTabs:{"10.2.3":"data-testid-extension-point-tabs"},extensionPointTab:{"10.2.3":e=>`data-testid-extension-point-tab-${e}`}},FileUpload:{inputField:{"9.0.0":"data-testid-file-upload-input-field"},fileNameSpan:{"9.0.0":"data-testid-file-upload-file-name"}},DebugOverlay:{wrapper:{"9.2.0":"debug-overlay"}},OrgRolePicker:{input:{"9.5.0":"Role"}},AnalyticsToolbarButton:{button:{"9.5.0":"Dashboard insights"}},Variables:{variableOption:{"9.5.0":"data-testid variable-option"},variableLinkWrapper:{"11.1.1":"data-testid variable-link-wrapper"}},Annotations:{annotationsTypeInput:{"11.1.0":"data-testid annotations-type-input",[jn]:"annotations-type-input"},annotationsChoosePanelInput:{"11.1.0":"data-testid choose-panels-input",[jn]:"choose-panels-input"},editor:{testButton:{"11.0.0":"data-testid annotations-test-button"},resultContainer:{"11.0.0":"data-testid annotations-query-result-container"}}},Tooltip:{container:{"10.2.0":"data-testid tooltip"}},ReturnToPrevious:{buttonGroup:{"11.0.0":"data-testid dismissable button group"},backButton:{"11.0.0":"data-testid back"},dismissButton:{"11.0.0":"data-testid dismiss"}},SQLQueryEditor:{selectColumn:{"11.0.0":"data-testid select-column"},selectColumnInput:{"11.0.0":"data-testid select-column-input"},selectFunctionParameter:{"11.0.0":e=>`data-testid select-function-parameter-${e}`},selectAggregation:{"11.0.0":"data-testid select-aggregation"},selectAggregationInput:{"11.0.0":"data-testid select-aggregation-input"},selectAlias:{"11.0.0":"data-testid select-alias"},selectAliasInput:{"11.0.0":"data-testid select-alias-input"},selectInputParameter:{"11.0.0":"data-testid select-input-parameter"},filterConjunction:{"11.0.0":"data-testid filter-conjunction"},filterField:{"11.0.0":"data-testid filter-field"},filterOperator:{"11.0.0":"data-testid filter-operator"},headerTableSelector:{"11.0.0":"data-testid header-table-selector"},headerFilterSwitch:{"11.0.0":"data-testid header-filter-switch"},headerGroupSwitch:{"11.0.0":"data-testid header-group-switch"},headerOrderSwitch:{"11.0.0":"data-testid header-order-switch"},headerPreviewSwitch:{"11.0.0":"data-testid header-preview-switch"}},EntityNotFound:{container:{"11.2.0":"data-testid entity-not-found"}},Portal:{container:{"11.5.0":"data-testid portal-container"}}},Xn={pages:Qn({Alerting:{AddAlertRule:{url:{"10.1.0":"/alerting/new/alerting",[jn]:"/alerting/new"}},EditAlertRule:{url:{[jn]:e=>`alerting/${e}/edit`}}},Login:{url:{[jn]:"/login"},username:{"10.2.3":"data-testid Username input field",[jn]:"Username input field"},password:{"10.2.3":"data-testid Password input field",[jn]:"Password input field"},submit:{"10.2.3":"data-testid Login button",[jn]:"Login button"},skip:{"10.2.3":"data-testid Skip change password button"}},PasswordlessLogin:{url:{[jn]:"/login/passwordless/authenticate"},email:{"10.2.3":"data-testid Email input field",[jn]:"Email input field"},submit:{"10.2.3":"data-testid PasswordlessLogin button",[jn]:"PasswordlessLogin button"}},Home:{url:{[jn]:"/"}},DataSource:{name:{"10.3.0":"data-testid Data source settings page name input field",[jn]:"Data source settings page name input field"},delete:{[jn]:"Data source settings page Delete button"},readOnly:{"10.3.0":"data-testid Data source settings page read only message",[jn]:"Data source settings page read only message"},saveAndTest:{"10.0.0":"data-testid Data source settings page Save and Test button",[jn]:"Data source settings page Save and Test button"},alert:{"10.3.0":"data-testid Data source settings page Alert",[jn]:"Data source settings page Alert"}},DataSources:{url:{[jn]:"/datasources"},dataSources:{[jn]:e=>`Data source list item ${e}`}},EditDataSource:{url:{"9.5.0":e=>`/datasources/edit/${e}`},settings:{"9.5.0":"Datasource settings page basic settings"}},AddDataSource:{url:{[jn]:"/datasources/new"},dataSourcePluginsV2:{"9.3.1":e=>`Add new data source ${e}`,[jn]:e=>`Data source plugin item ${e}`}},ConfirmModal:{delete:{"10.0.0":"data-testid Confirm Modal Danger Button",[jn]:"Confirm Modal Danger Button"}},AddDashboard:{url:{[jn]:"/dashboard/new"},itemButton:{"9.5.0":e=>`data-testid ${e}`},addNewPanel:{"11.1.0":"data-testid Add new panel","8.0.0":"Add new panel",[jn]:"Add new panel"},itemButtonAddViz:{[jn]:"Add new visualization menu item"},addNewRow:{"11.1.0":"data-testid Add new row",[jn]:"Add new row"},addNewPanelLibrary:{"11.1.0":"data-testid Add new panel from panel library",[jn]:"Add new panel from panel library"},Settings:{Annotations:{List:{url:{[jn]:"/dashboard/new?orgId=1&editview=annotations"}},Edit:{url:{[jn]:e=>`/dashboard/new?editview=annotations&editIndex=${e}`}}},Variables:{List:{url:{"11.3.0":"/dashboard/new?orgId=1&editview=variables",[jn]:"/dashboard/new?orgId=1&editview=templating"}},Edit:{url:{"11.3.0":e=>`/dashboard/new?orgId=1&editview=variables&editIndex=${e}`,[jn]:e=>`/dashboard/new?orgId=1&editview=templating&editIndex=${e}`}}}}},Dashboard:{url:{[jn]:e=>`/d/${e}`},DashNav:{nav:{[jn]:"Dashboard navigation"},navV2:{[jn]:"data-testid Dashboard navigation"},publicDashboardTag:{"9.1.0":"data-testid public dashboard tag"},shareButton:{"10.4.0":"data-testid share-button"},scrollContainer:{"11.1.0":"data-testid Dashboard canvas scroll container"},newShareButton:{container:{"11.1.0":"data-testid new share button"},shareLink:{"11.1.0":"data-testid new share link-button"},arrowMenu:{"11.1.0":"data-testid new share button arrow menu"},menu:{container:{"11.1.0":"data-testid new share button menu"},shareInternally:{"11.1.0":"data-testid new share button share internally"},shareExternally:{"11.1.1":"data-testid new share button share externally"},shareSnapshot:{"11.2.0":"data-testid new share button share snapshot"}}},NewExportButton:{container:{"11.2.0":"data-testid new export button"},arrowMenu:{"11.2.0":"data-testid new export button arrow menu"},Menu:{container:{"11.2.0":"data-testid new export button menu"},exportAsJson:{"11.2.0":"data-testid new export button export as json"}}},playlistControls:{prev:{"11.0.0":"data-testid playlist previous dashboard button"},stop:{"11.0.0":"data-testid playlist stop dashboard button"},next:{"11.0.0":"data-testid playlist next dashboard button"}}},Controls:{"11.1.0":"data-testid dashboard controls"},SubMenu:{submenu:{[jn]:"Dashboard submenu"},submenuItem:{[jn]:"data-testid template variable"},submenuItemLabels:{[jn]:e=>`data-testid Dashboard template variables submenu Label ${e}`},submenuItemValueDropDownValueLinkTexts:{[jn]:e=>`data-testid Dashboard template variables Variable Value DropDown value link text ${e}`},submenuItemValueDropDownDropDown:{[jn]:"Variable options"},submenuItemValueDropDownOptionTexts:{[jn]:e=>`data-testid Dashboard template variables Variable Value DropDown option text ${e}`},Annotations:{annotationsWrapper:{"10.0.0":"data-testid annotation-wrapper"},annotationLabel:{"10.0.0":e=>`data-testid Dashboard annotations submenu Label ${e}`},annotationToggle:{"10.0.0":e=>`data-testid Dashboard annotations submenu Toggle ${e}`}}},Settings:{Actions:{close:{"9.5.0":"data-testid dashboard-settings-close"}},General:{deleteDashBoard:{"11.1.0":"data-testid Dashboard settings page delete dashboard button"},sectionItems:{[jn]:e=>`Dashboard settings section item ${e}`},saveDashBoard:{[jn]:"Dashboard settings aside actions Save button"},saveAsDashBoard:{[jn]:"Dashboard settings aside actions Save As button"},title:{"11.2.0":"General"}},Annotations:{Edit:{urlParams:{[jn]:e=>`editview=annotations&editIndex=${e}`}},List:{url:{[jn]:e=>`/d/${e}?editview=annotations`},addAnnotationCTAV2:{[jn]:"data-testid Call to action button Add annotation query"},annotations:{"10.4.0":"data-testid list-annotations"}},Settings:{name:{"11.1.0":"data-testid Annotations settings name input",[jn]:"Annotations settings name input"}},NewAnnotation:{panelFilterSelect:{"10.0.0":"data-testid annotations-panel-filter"},showInLabel:{"11.1.0":"data-testid show-in-label"},previewInDashboard:{"10.0.0":"data-testid annotations-preview"},delete:{"10.4.0":"data-testid annotations-delete"},apply:{"10.4.0":"data-testid annotations-apply"},enable:{"10.4.0":"data-testid annotation-enable"},hide:{"10.4.0":"data-testid annotation-hide"}}},Variables:{List:{url:{"11.3.0":e=>`/d/${e}?editview=variables`,[jn]:e=>`/d/${e}?editview=templating`},addVariableCTAV2:{[jn]:"data-testid Call to action button Add variable"},newButton:{[jn]:"Variable editor New variable button"},table:{[jn]:"Variable editor Table"},tableRowNameFields:{[jn]:e=>`Variable editor Table Name field ${e}`},tableRowDefinitionFields:{"10.1.0":e=>`Variable editor Table Definition field ${e}`},tableRowArrowUpButtons:{[jn]:e=>`Variable editor Table ArrowUp button ${e}`},tableRowArrowDownButtons:{[jn]:e=>`Variable editor Table ArrowDown button ${e}`},tableRowDuplicateButtons:{[jn]:e=>`Variable editor Table Duplicate button ${e}`},tableRowRemoveButtons:{[jn]:e=>`Variable editor Table Remove button ${e}`}},Edit:{urlParams:{"11.3.0":e=>`editview=variables&editIndex=${e}`,[jn]:e=>`editview=templating&editIndex=${e}`},General:{headerLink:{[jn]:"Variable editor Header link"},modeLabelNew:{[jn]:"Variable editor Header mode New"},modeLabelEdit:{[jn]:"Variable editor Header mode Edit"},generalNameInput:{[jn]:"Variable editor Form Name field"},generalNameInputV2:{[jn]:"data-testid Variable editor Form Name field"},generalTypeSelect:{[jn]:"Variable editor Form Type select"},generalTypeSelectV2:{[jn]:"data-testid Variable editor Form Type select"},generalLabelInput:{[jn]:"Variable editor Form Label field"},generalLabelInputV2:{[jn]:"data-testid Variable editor Form Label field"},generalHideSelect:{[jn]:"Variable editor Form Hide select"},generalHideSelectV2:{[jn]:"data-testid Variable editor Form Hide select"},selectionOptionsAllowCustomValueSwitch:{[jn]:"data-testid Variable editor Form Allow Custom Value switch"},selectionOptionsMultiSwitch:{"10.4.0":"data-testid Variable editor Form Multi switch",[jn]:"Variable editor Form Multi switch"},selectionOptionsIncludeAllSwitch:{"10.4.0":"data-testid Variable editor Form IncludeAll switch",[jn]:"Variable editor Form IncludeAll switch"},selectionOptionsCustomAllInput:{"10.4.0":"data-testid Variable editor Form IncludeAll field",[jn]:"Variable editor Form IncludeAll field"},previewOfValuesOption:{"10.4.0":"data-testid Variable editor Preview of Values option",[jn]:"Variable editor Preview of Values option"},submitButton:{"10.4.0":"data-testid Variable editor Run Query button",[jn]:"Variable editor Submit button"},applyButton:{"9.3.0":"data-testid Variable editor Apply button"}},QueryVariable:{queryOptionsDataSourceSelect:{"10.4.0":"data-testid Select a data source","10.0.0":"data-testid Data source picker select container",[jn]:"Data source picker select container"},queryOptionsRefreshSelect:{[jn]:"Variable editor Form Query Refresh select"},queryOptionsRefreshSelectV2:{[jn]:"data-testid Variable editor Form Query Refresh select"},queryOptionsRegExInput:{[jn]:"Variable editor Form Query RegEx field"},queryOptionsRegExInputV2:{[jn]:"data-testid Variable editor Form Query RegEx field"},queryOptionsSortSelect:{[jn]:"Variable editor Form Query Sort select"},queryOptionsSortSelectV2:{[jn]:"data-testid Variable editor Form Query Sort select"},queryOptionsQueryInput:{"10.4.0":"data-testid Variable editor Form Default Variable Query Editor textarea"},valueGroupsTagsEnabledSwitch:{[jn]:"Variable editor Form Query UseTags switch"},valueGroupsTagsTagsQueryInput:{[jn]:"Variable editor Form Query TagsQuery field"},valueGroupsTagsTagsValuesQueryInput:{[jn]:"Variable editor Form Query TagsValuesQuery field"}},ConstantVariable:{constantOptionsQueryInput:{[jn]:"Variable editor Form Constant Query field"},constantOptionsQueryInputV2:{[jn]:"data-testid Variable editor Form Constant Query field"}},DatasourceVariable:{datasourceSelect:{[jn]:"data-testid datasource variable datasource type"}},TextBoxVariable:{textBoxOptionsQueryInput:{[jn]:"Variable editor Form TextBox Query field"},textBoxOptionsQueryInputV2:{[jn]:"data-testid Variable editor Form TextBox Query field"}},CustomVariable:{customValueInput:{[jn]:"data-testid custom-variable-input"}},IntervalVariable:{intervalsValueInput:{[jn]:"data-testid interval variable intervals input"},autoEnabledCheckbox:{"10.4.0":"data-testid interval variable auto value checkbox"},stepCountIntervalSelect:{"10.4.0":"data-testid interval variable step count input"},minIntervalInput:{"10.4.0":"data-testid interval variable mininum interval input"}},GroupByVariable:{dataSourceSelect:{"10.4.0":"data-testid Select a data source"},infoText:{"10.4.0":"data-testid group by variable info text"},modeToggle:{"10.4.0":"data-testid group by variable mode toggle"}},AdHocFiltersVariable:{datasourceSelect:{"10.4.0":"data-testid Select a data source"},infoText:{"10.4.0":"data-testid ad-hoc filters variable info text"},modeToggle:{"11.0.0":"data-testid ad-hoc filters variable mode toggle"}}}}},Annotations:{marker:{"10.0.0":"data-testid annotation-marker"}},Rows:{Repeated:{ConfigSection:{warningMessage:{"10.2.0":"data-testid Repeated rows warning message"}}}}},Dashboards:{url:{[jn]:"/dashboards"},dashboards:{"10.2.0":e=>`Dashboard search item ${e}`},toggleView:{[jn]:"data-testid radio-button"}},SaveDashboardAsModal:{newName:{"10.2.0":"Save dashboard title field"},save:{"10.2.0":"Save dashboard button"}},SaveDashboardModal:{save:{"10.2.0":"Dashboard settings Save Dashboard Modal Save button"},saveVariables:{"10.2.0":"Dashboard settings Save Dashboard Modal Save variables checkbox"},saveTimerange:{"10.2.0":"Dashboard settings Save Dashboard Modal Save timerange checkbox"},saveRefresh:{"11.1.0":"Dashboard settings Save Dashboard Modal Save refresh checkbox"}},SharePanelModal:{linkToRenderedImage:{[jn]:"Link to rendered image"}},ShareDashboardModal:{PublicDashboard:{WillBePublicCheckbox:{"9.1.0":"data-testid public dashboard will be public checkbox"},LimitedDSCheckbox:{"9.1.0":"data-testid public dashboard limited datasources checkbox"},CostIncreaseCheckbox:{"9.1.0":"data-testid public dashboard cost may increase checkbox"},PauseSwitch:{"9.5.0":"data-testid public dashboard pause switch"},EnableAnnotationsSwitch:{"9.3.0":"data-testid public dashboard on off switch for annotations"},CreateButton:{"9.5.0":"data-testid public dashboard create button"},DeleteButton:{"9.3.0":"data-testid public dashboard delete button"},CopyUrlInput:{"9.1.0":"data-testid public dashboard copy url input"},CopyUrlButton:{"9.1.0":"data-testid public dashboard copy url button"},SettingsDropdown:{"10.1.0":"data-testid public dashboard settings dropdown"},TemplateVariablesWarningAlert:{"9.1.0":"data-testid public dashboard disabled template variables alert"},UnsupportedDataSourcesWarningAlert:{"9.5.0":"data-testid public dashboard unsupported data sources alert"},NoUpsertPermissionsWarningAlert:{"9.5.0":"data-testid public dashboard no upsert permissions alert"},EnableTimeRangeSwitch:{"9.4.0":"data-testid public dashboard on off switch for time range"},EmailSharingConfiguration:{Container:{"9.5.0":"data-testid email sharing config container"},ShareType:{"9.5.0":"data-testid public dashboard share type"},EmailSharingInput:{"9.5.0":"data-testid public dashboard email sharing input"},EmailSharingInviteButton:{"9.5.0":"data-testid public dashboard email sharing invite button"},EmailSharingList:{"9.5.0":"data-testid public dashboard email sharing list"},DeleteEmail:{"9.5.0":"data-testid public dashboard delete email button"},ReshareLink:{"9.5.0":"data-testid public dashboard reshare link button"}}},SnapshotScene:{url:{"11.1.0":e=>`/dashboard/snapshot/${e}`},PublishSnapshot:{"11.1.0":"data-testid publish snapshot button"},CopyUrlButton:{"11.1.0":"data-testid snapshot copy url button"},CopyUrlInput:{"11.1.0":"data-testid snapshot copy url input"}}},ShareDashboardDrawer:{ShareInternally:{container:{"11.3.0":"data-testid share internally drawer container"},lockTimeRangeSwitch:{"11.3.0":"data-testid share internally lock time range switch"},shortenUrlSwitch:{"11.3.0":"data-testid share internally shorten url switch"},copyUrlButton:{"11.3.0":"data-testid share internally copy url button"},SharePanel:{preview:{"11.5.0":"data-testid share panel internally image generation preview"},widthInput:{"11.5.0":"data-testid share panel internally width input"},heightInput:{"11.5.0":"data-testid share panel internally height input"},scaleFactorInput:{"11.5.0":"data-testid share panel internally scale factor input"},generateImageButton:{"11.5.0":"data-testid share panel internally generate image button"},downloadImageButton:{"11.5.0":"data-testid share panel internally download image button"}}},ShareExternally:{container:{"11.3.0":"data-testid share externally drawer container"},publicAlert:{"11.3.0":"data-testid public share alert"},emailSharingAlert:{"11.3.0":"data-testid email share alert"},shareTypeSelect:{"11.3.0":"data-testid share externally share type select"},Creation:{PublicShare:{createButton:{"11.3.0":"data-testid public share dashboard create button"},cancelButton:{"11.3.0":"data-testid public share dashboard cancel button"}},EmailShare:{createButton:{"11.3.0":"data-testid email share dashboard create button"},cancelButton:{"11.3.0":"data-testid email share dashboard cancel button"}},willBePublicCheckbox:{"11.3.0":"data-testid share dashboard will be public checkbox"}},Configuration:{enableTimeRangeSwitch:{"11.3.0":"data-testid share externally enable time range switch"},enableAnnotationsSwitch:{"11.3.0":"data-testid share externally enable annotations switch"},copyUrlButton:{"11.3.0":"data-testid share externally copy url button"},revokeAccessButton:{"11.3.0":"data-testid share externally revoke access button"},toggleAccessButton:{"11.3.0":"data-testid share externally pause or resume access button"}}},ShareSnapshot:{url:{"11.3.0":e=>`/dashboard/snapshot/${e}`},container:{"11.3.0":"data-testid share snapshot drawer container"},publishSnapshot:{"11.3.0":"data-testid share snapshot publish button"},copyUrlButton:{"11.3.0":"data-testid share snapshot copy url button"}}},ExportDashboardDrawer:{ExportAsJson:{container:{"11.3.0":"data-testid export as json drawer container"},codeEditor:{"11.3.0":"data-testid export as json code editor"},exportExternallyToggle:{"11.3.0":"data-testid export as json externally switch"},saveToFileButton:{"11.3.0":"data-testid export as json save to file button"},copyToClipboardButton:{"11.3.0":"data-testid export as json copy to clipboard button"},cancelButton:{"11.3.0":"data-testid export as json cancel button"}}},PublicDashboard:{page:{"9.5.0":"public-dashboard-page"},NotAvailable:{container:{"9.5.0":"public-dashboard-not-available"},title:{"9.5.0":"public-dashboard-title"},pausedDescription:{"9.5.0":"public-dashboard-paused-description"}},footer:{"11.0.0":"public-dashboard-footer"}},PublicDashboardScene:{loadingPage:{"11.0.0":"public-dashboard-scene-loading-page"},page:{"11.0.0":"public-dashboard-scene-page"},controls:{"11.0.0":"public-dashboard-controls"}},RequestViewAccess:{form:{"9.5.0":"request-view-access-form"},recipientInput:{"9.5.0":"request-view-access-recipient-input"},submitButton:{"9.5.0":"request-view-access-submit-button"}},PublicDashboardConfirmAccess:{submitButton:{"10.2.0":"data-testid confirm-access-submit-button"}},Explore:{url:{[jn]:"/explore"},General:{container:{[jn]:"data-testid Explore"},graph:{[jn]:"Explore Graph"},table:{[jn]:"Explore Table"},scrollView:{"9.0.0":"data-testid explorer scroll view"},addFromQueryLibrary:{"11.5.0":"data-testid explore add from query library button"}},QueryHistory:{container:{"11.1.0":"data-testid QueryHistory"}}},SoloPanel:{url:{[jn]:e=>`/d-solo/${e}`}},PluginsList:{page:{[jn]:"Plugins list page"},list:{[jn]:"Plugins list"},listItem:{[jn]:"Plugins list item"},signatureErrorNotice:{"10.3.0":"data-testid Unsigned plugins notice",[jn]:"Unsigned plugins notice"}},PluginPage:{page:{[jn]:"Plugin page"},signatureInfo:{"10.3.0":"data-testid Plugin signature info",[jn]:"Plugin signature info"},disabledInfo:{"10.3.0":"data-testid Plugin disabled info",[jn]:"Plugin disabled info"}},PlaylistForm:{name:{[jn]:"Playlist name"},interval:{[jn]:"Playlist interval"},itemDelete:{"10.2.0":"data-testid playlist-form-delete-item"}},BrowseDashboards:{table:{body:{"10.2.0":"data-testid browse-dashboards-table"},row:{"10.2.0":e=>`data-testid browse dashboards row ${e}`},checkbox:{"10.0.0":e=>`data-testid ${e} checkbox`}},NewFolderForm:{form:{"10.2.0":"data-testid new folder form"},nameInput:{"10.2.0":"data-testid new-folder-name-input"},createButton:{"10.2.0":"data-testid new-folder-create-button"}}},SearchDashboards:{table:{"10.2.0":"Search results table"}},Search:{url:{"9.3.0":"/?search=openn"},FolderView:{url:{"9.3.0":"/?search=open&layout=folders"}}},PublicDashboards:{ListItem:{linkButton:{"9.3.0":"public-dashboard-link-button"},configButton:{"9.3.0":"public-dashboard-configuration-button"},trashcanButton:{"9.3.0":"public-dashboard-remove-button"},pauseSwitch:{"10.1.0":"data-testid public dashboard pause switch"}}},UserListPage:{tabs:{allUsers:{"10.0.0":"data-testid all-users-tab"},orgUsers:{"10.0.0":"data-testid org-users-tab"},anonUserDevices:{"10.2.3":"data-testid anon-user-devices-tab"},publicDashboardsUsers:{"10.0.0":"data-testid public-dashboards-users-tab"},users:{"10.0.0":"data-testid users-tab"}},org:{url:{"10.2.0":"/admin/users","9.5.0":"/org/users"}},admin:{url:{"9.5.0":"/admin/users"}},publicDashboards:{container:{"11.1.0":"data-testid public-dashboards-users-list"}},UserListAdminPage:{container:{"10.0.0":"data-testid user-list-admin-page"}},UsersListPage:{container:{"10.0.0":"data-testid users-list-page"}},UserAnonListPage:{container:{"10.4.0":"data-testid user-anon-list-page"}},UsersListPublicDashboardsPage:{container:{"10.0.0":"data-testid users-list-public-dashboards-page"},DashboardsListModal:{listItem:{"10.0.0":e=>`data-testid dashboards-list-item-${e}`}}}},ProfilePage:{url:{"10.2.0":"/profile"}},Plugin:{url:{[jn]:e=>`/plugins/${e}`}},MigrateToCloud:{url:{"11.2.0":"/admin/migrate-to-cloud"}}}),components:Qn(Fn)};var Un=n(6089),Bn=n(7993);const qn=/[^ -~]/m,Wn=/^[\x21-\x2F\x3A-\x40\x5B-\x60\x7B-\x7E]+$/m,Hn=new Bn.A({intraMode:1});function Gn(e,t,n){let r=[];if(""===n)r=e;else if(qn.test(n)||Wn.test(n)||n.length>25||Hn.split(n).length>5)for(let a=0;a<t.length;a++){t[a].includes(n)&&r.push(e[a])}else{const[a,i,s]=Hn.search(t,n,5,1e4);(null==a?void 0:a.length)&&(r=i&&s?s.map(t=>e[i.idx[t]]):a.map(t=>e[t]))}return r}function Yn(e,t=!1){let n=e;t&&(n=[{value:tn,label:en},...n]);const r=n.map(e=>e.label);return e=>Gn(n,r,e)}const Zn=()=>!0,Kn=e=>"$__all"!==e.value,Jn=(e,t)=>e.length===t.filter(Kn).length?In.ToggleAllState.allSelected:0===e.length||1===e.length&&e[0]&&"$__all"===e[0].value?In.ToggleAllState.noneSelected:In.ToggleAllState.indeterminate;function er({model:e,state:t}){const{value:n,text:r,key:a,options:i,includeAll:s,isReadOnly:o,allowCustomValue:l=!0}=t,[u,d]=(0,c.useState)(""),[p,f]=(0,c.useState)(!1),g=function(e,t){return{value:e,label:null!=t?t:String(e)}}(n,String(r)),m=eu.getQueryController(e),v=(0,c.useMemo)(()=>Yn(i,s),[i,s])(u);return h().createElement(In.Select,{id:a,isValidNewOption:e=>e.trim().length>0,placeholder:Xt("grafana-scenes.variables.variable-value-select.placeholder-select-value","Select value"),width:"auto",disabled:o,value:g,inputValue:u,allowCustomValue:l,virtualized:!0,filterOption:Zn,tabSelectsValue:!1,onInputChange:(t,{action:n})=>"input-change"===n?(d(t),e.onSearchChange&&e.onSearchChange(t),t):t,onOpenMenu:()=>{p&&d(String(r))},onCloseMenu:()=>{d("")},options:v,"data-testid":Xn.pages.Dashboard.SubMenu.submenuItemValueDropDownValueLinkTexts(`${n}`),onChange:t=>{e.changeValueTo(t.value,t.label,!0),null==m||m.startProfile("VariableValueSelect"),p!==t.__isNew__&&f(t.__isNew__)}})}function tr({model:e,state:t}){const{value:n,options:r,key:a,maxVisibleValues:i,noValueOnClear:s,includeAll:o,isReadOnly:l,allowCustomValue:u=!0}=t,d=(0,c.useMemo)(()=>(0,D.isArray)(n)?n:[n],[n]),[p,f]=(0,c.useState)(d),[g,m]=(0,c.useState)(""),v=eu.getQueryController(e),b=(0,c.useMemo)(()=>Yn(r,o),[r,o]);(0,c.useEffect)(()=>{f(d)},[d]);const y=r.length>0?"Select value":"",O=b(g);return h().createElement(In.MultiSelect,{id:a,placeholder:y,width:"auto",inputValue:g,disabled:l,value:p,noMultiValueWrap:!0,maxVisibleValues:null!=i?i:5,tabSelectsValue:!1,virtualized:!0,allowCustomValue:u,toggleAllOptions:{enabled:!0,optionsFilter:Kn,determineToggleAllState:Jn},options:O,closeMenuOnSelect:!1,components:{Option:nr},isClearable:!0,hideSelectedOptions:!1,onInputChange:(t,{action:n})=>"input-change"===n?(m(t),e.onSearchChange&&e.onSearchChange(t),t):"input-blur"===n?(m(""),""):g,onBlur:()=>{e.changeValueTo(p,void 0,!0),null==v||v.startProfile("VariableValueSelectMulti")},filterOption:Zn,"data-testid":Xn.pages.Dashboard.SubMenu.submenuItemValueDropDownValueLinkTexts(`${p}`),onChange:(t,n)=>{"clear"===n.action&&s&&e.changeValueTo([],void 0,!0),f(t.map(e=>e.value))}})}const nr=({children:e,data:t,innerProps:n,innerRef:r,isFocused:a,isSelected:i,indeterminate:s,renderOptionLabel:o})=>{var l;const{onMouseMove:u,onMouseOver:c,...d}=n,p=(0,In.useTheme2)(),f=(0,In.getSelectStyles)(p),g=(0,In.useStyles2)(rr);return h().createElement("div",{ref:r,className:(0,Un.cx)(f.option,a&&f.optionFocused),...d,"data-testid":"data-testid Select option",title:t.title},h().createElement("div",{className:g.checkbox},h().createElement(In.Checkbox,{indeterminate:s,value:i})),h().createElement("div",{className:f.optionBody,"data-testid":Xn.pages.Dashboard.SubMenu.submenuItemValueDropDownOptionTexts(null!=(l=t.label)?l:String(t.value))},h().createElement("span",null,e)))};nr.displayName="SelectMenuOptions";const rr=e=>({checkbox:(0,Un.css)({marginRight:e.spacing(2)})});function ar({model:e}){const t=e.useState();return t.isMulti?h().createElement(tr,{model:e,state:t}):h().createElement(er,{model:e,state:t})}class ir{constructor(e){this._sceneObject=e,this._nextChangeShouldAddHistoryStep=!1}getRestorableKey(){return`restorable-var-${this._sceneObject.state.name}`}getKey(){return`var-${this._sceneObject.state.name}`}getKeys(){return this._sceneObject.state.skipUrlSync?[]:[this.getKey(),this.getRestorableKey()]}getUrlState(){return this._sceneObject.state.skipUrlSync?{}:{[this.getKey()]:sr(this._sceneObject.state.value,this._sceneObject.state.text),[this.getRestorableKey()]:this._sceneObject.state.defaultValue?this._sceneObject.state.restorable?"true":"false":null}}updateFromUrl(e){let t=e[this.getKey()],n=e[this.getRestorableKey()];if(null!=t){this._sceneObject.isActive||(this._sceneObject.skipNextValidation=!0);const{values:e,texts:a}=(r=t,(r=Array.isArray(r)?r:[r]).reduce((e,t)=>{const[n,r]=(null!=t?t:"").split(",");return e.values.push(xl(n)),e.texts.push(xl(null!=r?r:n)),e},{values:[],texts:[]}));if(this._sceneObject.state.defaultValue&&("false"===n||void 0===n))return;if("false"===n)return void this._sceneObject.changeValueTo([],[],!1);this._sceneObject.changeValueTo(e,a)}var r}performBrowserHistoryAction(e){this._nextChangeShouldAddHistoryStep=!0,e(),this._nextChangeShouldAddHistoryStep=!1}shouldCreateHistoryStep(e){return this._nextChangeShouldAddHistoryStep}}function sr(e,t){return e=Array.isArray(e)?e:[e],t=Array.isArray(t)?t:[t],e.map((e,n)=>{if(null==e)return"";e=String(e);let r=t[n];return r=null==r?e:String(r),Sl(e,r)})}function or(e){const t=e.getRoot();return"enrichFiltersRequest"in t?t.enrichFiltersRequest(e):null}var lr,ur=e=>{throw TypeError(e)},cr=(e,t,n)=>t.has(e)||ur("Cannot "+n);class dr{constructor(e){((e,t,n)=>{t.has(e)?ur("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n)})(this,lr),this.text="__sceneObject",this.valueOf=()=>{return cr(e=this,t=lr,"read from private field"),n?n.call(e):t.get(e);var e,t,n},((e,t,n)=>{cr(e,t,"write to private field"),t.set(e,n)})(this,lr,e)}toString(){}get value(){return this}}function hr(e){return function(e){const t=e.match(/^(\d+)\.(\d+)\.(\d+)/);if(!t)return!1;const n=parseInt(t[1],10),r=parseInt(t[2],10),a=parseInt(t[3],10);return 11===n?0===r&&a>=4||1===r&&a>=2||r>1:10===n?4===r&&a>=8||r>=5:n>11}(s.config.buildInfo.version)?new dr(e):{value:e,text:"__sceneObject"}}function pr(e){const{model:t}=e,n=(0,In.useTheme2)(),r=fr(n),a=(0,In.getInputStyles)({theme:n,invalid:!1}),i=(0,D.isArray)(t.state.value)?t.state.value:t.state.value?[t.state.value]:[];let s=[];return i&&i.length&&s.push(h().createElement(In.IconButton,{"aria-label":Xt("grafana-scenes.variables.default-group-by-custom-indicator-container.aria-label-clear","clear"),key:"clear",name:"times",size:"md",className:r.clearIcon,onClick:e=>{t.changeValueTo([],void 0,!0),t.checkIfRestorable([])&&t.setState({restorable:!0})}})),t.state.restorable&&s.push(h().createElement(In.IconButton,{onClick:t=>{e.model.restoreDefaultValues()},onKeyDownCapture:t=>{"Enter"===t.key&&e.model.restoreDefaultValues()},key:"restore",name:"history",size:"md",className:r.clearIcon,tooltip:Xt("grafana-scenes.variables.default-group-by-custom-indicator-container.tooltip-restore-groupby-set-by-this-dashboard","Restore groupby set by this dashboard.")})),t.state.restorable||s.push(h().createElement(In.Tooltip,{key:"tooltip",content:Xt("grafana-scenes.variables.default-group-by-custom-indicator-container.tooltip","Applied by default in this dashboard. If edited, it carries over to other dashboards."),placement:"bottom"},h().createElement(In.Icon,{name:"info-circle",size:"md"}))),h().createElement("div",{onMouseDown:e=>{e.preventDefault(),e.stopPropagation()},className:(0,Un.cx)(a.suffix,(0,Un.css)({position:"relative"}))},s)}lr=new WeakMap;const fr=e=>({clearIcon:(0,Un.css)({color:e.colors.action.disabledText,cursor:"pointer","&:hover:before":{backgroundColor:"transparent"},"&:hover":{color:e.colors.text.primary}})});class gr extends hn{constructor(e){super({isMulti:!0,name:"",value:[],text:[],options:[],datasource:null,baseFilters:[],applyMode:"auto",layout:"horizontal",type:"groupby",...e,noValueOnClear:!0}),this.isLazy=!0,this._urlSync=new ir(this),this._activationHandler=()=>(this.state.defaultValue&&this.checkIfRestorable(this.state.value)&&this.setState({restorable:!0}),()=>{this.state.defaultValue&&this.restoreDefaultValues()}),this._getKeys=async e=>{var t,n,r;const a=await(null==(n=(t=this.state).getTagKeysProvider)?void 0:n.call(t,this,null));if(a&&a.replace)return a.values;if(this.state.defaultOptions)return this.state.defaultOptions.concat($l(null!=(r=null==a?void 0:a.values)?r:[]));if(!e.getTagKeys)return[];const i=bl(this),s=this.state.baseFilters||[],o=eu.getTimeRange(this).state.value,l=await e.getTagKeys({filters:s,queries:i,timeRange:o,scopes:eu.getScopes(this),...or(this)});Rl(l)&&this.setState({error:l.error.message});let u=$l(l);a&&(u=u.concat($l(a.values)));const c=this.state.tagKeyRegexFilter;return c&&(u=u.filter(e=>e.text.match(c))),u},this.state.defaultValue&&this.changeValueTo(this.state.defaultValue.value,this.state.defaultValue.text,!1),"auto"===this.state.applyMode&&this.addActivationHandler(()=>(An.add(this),()=>An.delete(this))),this.addActivationHandler(this._activationHandler)}validateAndUpdate(){return this.getValueOptions({}).pipe((0,p.map)(e=>(this._updateValueGivenNewOptions(e),{})))}_updateValueGivenNewOptions(e){const{value:t,text:n}=this.state,r={options:e,loading:!1,value:null!=t?t:[],text:null!=n?n:[]};this.setState(r)}getValueOptions(e){return this.state.defaultOptions?(0,p.of)(this.state.defaultOptions.map(e=>({label:e.text,value:String(e.value),group:e.group}))):(this.setState({loading:!0,error:null}),(0,p.from)(Rn(this.state.datasource,{__sceneObject:hr(this)})).pipe((0,p.mergeMap)(e=>(0,p.from)(this._getKeys(e)).pipe((0,p.tap)(e=>{Rl(e)&&this.setState({error:e.error.message})}),(0,p.map)(e=>$l(e)),(0,p.take)(1),(0,p.mergeMap)(e=>{const t=e.map(e=>({label:e.text,value:e.value?String(e.value):e.text,group:e.group}));return(0,p.of)(t)})))))}checkIfRestorable(e){var t,n,r,a;const i=(0,D.isArray)(null==(t=this.state.defaultValue)?void 0:t.value)?null==(n=this.state.defaultValue)?void 0:n.value:(null==(r=this.state.defaultValue)?void 0:r.value)?[null==(a=this.state.defaultValue)?void 0:a.value]:[],s=(0,D.isArray)(e)?e:[e];return s.length!==i.length||!(0,D.isEqual)(s,i)}restoreDefaultValues(){this.setState({restorable:!1}),this.state.defaultValue&&this.changeValueTo(this.state.defaultValue.value,this.state.defaultValue.text,!0)}getDefaultMultiState(e){return{value:[],text:[]}}}gr.Component=function({model:e}){const{value:t,text:n,key:r,isMulti:a=!0,maxVisibleValues:i,noValueOnClear:s,options:o,includeAll:l,allowCustomValue:u=!0,defaultValue:d}=e.useState(),f=(0,c.useMemo)(()=>{const e=(0,D.isArray)(t)?t:[t],r=(0,D.isArray)(n)?n:[n];return e.map((e,t)=>{var n;return{value:e,label:String(null!=(n=r[t])?n:e)}})},[t,n]),[g,m]=(0,c.useState)(!1),[v,b]=(0,c.useState)(!1),[y,O]=(0,c.useState)(""),[w,x]=(0,c.useState)(f),S=(0,c.useMemo)(()=>Yn(o,l),[o,l]),$=void 0!==d;(0,c.useEffect)(()=>{x(f)},[f]);const R=(t,{action:n})=>"input-change"===n?(O(t),e.onSearchChange&&e.onSearchChange(t),t):"input-blur"===n?(O(""),""):y,P=(0,c.useMemo)(()=>Pl(S(y).map(vr)),[S,y]);return a?h().createElement(In.MultiSelect,{"aria-label":Xt("grafana-scenes.variables.group-by-variable-renderer.aria-label-group-by-selector","Group by selector"),"data-testid":`GroupBySelect-${r}`,id:r,placeholder:Xt("grafana-scenes.variables.group-by-variable-renderer.placeholder-group-by-label","Group by label"),width:"auto",allowCustomValue:u,inputValue:y,value:w,noMultiValueWrap:!0,maxVisibleValues:null!=i?i:5,tabSelectsValue:!1,virtualized:!0,options:P,filterOption:mr,closeMenuOnSelect:!1,isOpen:v,isClearable:!0,hideSelectedOptions:!1,isLoading:g,components:{Option:nr,...$?{IndicatorsContainer:()=>h().createElement(pr,{model:e})}:{}},onInputChange:R,onBlur:()=>{e.changeValueTo(w.map(e=>e.value),w.map(e=>e.label),!0);const t=e.checkIfRestorable(w.map(e=>e.value));t!==e.state.restorable&&e.setState({restorable:t})},onChange:(t,n)=>{"clear"===n.action&&s&&e.changeValueTo([],void 0,!0),x(t)},onOpenMenu:async()=>{m(!0),await(0,p.lastValueFrom)(e.validateAndUpdate()),m(!1),b(!0)},onCloseMenu:()=>{b(!1)}}):h().createElement(In.Select,{"aria-label":Xt("grafana-scenes.variables.group-by-variable-renderer.aria-label-group-by-selector","Group by selector"),"data-testid":`GroupBySelect-${r}`,id:r,placeholder:Xt("grafana-scenes.variables.group-by-variable-renderer.placeholder-group-by-label","Group by label"),width:"auto",inputValue:y,value:w&&w.length>0?w:null,allowCustomValue:u,noMultiValueWrap:!0,maxVisibleValues:null!=i?i:5,tabSelectsValue:!1,virtualized:!0,options:P,filterOption:mr,closeMenuOnSelect:!0,isOpen:v,isClearable:!0,hideSelectedOptions:!1,noValueOnClear:!0,isLoading:g,onInputChange:R,onChange:(t,n)=>{if("clear"===n.action)return x([]),void(s&&e.changeValueTo([]));(null==t?void 0:t.value)&&(x([t]),e.changeValueTo([t.value],t.label?[t.label]:void 0))},onOpenMenu:async()=>{m(!0),await(0,p.lastValueFrom)(e.validateAndUpdate()),m(!1),b(!0)},onCloseMenu:()=>{b(!1)}})};const mr=()=>!0;function vr(e){const{label:t,value:n,group:r}=e,a={label:t,value:n};return r&&(a.group=r),a}function br(e){return h().createElement(In.Tooltip,{content:Xt("grafana-scenes.utils.loading-indicator.content-cancel-query","Cancel query")},h().createElement(In.Icon,{className:"spin-clockwise",name:"sync",size:"xs",role:"button",onMouseDown:t=>{e.onCancel(t)}}))}function yr(e){const t=(0,In.useStyles2)(Or),n=(0,In.useTheme2)(),r="vertical"===e.layout,a=Boolean(e.isLoading)?h().createElement("div",{style:{marginLeft:n.spacing(1),marginTop:"-1px"},"aria-label":Xn.components.LoadingIndicator.icon},h().createElement(br,{onCancel:t=>{var n;t.preventDefault(),t.stopPropagation(),null==(n=e.onCancel)||n.call(e)}})):null;let i=null;e.error&&(i=h().createElement(In.Tooltip,{content:e.error,placement:"bottom"},h().createElement(In.Icon,{className:t.errorIcon,name:"exclamation-triangle"})));let s=null;e.description&&(s=h().createElement(In.Tooltip,{content:e.description,placement:r?"top":"bottom"},h().createElement(In.Icon,{className:t.normalIcon,name:"info-circle"})));const o="string"==typeof e.label?Xn.pages.Dashboard.SubMenu.submenuItemLabels(e.label):"";let l;return l=r?h().createElement("label",{className:(0,Un.cx)(t.verticalLabel,e.className),"data-testid":o,htmlFor:e.htmlFor},e.prefix,e.label,s,i,e.icon&&h().createElement(In.Icon,{name:e.icon,className:t.normalIcon}),a,e.onRemove&&h().createElement(In.IconButton,{variant:"secondary",size:"xs",name:"times",onClick:e.onRemove,tooltip:Xt("grafana-scenes.utils.controls-label.tooltip-remove","Remove")}),e.suffix):h().createElement("label",{className:(0,Un.cx)(t.horizontalLabel,e.className),"data-testid":o,htmlFor:e.htmlFor},e.prefix,i,e.icon&&h().createElement(In.Icon,{name:e.icon,className:t.normalIcon}),e.label,s,a,e.suffix),l}const Or=e=>({horizontalLabel:(0,Un.css)({background:e.isDark?e.colors.background.primary:e.colors.background.secondary,display:"flex",alignItems:"center",padding:e.spacing(0,1),fontWeight:e.typography.fontWeightMedium,fontSize:e.typography.bodySmall.fontSize,height:e.spacing(e.components.height.md),lineHeight:e.spacing(e.components.height.md),borderRadius:`${e.shape.radius.default} 0 0 ${e.shape.radius.default}`,border:`1px solid ${e.components.input.borderColor}`,position:"relative",right:-1,whiteSpace:"nowrap",gap:e.spacing(.5)}),verticalLabel:(0,Un.css)({display:"flex",alignItems:"center",fontWeight:e.typography.fontWeightMedium,fontSize:e.typography.bodySmall.fontSize,lineHeight:e.typography.bodySmall.lineHeight,whiteSpace:"nowrap",marginBottom:e.spacing(.5),gap:e.spacing(1)}),errorIcon:(0,Un.css)({color:e.colors.error.text}),normalIcon:(0,Un.css)({color:e.colors.text.secondary})});function wr(e){const t=e.map(e=>{var t;return null!=(t=e.label)?t:String(e.value)});return n=>Gn(e,t,n)}function xr(e,t){return""!==e?{value:e,label:t||e}:null}const Sr=()=>!0;function $r({filter:e,model:t}){var n,r,a,i,s;const o=(0,In.useStyles2)(Rr),[l,u]=(0,c.useState)([]),[d,p]=(0,c.useState)([]),[f,g]=(0,c.useState)(!1),[m,v]=(0,c.useState)(!1),[b,y]=(0,c.useState)(!1),[O,w]=(0,c.useState)(!1),[x,S]=(0,c.useState)(!1),[$,R]=(0,c.useState)(""),[P,E]=(0,c.useState)(!1),[k,_]=(0,c.useState)(e.values?e.values.map((t,n)=>{var r;return xr(t,null==(r=e.valueLabels)?void 0:r[n])}):[]),C=il(e.operator),T=xr(e.key,e.keyLabel),D=xr(e.value,null==(n=e.valueLabels)?void 0:n[0]),A=(0,c.useMemo)(()=>wr(d),[d]),I=t.state.onAddCustomValue,L=(0,c.useMemo)(()=>Pl(A($)),[A,$]),Q={isMulti:!0,value:k,components:{Option:nr},hideSelectedOptions:!1,closeMenuOnSelect:!1,openMenuOnFocus:!1,onChange:e=>{_(e),e.some(e=>e.__isNew__)&&R("")},onBlur:()=>{var n,r;t._updateFilter(e,{value:null!=(r=null==(n=k[0])?void 0:n.value)?r:"",values:k.map(e=>e.value),valueLabels:k.map(e=>e.label)})}},N=h().createElement(In.Select,{virtualized:!0,allowCustomValue:null==(r=t.state.allowCustomValue)||r,isValidNewOption:e=>e.trim().length>0,allowCreateWhileLoading:!0,formatCreateLabel:e=>`Use custom value: ${e}`,disabled:t.state.readOnly,className:(0,Un.cx)(o.value,O?o.widthWhenOpen:void 0),width:"auto",value:D,filterOption:Sr,placeholder:Xt("grafana-scenes.variables.ad-hoc-filter-renderer.value-select.placeholder-select-value","Select value"),options:L,inputValue:$,onInputChange:(e,{action:t})=>("input-change"===t&&R(e),e),onChange:n=>{I&&n.__isNew__?t._updateFilter(e,I(n,e)):t._updateFilter(e,{value:n.value,valueLabels:n.label?[n.label]:[n.value]}),P!==n.__isNew__&&E(n.__isNew__)},isOpen:O&&!m,isLoading:m,openMenuOnFocus:!0,onOpenMenu:async()=>{var n;v(!0),w(!0);const r=await t._getValuesFor(e);v(!1),p(r),P&&R(null!=(n=null==D?void 0:D.label)?n:"")},onCloseMenu:()=>{w(!1),R("")},...C&&Q}),V=h().createElement(In.Select,{key:""+(m?"loading":"loaded"),disabled:t.state.readOnly,className:(0,Un.cx)(o.key,b?o.widthWhenOpen:void 0),width:"auto",allowCustomValue:null==(a=t.state.allowCustomValue)||a,value:T,placeholder:Xt("grafana-scenes.variables.ad-hoc-filter-renderer.key-select.placeholder-select-label","Select label"),options:Pl(l),onChange:n=>{t._updateFilter(e,{key:n.value,keyLabel:n.label,value:"",valueLabels:[""],values:void 0}),_([])},autoFocus:""===e.key,isOpen:b&&!f,isLoading:f,onOpenMenu:async()=>{y(!0),g(!0);const n=await t._getKeys(e.key);g(!1),u(n)},onCloseMenu:()=>{y(!1)},onBlur:()=>{""===e.key&&t._removeFilter(e)},openMenuOnFocus:!0}),z=h().createElement(In.Select,{className:(0,Un.cx)(o.operator,{[o.widthWhenOpen]:x}),value:e.operator,disabled:t.state.readOnly,options:t._getOperators(),onChange:n=>{var r,a;const i=e.operator,s=n.value,o={operator:s};il(i)&&!il(s)?(o.value="",o.valueLabels=[""],o.values=void 0,_([])):!il(i)&&il(s)&&e.value&&(o.values=[e.value],_([{value:e.value,label:null!=(a=null==(r=e.valueLabels)?void 0:r[0])?a:e.value}])),t._updateFilter(e,o)},onOpenMenu:()=>{S(!0)},onCloseMenu:()=>{S(!1)}});if("vertical"===t.state.layout){if(e.key){const n=h().createElement(yr,{layout:"vertical",label:null!=(i=e.key)?i:"",onRemove:()=>t._removeFilter(e)});return h().createElement(In.Field,{label:n,"data-testid":`AdHocFilter-${e.key}`,className:o.field},h().createElement("div",{className:o.wrapper},z,N))}return h().createElement(In.Field,{label:Xt("grafana-scenes.variables.ad-hoc-filter-renderer.label-select-label","Select label"),"data-testid":`AdHocFilter-${e.key}`,className:o.field},V)}return h().createElement("div",{className:o.wrapper,"data-testid":`AdHocFilter-${e.key}`},V,z,N,h().createElement(In.Button,{variant:"secondary","aria-label":Xt("grafana-scenes.variables.ad-hoc-filter-renderer.aria-label-remove-filter","Remove filter"),title:Xt("grafana-scenes.variables.ad-hoc-filter-renderer.title-remove-filter","Remove filter"),className:o.removeButton,icon:"times","data-testid":`AdHocFilter-remove-${null!=(s=e.key)?s:""}`,onClick:()=>t._removeFilter(e)}))}const Rr=e=>({field:(0,Un.css)({marginBottom:0}),wrapper:(0,Un.css)({display:"flex","> *":{"&:not(:first-child)":{marginLeft:-1},"&:first-child":{borderTopRightRadius:0,borderBottomRightRadius:0},"&:last-child":{borderTopLeftRadius:0,borderBottomLeftRadius:0},"&:not(:first-child):not(:last-child)":{borderRadius:0},position:"relative",zIndex:0,"&:hover":{zIndex:1},"&:focus-within":{zIndex:2}}}),widthWhenOpen:(0,Un.css)({minWidth:e.spacing(16)}),value:(0,Un.css)({flexBasis:"content",flexShrink:1,minWidth:"90px"}),key:(0,Un.css)({flexBasis:"content",minWidth:"90px",flexShrink:1}),operator:(0,Un.css)({flexShrink:0,flexBasis:"content"}),removeButton:(0,Un.css)({paddingLeft:e.spacing(1.5),paddingRight:e.spacing(1.5),borderLeft:"none",width:e.spacing(3),marginRight:e.spacing(1),boxSizing:"border-box",position:"relative",left:"1px"})});function Pr({model:e,addFilterButtonText:t}){const{_wip:n}=e.useState();return n?h().createElement($r,{filter:n,model:e}):h().createElement(In.Button,{variant:"secondary",icon:"plus",title:Xt("grafana-scenes.variables.ad-hoc-filter-builder.title-add-filter","Add filter"),"aria-label":Xt("grafana-scenes.variables.ad-hoc-filter-builder.aria-label-add-filter","Add filter"),"data-testid":"AdHocFilter-add",onClick:()=>e._addWip()},t)}class Er{constructor(e){this._variable=e}getKey(){return`var-${this._variable.state.name}`}getKeys(){return[this.getKey()]}getUrlState(){const e=this._variable.state.filters,t=this._variable.state.originFilters;let n=[];return 0===e.length&&0===(null==t?void 0:t.length)?{[this.getKey()]:[""]}:(e.length&&n.push(...e.filter(rl).filter(e=>!e.hidden).map(e=>kr(e).map(wl).join("|"))),(null==t?void 0:t.length)&&n.push(...null==t?void 0:t.filter(rl).filter(e=>!e.hidden&&e.origin&&e.restorable).map(e=>kr(e).map(wl).join("|").concat(`#${e.origin}#restorable`))),{[this.getKey()]:n.length?n:[""]})}updateFromUrl(e){const t=e[this.getKey()];if(null==t)return;const n=function(e){if(Array.isArray(e)){return e.map(_r).filter(Cr)}const t=_r(e);return null===t?[]:[t]}(t),r=function(e,t){const n=[...e];for(let r=0;r<t.length;r++){const a=e.findIndex(e=>e.key===t[r].key);a>-1?(t[r].origin||"dashboard"!==e[a].origin||(t[r].origin="dashboard",t[r].restorable=!0),nl(t[r])&&(t[r].matchAllFilter=!0),n[a]=t[r]):"dashboard"===t[r].origin?(delete t[r].origin,delete t[r].restorable):-1===a&&"scope"===t[r].origin&&t[r].restorable&&n.push(t[r])}return n}([...this._variable.state.originFilters||[]],n);this._variable.setState({filters:n.filter(e=>!e.origin),originFilters:r})}}function kr(e){var t;const n=[Sl(e.key,e.keyLabel),e.operator];return il(e.operator)?e.values.forEach((t,r)=>{var a;n.push(Sl(t,null==(a=e.valueLabels)?void 0:a[r]))}):n.push(Sl(e.value,null==(t=e.valueLabels)?void 0:t[0])),n}function _r(e){if("string"!=typeof e||0===e.length)return null;const[t,n,r]=e.split("#"),[a,i,s,o,...l]=t.split("|").reduce((e,t)=>{const[n,r]=t.split(",");return e.push(n,null!=r?r:n),e},[]).map(xl);return{key:a,keyLabel:i,operator:s,value:l[0],values:il(s)?l.filter((e,t)=>t%2==0):void 0,valueLabels:l.filter((e,t)=>t%2==1),condition:"",...(u=n,("scope"===u||"dashboard"===u)&&{origin:n}),...!!r&&{restorable:!0}};var u}function Cr(e){return null!==e&&"string"==typeof e.key&&"string"==typeof e.value}function Tr(){return"undefined"!=typeof window}function Dr(e){return Lr(e)?(e.nodeName||"").toLowerCase():"#document"}function Ar(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function Ir(e){var t;return null==(t=(Lr(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function Lr(e){return!!Tr()&&(e instanceof Node||e instanceof Ar(e).Node)}function Qr(e){return!!Tr()&&(e instanceof Element||e instanceof Ar(e).Element)}function Nr(e){return!!Tr()&&(e instanceof HTMLElement||e instanceof Ar(e).HTMLElement)}function Vr(e){return!(!Tr()||"undefined"==typeof ShadowRoot)&&(e instanceof ShadowRoot||e instanceof Ar(e).ShadowRoot)}const zr=new Set(["inline","contents"]);function Mr(e){const{overflow:t,overflowX:n,overflowY:r,display:a}=Kr(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!zr.has(a)}const jr=new Set(["table","td","th"]);function Fr(e){return jr.has(Dr(e))}const Xr=[":popover-open",":modal"];function Ur(e){return Xr.some(t=>{try{return e.matches(t)}catch(e){return!1}})}const Br=["transform","translate","scale","rotate","perspective"],qr=["transform","translate","scale","rotate","perspective","filter"],Wr=["paint","layout","strict","content"];function Hr(e){const t=Gr(),n=Qr(e)?Kr(e):e;return Br.some(e=>!!n[e]&&"none"!==n[e])||!!n.containerType&&"normal"!==n.containerType||!t&&!!n.backdropFilter&&"none"!==n.backdropFilter||!t&&!!n.filter&&"none"!==n.filter||qr.some(e=>(n.willChange||"").includes(e))||Wr.some(e=>(n.contain||"").includes(e))}function Gr(){return!("undefined"==typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}const Yr=new Set(["html","body","#document"]);function Zr(e){return Yr.has(Dr(e))}function Kr(e){return Ar(e).getComputedStyle(e)}function Jr(e){return Qr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function ea(e){if("html"===Dr(e))return e;const t=e.assignedSlot||e.parentNode||Vr(e)&&e.host||Ir(e);return Vr(t)?t.host:t}function ta(e){const t=ea(e);return Zr(t)?e.ownerDocument?e.ownerDocument.body:e.body:Nr(t)&&Mr(t)?t:ta(t)}function na(e,t,n){var r;void 0===t&&(t=[]),void 0===n&&(n=!0);const a=ta(e),i=a===(null==(r=e.ownerDocument)?void 0:r.body),s=Ar(a);if(i){const e=ra(s);return t.concat(s,s.visualViewport||[],Mr(a)?a:[],e&&n?na(e):[])}return t.concat(a,na(a,[],n))}function ra(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function aa(e){let t=e.activeElement;for(;null!=(null==(n=t)||null==(n=n.shadowRoot)?void 0:n.activeElement);){var n;t=t.shadowRoot.activeElement}return t}function ia(e,t){if(!e||!t)return!1;const n=null==t.getRootNode?void 0:t.getRootNode();if(e.contains(t))return!0;if(n&&Vr(n)){let n=t;for(;n;){if(e===n)return!0;n=n.parentNode||n.host}}return!1}function sa(){const e=navigator.userAgentData;return null!=e&&e.platform?e.platform:navigator.platform}function oa(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(e=>{let{brand:t,version:n}=e;return t+"/"+n}).join(" "):navigator.userAgent}function la(e){return!(0!==e.mozInputSource||!e.isTrusted)||(da()&&e.pointerType?"click"===e.type&&1===e.buttons:0===e.detail&&!e.pointerType)}function ua(e){return!oa().includes("jsdom/")&&(!da()&&0===e.width&&0===e.height||da()&&1===e.width&&1===e.height&&0===e.pressure&&0===e.detail&&"mouse"===e.pointerType||e.width<1&&e.height<1&&0===e.pressure&&0===e.detail&&"touch"===e.pointerType)}function ca(){return/apple/i.test(navigator.vendor)}function da(){const e=/android/i;return e.test(sa())||e.test(oa())}function ha(e){return(null==e?void 0:e.ownerDocument)||document}function pa(e,t){if(null==t)return!1;if("composedPath"in e)return e.composedPath().includes(t);const n=e;return null!=n.target&&t.contains(n.target)}function fa(e){return"composedPath"in e?e.composedPath()[0]:e.target}function ga(e){e.preventDefault(),e.stopPropagation()}function ma(e){return!!e&&("combobox"===e.getAttribute("role")&&function(e){return Nr(e)&&e.matches("input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])")}(e))}const va=Math.min,ba=Math.max,ya=Math.round,Oa=Math.floor,wa=e=>({x:e,y:e}),xa={left:"right",right:"left",bottom:"top",top:"bottom"},Sa={start:"end",end:"start"};function $a(e,t){return"function"==typeof e?e(t):e}function Ra(e){return e.split("-")[0]}function Pa(e){return e.split("-")[1]}function Ea(e){return"y"===e?"height":"width"}const ka=new Set(["top","bottom"]);function _a(e){return ka.has(Ra(e))?"y":"x"}function Ca(e){return"x"===_a(e)?"y":"x"}function Ta(e){return e.replace(/start|end/g,e=>Sa[e])}const Da=["left","right"],Aa=["right","left"],Ia=["top","bottom"],La=["bottom","top"];function Qa(e,t,n,r){const a=Pa(e);let i=function(e,t,n){switch(e){case"top":case"bottom":return n?t?Aa:Da:t?Da:Aa;case"left":case"right":return t?Ia:La;default:return[]}}(Ra(e),"start"===n,r);return a&&(i=i.map(e=>e+"-"+a),t&&(i=i.concat(i.map(Ta)))),i}function Na(e){return e.replace(/left|right|bottom|top/g,e=>xa[e])}function Va(e){const{x:t,y:n,width:r,height:a}=e;return{width:r,height:a,top:n,left:t,right:t+r,bottom:n+a,x:t,y:n}}var za=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],Ma=za.join(","),ja="undefined"==typeof Element,Fa=ja?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,Xa=!ja&&Element.prototype.getRootNode?function(e){var t;return null==e||null===(t=e.getRootNode)||void 0===t?void 0:t.call(e)}:function(e){return null==e?void 0:e.ownerDocument},Ua=function e(t,n){var r;void 0===n&&(n=!0);var a=null==t||null===(r=t.getAttribute)||void 0===r?void 0:r.call(t,"inert");return""===a||"true"===a||n&&t&&e(t.parentNode)},Ba=function(e,t,n){if(Ua(e))return[];var r=Array.prototype.slice.apply(e.querySelectorAll(Ma));return t&&Fa.call(e,Ma)&&r.unshift(e),r=r.filter(n)},qa=function e(t,n,r){for(var a=[],i=Array.from(t);i.length;){var s=i.shift();if(!Ua(s,!1))if("SLOT"===s.tagName){var o=s.assignedElements(),l=e(o.length?o:s.children,!0,r);r.flatten?a.push.apply(a,l):a.push({scopeParent:s,candidates:l})}else{Fa.call(s,Ma)&&r.filter(s)&&(n||!t.includes(s))&&a.push(s);var u=s.shadowRoot||"function"==typeof r.getShadowRoot&&r.getShadowRoot(s),c=!Ua(u,!1)&&(!r.shadowRootFilter||r.shadowRootFilter(s));if(u&&c){var d=e(!0===u?s.children:u.children,!0,r);r.flatten?a.push.apply(a,d):a.push({scopeParent:s,candidates:d})}else i.unshift.apply(i,s.children)}}return a},Wa=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},Ha=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||function(e){var t,n=null==e||null===(t=e.getAttribute)||void 0===t?void 0:t.call(e,"contenteditable");return""===n||"true"===n}(e))&&!Wa(e)?0:e.tabIndex},Ga=function(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex},Ya=function(e){return"INPUT"===e.tagName},Za=function(e){return function(e){return Ya(e)&&"radio"===e.type}(e)&&!function(e){if(!e.name)return!0;var t,n=e.form||Xa(e),r=function(e){return n.querySelectorAll('input[type="radio"][name="'+e+'"]')};if("undefined"!=typeof window&&void 0!==window.CSS&&"function"==typeof window.CSS.escape)t=r(window.CSS.escape(e.name));else try{t=r(e.name)}catch(e){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",e.message),!1}var a=function(e,t){for(var n=0;n<e.length;n++)if(e[n].checked&&e[n].form===t)return e[n]}(t,e.form);return!a||a===e}(e)},Ka=function(e){var t=e.getBoundingClientRect(),n=t.width,r=t.height;return 0===n&&0===r},Ja=function(e,t){var n=t.displayCheck,r=t.getShadowRoot;if("hidden"===getComputedStyle(e).visibility)return!0;var a=Fa.call(e,"details>summary:first-of-type")?e.parentElement:e;if(Fa.call(a,"details:not([open]) *"))return!0;if(n&&"full"!==n&&"legacy-full"!==n){if("non-zero-area"===n)return Ka(e)}else{if("function"==typeof r){for(var i=e;e;){var s=e.parentElement,o=Xa(e);if(s&&!s.shadowRoot&&!0===r(s))return Ka(e);e=e.assignedSlot?e.assignedSlot:s||o===e.ownerDocument?s:o.host}e=i}if(function(e){var t,n,r,a,i=e&&Xa(e),s=null===(t=i)||void 0===t?void 0:t.host,o=!1;if(i&&i!==e)for(o=!!(null!==(n=s)&&void 0!==n&&null!==(r=n.ownerDocument)&&void 0!==r&&r.contains(s)||null!=e&&null!==(a=e.ownerDocument)&&void 0!==a&&a.contains(e));!o&&s;){var l,u,c;o=!(null===(u=s=null===(l=i=Xa(s))||void 0===l?void 0:l.host)||void 0===u||null===(c=u.ownerDocument)||void 0===c||!c.contains(s))}return o}(e))return!e.getClientRects().length;if("legacy-full"!==n)return!0}return!1},ei=function(e,t){return!(t.disabled||Ua(t)||function(e){return Ya(e)&&"hidden"===e.type}(t)||Ja(t,e)||function(e){return"DETAILS"===e.tagName&&Array.prototype.slice.apply(e.children).some(function(e){return"SUMMARY"===e.tagName})}(t)||function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var t=e.parentElement;t;){if("FIELDSET"===t.tagName&&t.disabled){for(var n=0;n<t.children.length;n++){var r=t.children.item(n);if("LEGEND"===r.tagName)return!!Fa.call(t,"fieldset[disabled] *")||!r.contains(e)}return!0}t=t.parentElement}return!1}(t))},ti=function(e,t){return!(Za(t)||Ha(t)<0||!ei(e,t))},ni=function(e){var t=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(t)||t>=0)},ri=function e(t){var n=[],r=[];return t.forEach(function(t,a){var i=!!t.scopeParent,s=i?t.scopeParent:t,o=function(e,t){var n=Ha(e);return n<0&&t&&!Wa(e)?0:n}(s,i),l=i?e(t.candidates):s;0===o?i?n.push.apply(n,l):n.push(s):r.push({documentOrder:a,tabIndex:o,item:t,isScope:i,content:l})}),r.sort(Ga).reduce(function(e,t){return t.isScope?e.push.apply(e,t.content):e.push(t.content),e},[]).concat(n)},ai=function(e,t){var n;return n=(t=t||{}).getShadowRoot?qa([e],t.includeContainer,{filter:ti.bind(null,t),flatten:!1,getShadowRoot:t.getShadowRoot,shadowRootFilter:ni}):Ba(e,t.includeContainer,ti.bind(null,t)),ri(n)},ii=n(8398);function si(e,t,n){let{reference:r,floating:a}=e;const i=_a(t),s=Ca(t),o=Ea(s),l=Ra(t),u="y"===i,c=r.x+r.width/2-a.width/2,d=r.y+r.height/2-a.height/2,h=r[o]/2-a[o]/2;let p;switch(l){case"top":p={x:c,y:r.y-a.height};break;case"bottom":p={x:c,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:d};break;case"left":p={x:r.x-a.width,y:d};break;default:p={x:r.x,y:r.y}}switch(Pa(t)){case"start":p[s]-=h*(n&&u?-1:1);break;case"end":p[s]+=h*(n&&u?-1:1)}return p}async function oi(e,t){var n;void 0===t&&(t={});const{x:r,y:a,platform:i,rects:s,elements:o,strategy:l}=e,{boundary:u="clippingAncestors",rootBoundary:c="viewport",elementContext:d="floating",altBoundary:h=!1,padding:p=0}=$a(t,e),f=function(e){return"number"!=typeof e?function(e){return{top:0,right:0,bottom:0,left:0,...e}}(e):{top:e,right:e,bottom:e,left:e}}(p),g=o[h?"floating"===d?"reference":"floating":d],m=Va(await i.getClippingRect({element:null==(n=await(null==i.isElement?void 0:i.isElement(g)))||n?g:g.contextElement||await(null==i.getDocumentElement?void 0:i.getDocumentElement(o.floating)),boundary:u,rootBoundary:c,strategy:l})),v="floating"===d?{x:r,y:a,width:s.floating.width,height:s.floating.height}:s.reference,b=await(null==i.getOffsetParent?void 0:i.getOffsetParent(o.floating)),y=await(null==i.isElement?void 0:i.isElement(b))&&await(null==i.getScale?void 0:i.getScale(b))||{x:1,y:1},O=Va(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:v,offsetParent:b,strategy:l}):v);return{top:(m.top-O.top+f.top)/y.y,bottom:(O.bottom-m.bottom+f.bottom)/y.y,left:(m.left-O.left+f.left)/y.x,right:(O.right-m.right+f.right)/y.x}}const li=new Set(["left","top"]);function ui(e){const t=Kr(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const a=Nr(e),i=a?e.offsetWidth:n,s=a?e.offsetHeight:r,o=ya(n)!==i||ya(r)!==s;return o&&(n=i,r=s),{width:n,height:r,$:o}}function ci(e){return Qr(e)?e:e.contextElement}function di(e){const t=ci(e);if(!Nr(t))return wa(1);const n=t.getBoundingClientRect(),{width:r,height:a,$:i}=ui(t);let s=(i?ya(n.width):n.width)/r,o=(i?ya(n.height):n.height)/a;return s&&Number.isFinite(s)||(s=1),o&&Number.isFinite(o)||(o=1),{x:s,y:o}}const hi=wa(0);function pi(e){const t=Ar(e);return Gr()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:hi}function fi(e,t,n,r){void 0===t&&(t=!1),void 0===n&&(n=!1);const a=e.getBoundingClientRect(),i=ci(e);let s=wa(1);t&&(r?Qr(r)&&(s=di(r)):s=di(e));const o=function(e,t,n){return void 0===t&&(t=!1),!(!n||t&&n!==Ar(e))&&t}(i,n,r)?pi(i):wa(0);let l=(a.left+o.x)/s.x,u=(a.top+o.y)/s.y,c=a.width/s.x,d=a.height/s.y;if(i){const e=Ar(i),t=r&&Qr(r)?Ar(r):r;let n=e,a=ra(n);for(;a&&r&&t!==n;){const e=di(a),t=a.getBoundingClientRect(),r=Kr(a),i=t.left+(a.clientLeft+parseFloat(r.paddingLeft))*e.x,s=t.top+(a.clientTop+parseFloat(r.paddingTop))*e.y;l*=e.x,u*=e.y,c*=e.x,d*=e.y,l+=i,u+=s,n=Ar(a),a=ra(n)}}return Va({width:c,height:d,x:l,y:u})}function gi(e,t){const n=Jr(e).scrollLeft;return t?t.left+n:fi(Ir(e)).left+n}function mi(e,t,n){void 0===n&&(n=!1);const r=e.getBoundingClientRect();return{x:r.left+t.scrollLeft-(n?0:gi(e,r)),y:r.top+t.scrollTop}}const vi=new Set(["absolute","fixed"]);function bi(e,t,n){let r;if("viewport"===t)r=function(e,t){const n=Ar(e),r=Ir(e),a=n.visualViewport;let i=r.clientWidth,s=r.clientHeight,o=0,l=0;if(a){i=a.width,s=a.height;const e=Gr();(!e||e&&"fixed"===t)&&(o=a.offsetLeft,l=a.offsetTop)}return{width:i,height:s,x:o,y:l}}(e,n);else if("document"===t)r=function(e){const t=Ir(e),n=Jr(e),r=e.ownerDocument.body,a=ba(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),i=ba(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+gi(e);const o=-n.scrollTop;return"rtl"===Kr(r).direction&&(s+=ba(t.clientWidth,r.clientWidth)-a),{width:a,height:i,x:s,y:o}}(Ir(e));else if(Qr(t))r=function(e,t){const n=fi(e,!0,"fixed"===t),r=n.top+e.clientTop,a=n.left+e.clientLeft,i=Nr(e)?di(e):wa(1);return{width:e.clientWidth*i.x,height:e.clientHeight*i.y,x:a*i.x,y:r*i.y}}(t,n);else{const n=pi(e);r={x:t.x-n.x,y:t.y-n.y,width:t.width,height:t.height}}return Va(r)}function yi(e,t){const n=ea(e);return!(n===t||!Qr(n)||Zr(n))&&("fixed"===Kr(n).position||yi(n,t))}function Oi(e,t,n){const r=Nr(t),a=Ir(t),i="fixed"===n,s=fi(e,!0,i,t);let o={scrollLeft:0,scrollTop:0};const l=wa(0);function u(){l.x=gi(a)}if(r||!r&&!i)if(("body"!==Dr(t)||Mr(a))&&(o=Jr(t)),r){const e=fi(t,!0,i,t);l.x=e.x+t.clientLeft,l.y=e.y+t.clientTop}else a&&u();i&&!r&&a&&u();const c=!a||r||i?wa(0):mi(a,o);return{x:s.left+o.scrollLeft-l.x-c.x,y:s.top+o.scrollTop-l.y-c.y,width:s.width,height:s.height}}function wi(e){return"static"===Kr(e).position}function xi(e,t){if(!Nr(e)||"fixed"===Kr(e).position)return null;if(t)return t(e);let n=e.offsetParent;return Ir(e)===n&&(n=n.ownerDocument.body),n}function Si(e,t){const n=Ar(e);if(Ur(e))return n;if(!Nr(e)){let t=ea(e);for(;t&&!Zr(t);){if(Qr(t)&&!wi(t))return t;t=ea(t)}return n}let r=xi(e,t);for(;r&&Fr(r)&&wi(r);)r=xi(r,t);return r&&Zr(r)&&wi(r)&&!Hr(r)?n:r||function(e){let t=ea(e);for(;Nr(t)&&!Zr(t);){if(Hr(t))return t;if(Ur(t))return null;t=ea(t)}return null}(e)||n}const $i={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{elements:t,rect:n,offsetParent:r,strategy:a}=e;const i="fixed"===a,s=Ir(r),o=!!t&&Ur(t.floating);if(r===s||o&&i)return n;let l={scrollLeft:0,scrollTop:0},u=wa(1);const c=wa(0),d=Nr(r);if((d||!d&&!i)&&(("body"!==Dr(r)||Mr(s))&&(l=Jr(r)),Nr(r))){const e=fi(r);u=di(r),c.x=e.x+r.clientLeft,c.y=e.y+r.clientTop}const h=!s||d||i?wa(0):mi(s,l,!0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-l.scrollLeft*u.x+c.x+h.x,y:n.y*u.y-l.scrollTop*u.y+c.y+h.y}},getDocumentElement:Ir,getClippingRect:function(e){let{element:t,boundary:n,rootBoundary:r,strategy:a}=e;const i=[..."clippingAncestors"===n?Ur(t)?[]:function(e,t){const n=t.get(e);if(n)return n;let r=na(e,[],!1).filter(e=>Qr(e)&&"body"!==Dr(e)),a=null;const i="fixed"===Kr(e).position;let s=i?ea(e):e;for(;Qr(s)&&!Zr(s);){const t=Kr(s),n=Hr(s);n||"fixed"!==t.position||(a=null),(i?!n&&!a:!n&&"static"===t.position&&a&&vi.has(a.position)||Mr(s)&&!n&&yi(e,s))?r=r.filter(e=>e!==s):a=t,s=ea(s)}return t.set(e,r),r}(t,this._c):[].concat(n),r],s=i[0],o=i.reduce((e,n)=>{const r=bi(t,n,a);return e.top=ba(r.top,e.top),e.right=va(r.right,e.right),e.bottom=va(r.bottom,e.bottom),e.left=ba(r.left,e.left),e},bi(t,s,a));return{width:o.right-o.left,height:o.bottom-o.top,x:o.left,y:o.top}},getOffsetParent:Si,getElementRects:async function(e){const t=this.getOffsetParent||Si,n=this.getDimensions,r=await n(e.floating);return{reference:Oi(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}},getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){const{width:t,height:n}=ui(e);return{width:t,height:n}},getScale:di,isElement:Qr,isRTL:function(e){return"rtl"===Kr(e).direction}};function Ri(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Pi(e,t,n,r){void 0===r&&(r={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:s="function"==typeof ResizeObserver,layoutShift:o="function"==typeof IntersectionObserver,animationFrame:l=!1}=r,u=ci(e),c=a||i?[...u?na(u):[],...na(t)]:[];c.forEach(e=>{a&&e.addEventListener("scroll",n,{passive:!0}),i&&e.addEventListener("resize",n)});const d=u&&o?function(e,t){let n,r=null;const a=Ir(e);function i(){var e;clearTimeout(n),null==(e=r)||e.disconnect(),r=null}return function s(o,l){void 0===o&&(o=!1),void 0===l&&(l=1),i();const u=e.getBoundingClientRect(),{left:c,top:d,width:h,height:p}=u;if(o||t(),!h||!p)return;const f={rootMargin:-Oa(d)+"px "+-Oa(a.clientWidth-(c+h))+"px "+-Oa(a.clientHeight-(d+p))+"px "+-Oa(c)+"px",threshold:ba(0,va(1,l))||1};let g=!0;function m(t){const r=t[0].intersectionRatio;if(r!==l){if(!g)return s();r?s(!1,r):n=setTimeout(()=>{s(!1,1e-7)},1e3)}1!==r||Ri(u,e.getBoundingClientRect())||s(),g=!1}try{r=new IntersectionObserver(m,{...f,root:a.ownerDocument})}catch(e){r=new IntersectionObserver(m,f)}r.observe(e)}(!0),i}(u,n):null;let h,p=-1,f=null;s&&(f=new ResizeObserver(e=>{let[r]=e;r&&r.target===u&&f&&(f.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var e;null==(e=f)||e.observe(t)})),n()}),u&&!l&&f.observe(u),f.observe(t));let g=l?fi(e):null;return l&&function t(){const r=fi(e);g&&!Ri(g,r)&&n();g=r,h=requestAnimationFrame(t)}(),n(),()=>{var e;c.forEach(e=>{a&&e.removeEventListener("scroll",n),i&&e.removeEventListener("resize",n)}),null==d||d(),null==(e=f)||e.disconnect(),f=null,l&&cancelAnimationFrame(h)}}const Ei=function(e){return void 0===e&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:a,y:i,placement:s,middlewareData:o}=t,l=await async function(e,t){const{placement:n,platform:r,elements:a}=e,i=await(null==r.isRTL?void 0:r.isRTL(a.floating)),s=Ra(n),o=Pa(n),l="y"===_a(n),u=li.has(s)?-1:1,c=i&&l?-1:1,d=$a(t,e);let{mainAxis:h,crossAxis:p,alignmentAxis:f}="number"==typeof d?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return o&&"number"==typeof f&&(p="end"===o?-1*f:f),l?{x:p*c,y:h*u}:{x:h*u,y:p*c}}(t,e);return s===(null==(n=o.offset)?void 0:n.placement)&&null!=(r=o.arrow)&&r.alignmentOffset?{}:{x:a+l.x,y:i+l.y,data:{...l,placement:s}}}}},ki=function(e){return void 0===e&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:a,middlewareData:i,rects:s,initialPlacement:o,platform:l,elements:u}=t,{mainAxis:c=!0,crossAxis:d=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:f="none",flipAlignment:g=!0,...m}=$a(e,t);if(null!=(n=i.arrow)&&n.alignmentOffset)return{};const v=Ra(a),b=_a(o),y=Ra(o)===o,O=await(null==l.isRTL?void 0:l.isRTL(u.floating)),w=h||(y||!g?[Na(o)]:function(e){const t=Na(e);return[Ta(e),t,Ta(t)]}(o)),x="none"!==f;!h&&x&&w.push(...Qa(o,g,f,O));const S=[o,...w],$=await oi(t,m),R=[];let P=(null==(r=i.flip)?void 0:r.overflows)||[];if(c&&R.push($[v]),d){const e=function(e,t,n){void 0===n&&(n=!1);const r=Pa(e),a=Ca(e),i=Ea(a);let s="x"===a?r===(n?"end":"start")?"right":"left":"start"===r?"bottom":"top";return t.reference[i]>t.floating[i]&&(s=Na(s)),[s,Na(s)]}(a,s,O);R.push($[e[0]],$[e[1]])}if(P=[...P,{placement:a,overflows:R}],!R.every(e=>e<=0)){var E,k;const e=((null==(E=i.flip)?void 0:E.index)||0)+1,t=S[e];if(t){if(!("alignment"===d&&b!==_a(t))||P.every(e=>e.overflows[0]>0&&_a(e.placement)===b))return{data:{index:e,overflows:P},reset:{placement:t}}}let n=null==(k=P.filter(e=>e.overflows[0]<=0).sort((e,t)=>e.overflows[1]-t.overflows[1])[0])?void 0:k.placement;if(!n)switch(p){case"bestFit":{var _;const e=null==(_=P.filter(e=>{if(x){const t=_a(e.placement);return t===b||"y"===t}return!0}).map(e=>[e.placement,e.overflows.filter(e=>e>0).reduce((e,t)=>e+t,0)]).sort((e,t)=>e[1]-t[1])[0])?void 0:_[0];e&&(n=e);break}case"initialPlacement":n=o}if(a!==n)return{reset:{placement:n}}}return{}}}},_i=function(e){return void 0===e&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:a,rects:i,platform:s,elements:o}=t,{apply:l=()=>{},...u}=$a(e,t),c=await oi(t,u),d=Ra(a),h=Pa(a),p="y"===_a(a),{width:f,height:g}=i.floating;let m,v;"top"===d||"bottom"===d?(m=d,v=h===(await(null==s.isRTL?void 0:s.isRTL(o.floating))?"start":"end")?"left":"right"):(v=d,m="end"===h?"top":"bottom");const b=g-c.top-c.bottom,y=f-c.left-c.right,O=va(g-c[m],b),w=va(f-c[v],y),x=!t.middlewareData.shift;let S=O,$=w;if(null!=(n=t.middlewareData.shift)&&n.enabled.x&&($=y),null!=(r=t.middlewareData.shift)&&r.enabled.y&&(S=b),x&&!h){const e=ba(c.left,0),t=ba(c.right,0),n=ba(c.top,0),r=ba(c.bottom,0);p?$=f-2*(0!==e||0!==t?e+t:ba(c.left,c.right)):S=g-2*(0!==n||0!==r?n+r:ba(c.top,c.bottom))}await l({...t,availableWidth:$,availableHeight:S});const R=await s.getDimensions(o.floating);return f!==R.width||g!==R.height?{reset:{rects:!0}}:{}}}},Ci=(e,t,n)=>{const r=new Map,a={platform:$i,...n},i={...a.platform,_c:r};return(async(e,t,n)=>{const{placement:r="bottom",strategy:a="absolute",middleware:i=[],platform:s}=n,o=i.filter(Boolean),l=await(null==s.isRTL?void 0:s.isRTL(t));let u=await s.getElementRects({reference:e,floating:t,strategy:a}),{x:c,y:d}=si(u,r,l),h=r,p={},f=0;for(let n=0;n<o.length;n++){const{name:i,fn:g}=o[n],{x:m,y:v,data:b,reset:y}=await g({x:c,y:d,initialPlacement:r,placement:h,strategy:a,middlewareData:p,rects:u,platform:s,elements:{reference:e,floating:t}});c=null!=m?m:c,d=null!=v?v:d,p={...p,[i]:{...p[i],...b}},y&&f<=50&&(f++,"object"==typeof y&&(y.placement&&(h=y.placement),y.rects&&(u=!0===y.rects?await s.getElementRects({reference:e,floating:t,strategy:a}):y.rects),({x:c,y:d}=si(u,h,l))),n=-1)}return{x:c,y:d,placement:h,strategy:a,middlewareData:p}})(e,t,{...a,platform:i})};var Ti="undefined"!=typeof document?c.useLayoutEffect:function(){};function Di(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if("function"==typeof e&&e.toString()===t.toString())return!0;let n,r,a;if(e&&t&&"object"==typeof e){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;0!==r--;)if(!Di(e[r],t[r]))return!1;return!0}if(a=Object.keys(e),n=a.length,n!==Object.keys(t).length)return!1;for(r=n;0!==r--;)if(!{}.hasOwnProperty.call(t,a[r]))return!1;for(r=n;0!==r--;){const n=a[r];if(("_owner"!==n||!e.$$typeof)&&!Di(e[n],t[n]))return!1}return!0}return e!=e&&t!=t}function Ai(e){if("undefined"==typeof window)return 1;return(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Ii(e,t){const n=Ai(e);return Math.round(t*n)/n}function Li(e){const t=c.useRef(e);return Ti(()=>{t.current=e}),t}const Qi=(e,t)=>({...Ei(e),options:[e,t]}),Ni=(e,t)=>({...ki(e),options:[e,t]}),Vi=(e,t)=>({..._i(e),options:[e,t]});const zi={...d},Mi=zi.useInsertionEffect||(e=>e());function ji(e){const t=c.useRef(()=>{0});return Mi(()=>{t.current=e}),c.useCallback(function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return null==t.current?void 0:t.current(...n)},[])}const Fi="ArrowUp",Xi="ArrowDown",Ui="ArrowLeft",Bi="ArrowRight";function qi(e,t,n){return Math.floor(e/t)!==n}function Wi(e,t){return t<0||t>=e.current.length}function Hi(e,t){return Yi(e,{disabledIndices:t})}function Gi(e,t){return Yi(e,{decrement:!0,startingIndex:e.current.length,disabledIndices:t})}function Yi(e,t){let{startingIndex:n=-1,decrement:r=!1,disabledIndices:a,amount:i=1}=void 0===t?{}:t;const s=e.current;let o=n;do{o+=r?-i:i}while(o>=0&&o<=s.length-1&&ts(s,o,a));return o}function Zi(e,t){let{event:n,orientation:r,loop:a,rtl:i,cols:s,disabledIndices:o,minIndex:l,maxIndex:u,prevIndex:c,stopEvent:d=!1}=t,h=c;if(n.key===Fi){if(d&&ga(n),-1===c)h=u;else if(h=Yi(e,{startingIndex:h,amount:s,decrement:!0,disabledIndices:o}),a&&(c-s<l||h<0)){const e=c%s,t=u%s,n=u-(t-e);h=t===e?u:t>e?n:n-s}Wi(e,h)&&(h=c)}if(n.key===Xi&&(d&&ga(n),-1===c?h=l:(h=Yi(e,{startingIndex:c,amount:s,disabledIndices:o}),a&&c+s>u&&(h=Yi(e,{startingIndex:c%s-s,amount:s,disabledIndices:o}))),Wi(e,h)&&(h=c)),"both"===r){const t=Oa(c/s);n.key===(i?Ui:Bi)&&(d&&ga(n),c%s!==s-1?(h=Yi(e,{startingIndex:c,disabledIndices:o}),a&&qi(h,s,t)&&(h=Yi(e,{startingIndex:c-c%s-1,disabledIndices:o}))):a&&(h=Yi(e,{startingIndex:c-c%s-1,disabledIndices:o})),qi(h,s,t)&&(h=c)),n.key===(i?Bi:Ui)&&(d&&ga(n),c%s!==0?(h=Yi(e,{startingIndex:c,decrement:!0,disabledIndices:o}),a&&qi(h,s,t)&&(h=Yi(e,{startingIndex:c+(s-c%s),decrement:!0,disabledIndices:o}))):a&&(h=Yi(e,{startingIndex:c+(s-c%s),decrement:!0,disabledIndices:o})),qi(h,s,t)&&(h=c));const r=Oa(u/s)===t;Wi(e,h)&&(h=a&&r?n.key===(i?Bi:Ui)?u:Yi(e,{startingIndex:c-c%s-1,disabledIndices:o}):c)}return h}function Ki(e,t,n){const r=[];let a=0;return e.forEach((e,i)=>{let{width:s,height:o}=e,l=!1;for(n&&(a=0);!l;){const e=[];for(let n=0;n<s;n++)for(let r=0;r<o;r++)e.push(a+n+r*t);a%t+s<=t&&e.every(e=>null==r[e])?(e.forEach(e=>{r[e]=i}),l=!0):a++}}),[...r]}function Ji(e,t,n,r,a){if(-1===e)return-1;const i=n.indexOf(e),s=t[e];switch(a){case"tl":return i;case"tr":return s?i+s.width-1:i;case"bl":return s?i+(s.height-1)*r:i;case"br":return n.lastIndexOf(e)}}function es(e,t){return t.flatMap((t,n)=>e.includes(t)?[n]:[])}function ts(e,t,n){if(n)return n.includes(t);const r=e[t];return null==r||r.hasAttribute("disabled")||"true"===r.getAttribute("aria-disabled")}var ns="undefined"!=typeof document?c.useLayoutEffect:c.useEffect;const rs=[Ui,Bi],as=[Fi,Xi];function is(){return is=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},is.apply(this,arguments)}let ss=!1,os=0;const ls=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+os++;const us=zi.useId||function(){const[e,t]=c.useState(()=>ss?ls():void 0);return ns(()=>{null==e&&t(ls())},[]),c.useEffect(()=>{ss=!0},[]),e};function cs(){const e=new Map;return{emit(t,n){var r;null==(r=e.get(t))||r.forEach(e=>e(n))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){var r;e.set(t,(null==(r=e.get(t))?void 0:r.filter(e=>e!==n))||[])}}}const ds=c.createContext(null),hs=c.createContext(null),ps=()=>{var e;return(null==(e=c.useContext(ds))?void 0:e.id)||null},fs=()=>c.useContext(hs);function gs(e){return"data-floating-ui-"+e}function ms(e){const t=(0,c.useRef)(e);return ns(()=>{t.current=e}),t}let vs=0;function bs(e,t){void 0===t&&(t={});const{preventScroll:n=!1,cancelPrevious:r=!0,sync:a=!1}=t;r&&cancelAnimationFrame(vs);const i=()=>null==e?void 0:e.focus({preventScroll:n});a?i():vs=requestAnimationFrame(i)}function ys(e,t){let n=e.filter(e=>{var n;return e.parentId===t&&(null==(n=e.context)?void 0:n.open)}),r=n;for(;r.length;)r=e.filter(e=>{var t;return null==(t=r)?void 0:t.some(t=>{var n;return e.parentId===t.id&&(null==(n=e.context)?void 0:n.open)})}),n=n.concat(r);return n}let Os=new WeakMap,ws=new WeakSet,xs={},Ss=0;const $s=e=>e&&(e.host||$s(e.parentNode));function Rs(e,t,n,r){const a="data-floating-ui-inert",i=r?"inert":n?"aria-hidden":null,s=(o=t,e.map(e=>{if(o.contains(e))return e;const t=$s(e);return o.contains(t)?t:null}).filter(e=>null!=e));var o;const l=new Set,u=new Set(s),c=[];xs[a]||(xs[a]=new WeakMap);const d=xs[a];return s.forEach(function e(t){if(!t||l.has(t))return;l.add(t),t.parentNode&&e(t.parentNode)}),function e(t){if(!t||u.has(t))return;[].forEach.call(t.children,t=>{if("script"!==Dr(t))if(l.has(t))e(t);else{const e=i?t.getAttribute(i):null,n=null!==e&&"false"!==e,r=(Os.get(t)||0)+1,s=(d.get(t)||0)+1;Os.set(t,r),d.set(t,s),c.push(t),1===r&&n&&ws.add(t),1===s&&t.setAttribute(a,""),!n&&i&&t.setAttribute(i,"true")}})}(t),l.clear(),Ss++,()=>{c.forEach(e=>{const t=(Os.get(e)||0)-1,n=(d.get(e)||0)-1;Os.set(e,t),d.set(e,n),t||(!ws.has(e)&&i&&e.removeAttribute(i),ws.delete(e)),n||e.removeAttribute(a)}),Ss--,Ss||(Os=new WeakMap,Os=new WeakMap,ws=new WeakSet,xs={})}}function Ps(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);const r=ha(e[0]).body;return Rs(e.concat(Array.from(r.querySelectorAll("[aria-live]"))),r,t,n)}const Es=()=>({getShadowRoot:!0,displayCheck:"function"==typeof ResizeObserver&&ResizeObserver.toString().includes("[native code]")?"full":"none"});function ks(e,t){const n=ai(e,Es());"prev"===t&&n.reverse();const r=n.indexOf(aa(ha(e)));return n.slice(r+1)[0]}function _s(){return ks(document.body,"next")}function Cs(){return ks(document.body,"prev")}function Ts(e,t){const n=t||e.currentTarget,r=e.relatedTarget;return!r||!ia(n,r)}function Ds(e){ai(e,Es()).forEach(e=>{e.dataset.tabindex=e.getAttribute("tabindex")||"",e.setAttribute("tabindex","-1")})}function As(e){e.querySelectorAll("[data-tabindex]").forEach(e=>{const t=e.dataset.tabindex;delete e.dataset.tabindex,t?e.setAttribute("tabindex",t):e.removeAttribute("tabindex")})}const Is={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"fixed",whiteSpace:"nowrap",width:"1px",top:0,left:0};function Ls(e){"Tab"===e.key&&(e.target,clearTimeout(undefined))}const Qs=c.forwardRef(function(e,t){const[n,r]=c.useState();ns(()=>(ca()&&r("button"),document.addEventListener("keydown",Ls),()=>{document.removeEventListener("keydown",Ls)}),[]);const a={ref:t,tabIndex:0,role:n,"aria-hidden":!n||void 0,[gs("focus-guard")]:"",style:Is};return c.createElement("span",is({},e,a))}),Ns=c.createContext(null),Vs=gs("portal");function zs(e){const{children:t,id:n,root:r,preserveTabOrder:a=!0}=e,i=function(e){void 0===e&&(e={});const{id:t,root:n}=e,r=us(),a=Ms(),[i,s]=c.useState(null),o=c.useRef(null);return ns(()=>()=>{null==i||i.remove(),queueMicrotask(()=>{o.current=null})},[i]),ns(()=>{if(!r)return;if(o.current)return;const e=t?document.getElementById(t):null;if(!e)return;const n=document.createElement("div");n.id=r,n.setAttribute(Vs,""),e.appendChild(n),o.current=n,s(n)},[t,r]),ns(()=>{if(null===n)return;if(!r)return;if(o.current)return;let e=n||(null==a?void 0:a.portalNode);e&&!Qr(e)&&(e=e.current),e=e||document.body;let i=null;t&&(i=document.createElement("div"),i.id=t,e.appendChild(i));const l=document.createElement("div");l.id=r,l.setAttribute(Vs,""),e=i||e,e.appendChild(l),o.current=l,s(l)},[t,n,r,a]),i}({id:n,root:r}),[s,o]=c.useState(null),l=c.useRef(null),u=c.useRef(null),d=c.useRef(null),h=c.useRef(null),p=null==s?void 0:s.modal,f=null==s?void 0:s.open,g=!!s&&!s.modal&&s.open&&a&&!(!r&&!i);return c.useEffect(()=>{if(i&&a&&!p)return i.addEventListener("focusin",e,!0),i.addEventListener("focusout",e,!0),()=>{i.removeEventListener("focusin",e,!0),i.removeEventListener("focusout",e,!0)};function e(e){if(i&&Ts(e)){("focusin"===e.type?As:Ds)(i)}}},[i,a,p]),c.useEffect(()=>{i&&(f||As(i))},[f,i]),c.createElement(Ns.Provider,{value:c.useMemo(()=>({preserveTabOrder:a,beforeOutsideRef:l,afterOutsideRef:u,beforeInsideRef:d,afterInsideRef:h,portalNode:i,setFocusManagerState:o}),[a,i])},g&&i&&c.createElement(Qs,{"data-type":"outside",ref:l,onFocus:e=>{if(Ts(e,i)){var t;null==(t=d.current)||t.focus()}else{const e=Cs()||(null==s?void 0:s.refs.domReference.current);null==e||e.focus()}}}),g&&i&&c.createElement("span",{"aria-owns":i.id,style:Is}),i&&ii.createPortal(t,i),g&&i&&c.createElement(Qs,{"data-type":"outside",ref:u,onFocus:e=>{if(Ts(e,i)){var t;null==(t=h.current)||t.focus()}else{const t=_s()||(null==s?void 0:s.refs.domReference.current);null==t||t.focus(),(null==s?void 0:s.closeOnFocusOut)&&(null==s||s.onOpenChange(!1,e.nativeEvent,"focus-out"))}}}))}const Ms=()=>c.useContext(Ns),js="data-floating-ui-focusable";function Fs(e){return e?e.hasAttribute(js)?e:e.querySelector("["+js+"]")||e:null}let Xs=[];function Us(e){Xs=Xs.filter(e=>e.isConnected);let t=e;if(t&&"body"!==Dr(t)){if(!function(e,t){if(t=t||{},!e)throw new Error("No node provided");return!1!==Fa.call(e,Ma)&&ti(t,e)}(t,Es())){const e=ai(t,Es())[0];e&&(t=e)}Xs.push(t),Xs.length>20&&(Xs=Xs.slice(-20))}}function Bs(){return Xs.slice().reverse().find(e=>e.isConnected)}const qs=c.forwardRef(function(e,t){return c.createElement("button",is({},e,{type:"button",ref:t,tabIndex:-1,style:Is}))});function Ws(e){const{context:t,children:n,disabled:r=!1,order:a=["content"],guards:i=!0,initialFocus:s=0,returnFocus:o=!0,restoreFocus:l=!1,modal:u=!0,visuallyHiddenDismiss:d=!1,closeOnFocusOut:h=!0}=e,{open:p,refs:f,nodeId:g,onOpenChange:m,events:v,dataRef:b,floatingId:y,elements:{domReference:O,floating:w}}=t,x="number"==typeof s&&s<0,S=ma(O)&&x,$="undefined"==typeof HTMLElement||!("inert"in HTMLElement.prototype)||i,R=ms(a),P=ms(s),E=ms(o),k=fs(),_=Ms(),C=c.useRef(null),T=c.useRef(null),D=c.useRef(!1),A=c.useRef(!1),I=c.useRef(-1),L=null!=_,Q=Fs(w),N=ji(function(e){return void 0===e&&(e=Q),e?ai(e,Es()):[]}),V=ji(e=>{const t=N(e);return R.current.map(e=>O&&"reference"===e?O:Q&&"floating"===e?Q:t).filter(Boolean).flat()});function z(e){return!r&&d&&u?c.createElement(qs,{ref:"start"===e?C:T,onClick:e=>m(!1,e.nativeEvent)},"string"==typeof d?d:"Dismiss"):null}c.useEffect(()=>{if(r)return;if(!u)return;function e(e){if("Tab"===e.key){ia(Q,aa(ha(Q)))&&0===N().length&&!S&&ga(e);const t=V(),n=fa(e);"reference"===R.current[0]&&n===O&&(ga(e),e.shiftKey?bs(t[t.length-1]):bs(t[1])),"floating"===R.current[1]&&n===Q&&e.shiftKey&&(ga(e),bs(t[0]))}}const t=ha(Q);return t.addEventListener("keydown",e),()=>{t.removeEventListener("keydown",e)}},[r,O,Q,u,R,S,N,V]),c.useEffect(()=>{if(!r&&w)return w.addEventListener("focusin",e),()=>{w.removeEventListener("focusin",e)};function e(e){const t=fa(e),n=N().indexOf(t);-1!==n&&(I.current=n)}},[r,w,N]),c.useEffect(()=>{if(!r&&h)return w&&Nr(O)?(O.addEventListener("focusout",t),O.addEventListener("pointerdown",e),w.addEventListener("focusout",t),()=>{O.removeEventListener("focusout",t),O.removeEventListener("pointerdown",e),w.removeEventListener("focusout",t)}):void 0;function e(){A.current=!0,setTimeout(()=>{A.current=!1})}function t(e){const t=e.relatedTarget;queueMicrotask(()=>{const n=!(ia(O,t)||ia(w,t)||ia(t,w)||ia(null==_?void 0:_.portalNode,t)||null!=t&&t.hasAttribute(gs("focus-guard"))||k&&(ys(k.nodesRef.current,g).find(e=>{var n,r;return ia(null==(n=e.context)?void 0:n.elements.floating,t)||ia(null==(r=e.context)?void 0:r.elements.domReference,t)})||function(e,t){var n;let r=[],a=null==(n=e.find(e=>e.id===t))?void 0:n.parentId;for(;a;){const t=e.find(e=>e.id===a);a=null==t?void 0:t.parentId,t&&(r=r.concat(t))}return r}(k.nodesRef.current,g).find(e=>{var n,r;return(null==(n=e.context)?void 0:n.elements.floating)===t||(null==(r=e.context)?void 0:r.elements.domReference)===t})));if(l&&n&&aa(ha(Q))===ha(Q).body){Nr(Q)&&Q.focus();const e=I.current,t=N(),n=t[e]||t[t.length-1]||Q;Nr(n)&&n.focus()}!S&&u||!t||!n||A.current||t===Bs()||(D.current=!0,m(!1,e,"focus-out"))})}},[r,O,w,Q,u,g,k,_,m,h,l,N,S]),c.useEffect(()=>{var e;if(r)return;const t=Array.from((null==_||null==(e=_.portalNode)?void 0:e.querySelectorAll("["+gs("portal")+"]"))||[]);if(w){const e=[w,...t,C.current,T.current,R.current.includes("reference")||S?O:null].filter(e=>null!=e),n=u||S?Ps(e,$,!$):Ps(e);return()=>{n()}}},[r,O,w,u,R,_,S,$]),ns(()=>{if(r||!Nr(Q))return;const e=aa(ha(Q));queueMicrotask(()=>{const t=V(Q),n=P.current,r=("number"==typeof n?t[n]:n.current)||Q,a=ia(Q,e);x||a||!p||bs(r,{preventScroll:r===Q})})},[r,p,Q,x,V,P]),ns(()=>{if(r||!Q)return;let e=!1;const t=ha(Q),n=aa(t);let a=b.current.openEvent;function i(t){let{open:n,reason:r,event:i,nested:s}=t;n&&(a=i),"escape-key"===r&&f.domReference.current&&Us(f.domReference.current),"hover"===r&&"mouseleave"===i.type&&(D.current=!0),"outside-press"===r&&(s?(D.current=!1,e=!0):D.current=!(la(i)||ua(i)))}Us(n),v.on("openchange",i);const s=t.createElement("span");return s.setAttribute("tabindex","-1"),s.setAttribute("aria-hidden","true"),Object.assign(s.style,Is),L&&O&&O.insertAdjacentElement("afterend",s),()=>{v.off("openchange",i);const n=aa(t),r=ia(w,n)||k&&ys(k.nodesRef.current,g).some(e=>{var t;return ia(null==(t=e.context)?void 0:t.elements.floating,n)});(r||a&&["click","mousedown"].includes(a.type))&&f.domReference.current&&Us(f.domReference.current);const o="boolean"==typeof E.current?Bs()||s:E.current.current||s;queueMicrotask(()=>{E.current&&!D.current&&Nr(o)&&(o===n||n===t.body||r)&&o.focus({preventScroll:e}),s.remove()})}},[r,w,Q,E,b,f,v,k,g,L,O]),c.useEffect(()=>{queueMicrotask(()=>{D.current=!1})},[r]),ns(()=>{if(!r&&_)return _.setFocusManagerState({modal:u,closeOnFocusOut:h,open:p,onOpenChange:m,refs:f}),()=>{_.setFocusManagerState(null)}},[r,_,u,p,m,f,h]),ns(()=>{if(r)return;if(!Q)return;if("function"!=typeof MutationObserver)return;if(x)return;const e=()=>{const e=Q.getAttribute("tabindex"),t=N(),n=aa(ha(w)),r=t.indexOf(n);-1!==r&&(I.current=r),R.current.includes("floating")||n!==f.domReference.current&&0===t.length?"0"!==e&&Q.setAttribute("tabindex","0"):"-1"!==e&&Q.setAttribute("tabindex","-1")};e();const t=new MutationObserver(e);return t.observe(Q,{childList:!0,subtree:!0,attributes:!0}),()=>{t.disconnect()}},[r,w,Q,f,R,N,x]);const M=!r&&$&&(!u||!S)&&(L||u);return c.createElement(c.Fragment,null,M&&c.createElement(Qs,{"data-type":"inside",ref:null==_?void 0:_.beforeInsideRef,onFocus:e=>{if(u){const e=V();bs("reference"===a[0]?e[0]:e[e.length-1])}else if(null!=_&&_.preserveTabOrder&&_.portalNode)if(D.current=!1,Ts(e,_.portalNode)){const e=_s()||O;null==e||e.focus()}else{var t;null==(t=_.beforeOutsideRef.current)||t.focus()}}}),!S&&z("start"),n,z("end"),M&&c.createElement(Qs,{"data-type":"inside",ref:null==_?void 0:_.afterInsideRef,onFocus:e=>{if(u)bs(V()[0]);else if(null!=_&&_.preserveTabOrder&&_.portalNode)if(h&&(D.current=!0),Ts(e,_.portalNode)){const e=Cs()||O;null==e||e.focus()}else{var t;null==(t=_.afterOutsideRef.current)||t.focus()}}}))}const Hs={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},Gs={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},Ys=e=>{var t,n;return{escapeKey:"boolean"==typeof e?e:null!=(t=null==e?void 0:e.escapeKey)&&t,outsidePress:"boolean"==typeof e?e:null==(n=null==e?void 0:e.outsidePress)||n}};function Zs(e){void 0===e&&(e={});const{nodeId:t}=e,n=function(e){const{open:t=!1,onOpenChange:n,elements:r}=e,a=us(),i=c.useRef({}),[s]=c.useState(()=>cs()),o=null!=ps(),[l,u]=c.useState(r.reference),d=ji((e,t,r)=>{i.current.openEvent=e?t:void 0,s.emit("openchange",{open:e,event:t,reason:r,nested:o}),null==n||n(e,t,r)}),h=c.useMemo(()=>({setPositionReference:u}),[]),p=c.useMemo(()=>({reference:l||r.reference||null,floating:r.floating||null,domReference:r.reference}),[l,r.reference,r.floating]);return c.useMemo(()=>({dataRef:i,open:t,onOpenChange:d,elements:p,events:s,floatingId:a,refs:h}),[t,d,p,s,a,h])}({...e,elements:{reference:null,floating:null,...e.elements}}),r=e.rootContext||n,a=r.elements,[i,s]=c.useState(null),[o,l]=c.useState(null),u=(null==a?void 0:a.domReference)||i,d=c.useRef(null),h=fs();ns(()=>{u&&(d.current=u)},[u]);const p=function(e){void 0===e&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:a,elements:{reference:i,floating:s}={},transform:o=!0,whileElementsMounted:l,open:u}=e,[d,h]=c.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[p,f]=c.useState(r);Di(p,r)||f(r);const[g,m]=c.useState(null),[v,b]=c.useState(null),y=c.useCallback(e=>{e!==S.current&&(S.current=e,m(e))},[]),O=c.useCallback(e=>{e!==$.current&&($.current=e,b(e))},[]),w=i||g,x=s||v,S=c.useRef(null),$=c.useRef(null),R=c.useRef(d),P=null!=l,E=Li(l),k=Li(a),_=Li(u),C=c.useCallback(()=>{if(!S.current||!$.current)return;const e={placement:t,strategy:n,middleware:p};k.current&&(e.platform=k.current),Ci(S.current,$.current,e).then(e=>{const t={...e,isPositioned:!1!==_.current};T.current&&!Di(R.current,t)&&(R.current=t,ii.flushSync(()=>{h(t)}))})},[p,t,n,k,_]);Ti(()=>{!1===u&&R.current.isPositioned&&(R.current.isPositioned=!1,h(e=>({...e,isPositioned:!1})))},[u]);const T=c.useRef(!1);Ti(()=>(T.current=!0,()=>{T.current=!1}),[]),Ti(()=>{if(w&&(S.current=w),x&&($.current=x),w&&x){if(E.current)return E.current(w,x,C);C()}},[w,x,C,E,P]);const D=c.useMemo(()=>({reference:S,floating:$,setReference:y,setFloating:O}),[y,O]),A=c.useMemo(()=>({reference:w,floating:x}),[w,x]),I=c.useMemo(()=>{const e={position:n,left:0,top:0};if(!A.floating)return e;const t=Ii(A.floating,d.x),r=Ii(A.floating,d.y);return o?{...e,transform:"translate("+t+"px, "+r+"px)",...Ai(A.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:t,top:r}},[n,o,A.floating,d.x,d.y]);return c.useMemo(()=>({...d,update:C,refs:D,elements:A,floatingStyles:I}),[d,C,D,A,I])}({...e,elements:{...a,...o&&{reference:o}}}),f=c.useCallback(e=>{const t=Qr(e)?{getBoundingClientRect:()=>e.getBoundingClientRect(),contextElement:e}:e;l(t),p.refs.setReference(t)},[p.refs]),g=c.useCallback(e=>{(Qr(e)||null===e)&&(d.current=e,s(e)),(Qr(p.refs.reference.current)||null===p.refs.reference.current||null!==e&&!Qr(e))&&p.refs.setReference(e)},[p.refs]),m=c.useMemo(()=>({...p.refs,setReference:g,setPositionReference:f,domReference:d}),[p.refs,g,f]),v=c.useMemo(()=>({...p.elements,domReference:u}),[p.elements,u]),b=c.useMemo(()=>({...p,...r,refs:m,elements:v,nodeId:t}),[p,m,v,t,r]);return ns(()=>{r.dataRef.current.floatingContext=b;const e=null==h?void 0:h.nodesRef.current.find(e=>e.id===t);e&&(e.context=b)}),c.useMemo(()=>({...p,context:b,refs:m,elements:v}),[p,m,v,b])}const Ks="active",Js="selected";function eo(e,t,n){const r=new Map,a="item"===n;let i=e;if(a&&e){const{[Ks]:t,[Js]:n,...r}=e;i=r}return{..."floating"===n&&{tabIndex:-1,[js]:""},...i,...t.map(t=>{const r=t?t[n]:null;return"function"==typeof r?e?r(e):null:r}).concat(e).reduce((e,t)=>t?(Object.entries(t).forEach(t=>{let[n,i]=t;var s;a&&[Ks,Js].includes(n)||(0===n.indexOf("on")?(r.has(n)||r.set(n,[]),"function"==typeof i&&(null==(s=r.get(n))||s.push(i),e[n]=function(){for(var e,t=arguments.length,a=new Array(t),i=0;i<t;i++)a[i]=arguments[i];return null==(e=r.get(n))?void 0:e.map(e=>e(...a)).find(e=>void 0!==e)})):e[n]=i)}),e):e,{})}}let to=!1;function no(e,t,n){switch(e){case"vertical":return t;case"horizontal":return n;default:return t||n}}function ro(e,t){return no(t,e===Fi||e===Xi,e===Ui||e===Bi)}function ao(e,t,n){return no(t,e===Xi,n?e===Ui:e===Bi)||"Enter"===e||" "===e||""===e}function io(e,t,n){return no(t,n?e===Bi:e===Ui,e===Fi)}function so(e,t){const{open:n,onOpenChange:r,elements:a}=e,{listRef:i,activeIndex:s,onNavigate:o=()=>{},enabled:l=!0,selectedIndex:u=null,allowEscape:d=!1,loop:h=!1,nested:p=!1,rtl:f=!1,virtual:g=!1,focusItemOnOpen:m="auto",focusItemOnHover:v=!0,openOnArrowKeyDown:b=!0,disabledIndices:y,orientation:O="vertical",cols:w=1,scrollItemIntoView:x=!0,virtualItemRef:S,itemSizes:$,dense:R=!1}=t;const P=ms(Fs(a.floating)),E=ps(),k=fs(),_=ji(o),C=ma(a.domReference),T=c.useRef(m),D=c.useRef(null!=u?u:-1),A=c.useRef(null),I=c.useRef(!0),L=c.useRef(_),Q=c.useRef(!!a.floating),N=c.useRef(n),V=c.useRef(!1),z=c.useRef(!1),M=ms(y),j=ms(n),F=ms(x),X=ms(u),[U,B]=c.useState(),[q,W]=c.useState(),H=ji(function(e,t,n){function r(e){g?(B(e.id),null==k||k.events.emit("virtualfocus",e),S&&(S.current=e)):bs(e,{preventScroll:!0,sync:!(!sa().toLowerCase().startsWith("mac")||navigator.maxTouchPoints||!ca())&&(to||V.current)})}void 0===n&&(n=!1);const a=e.current[t.current];a&&r(a),requestAnimationFrame(()=>{const i=e.current[t.current]||a;if(!i)return;a||r(i);const s=F.current;s&&Y&&(n||!I.current)&&(null==i.scrollIntoView||i.scrollIntoView("boolean"==typeof s?{block:"nearest",inline:"nearest"}:s))})});ns(()=>{document.createElement("div").focus({get preventScroll(){return to=!0,!1}})},[]),ns(()=>{l&&(n&&a.floating?T.current&&null!=u&&(z.current=!0,D.current=u,_(u)):Q.current&&(D.current=-1,L.current(null)))},[l,n,a.floating,u,_]),ns(()=>{if(l&&n&&a.floating)if(null==s){if(V.current=!1,null!=X.current)return;if(Q.current&&(D.current=-1,H(i,D)),(!N.current||!Q.current)&&T.current&&(null!=A.current||!0===T.current&&null==A.current)){let e=0;const t=()=>{if(null==i.current[0]){if(e<2){(e?requestAnimationFrame:queueMicrotask)(t)}e++}else D.current=null==A.current||ao(A.current,O,f)||p?Hi(i,M.current):Gi(i,M.current),A.current=null,_(D.current)};t()}}else Wi(i,s)||(D.current=s,H(i,D,z.current),z.current=!1)},[l,n,a.floating,s,X,p,i,O,f,_,H,M]),ns(()=>{var e;if(!l||a.floating||!k||g||!Q.current)return;const t=k.nodesRef.current,n=null==(e=t.find(e=>e.id===E))||null==(e=e.context)?void 0:e.elements.floating,r=aa(ha(a.floating)),i=t.some(e=>e.context&&ia(e.context.elements.floating,r));n&&!i&&I.current&&n.focus({preventScroll:!0})},[l,a.floating,k,E,g]),ns(()=>{if(l&&k&&g&&!E)return k.events.on("virtualfocus",e),()=>{k.events.off("virtualfocus",e)};function e(e){W(e.id),S&&(S.current=e)}},[l,k,g,E,S]),ns(()=>{L.current=_,Q.current=!!a.floating}),ns(()=>{n||(A.current=null)},[n]),ns(()=>{N.current=n},[n]);const G=null!=s,Y=c.useMemo(()=>{function e(e){if(!n)return;const t=i.current.indexOf(e);-1!==t&&_(t)}const t={onFocus(t){let{currentTarget:n}=t;e(n)},onClick:e=>{let{currentTarget:t}=e;return t.focus({preventScroll:!0})},...v&&{onMouseMove(t){let{currentTarget:n}=t;e(n)},onPointerLeave(e){let{pointerType:t}=e;I.current&&"touch"!==t&&(D.current=-1,H(i,D),_(null),g||bs(P.current,{preventScroll:!0}))}}};return t},[n,P,H,v,i,_,g]),Z=ji(e=>{if(I.current=!1,V.current=!0,229===e.which)return;if(!j.current&&e.currentTarget===P.current)return;if(p&&io(e.key,O,f))return ga(e),r(!1,e.nativeEvent,"list-navigation"),void(Nr(a.domReference)&&(g?null==k||k.events.emit("virtualfocus",a.domReference):a.domReference.focus()));const t=D.current,s=Hi(i,y),o=Gi(i,y);if(C||("Home"===e.key&&(ga(e),D.current=s,_(D.current)),"End"===e.key&&(ga(e),D.current=o,_(D.current))),w>1){const t=$||Array.from({length:i.current.length},()=>({width:1,height:1})),n=Ki(t,w,R),r=n.findIndex(e=>null!=e&&!ts(i.current,e,y)),a=n.reduce((e,t,n)=>null==t||ts(i.current,t,y)?e:n,-1),l=n[Zi({current:n.map(e=>null!=e?i.current[e]:null)},{event:e,orientation:O,loop:h,rtl:f,cols:w,disabledIndices:es([...y||i.current.map((e,t)=>ts(i.current,t)?t:void 0),void 0],n),minIndex:r,maxIndex:a,prevIndex:Ji(D.current>o?s:D.current,t,n,w,e.key===Xi?"bl":e.key===(f?Ui:Bi)?"tr":"tl"),stopEvent:!0})];if(null!=l&&(D.current=l,_(D.current)),"both"===O)return}if(ro(e.key,O)){if(ga(e),n&&!g&&aa(e.currentTarget.ownerDocument)===e.currentTarget)return D.current=ao(e.key,O,f)?s:o,void _(D.current);ao(e.key,O,f)?D.current=h?t>=o?d&&t!==i.current.length?-1:s:Yi(i,{startingIndex:t,disabledIndices:y}):Math.min(o,Yi(i,{startingIndex:t,disabledIndices:y})):D.current=h?t<=s?d&&-1!==t?i.current.length:o:Yi(i,{startingIndex:t,decrement:!0,disabledIndices:y}):Math.max(s,Yi(i,{startingIndex:t,decrement:!0,disabledIndices:y})),Wi(i,D.current)?_(null):_(D.current)}}),K=c.useMemo(()=>g&&n&&G&&{"aria-activedescendant":q||U},[g,n,G,q,U]),J=c.useMemo(()=>({"aria-orientation":"both"===O?void 0:O,...!ma(a.domReference)&&K,onKeyDown:Z,onPointerMove(){I.current=!0}}),[K,Z,a.domReference,O]),ee=c.useMemo(()=>{function e(e){"auto"===m&&la(e.nativeEvent)&&(T.current=!0)}return{...K,onKeyDown(e){I.current=!1;const t=e.key.startsWith("Arrow"),a=["Home","End"].includes(e.key),s=t||a,o=function(e,t,n){return no(t,n?e===Ui:e===Bi,e===Xi)}(e.key,O,f),l=io(e.key,O,f),c=ro(e.key,O),d=(p?o:c)||"Enter"===e.key||""===e.key.trim();if(g&&n){const t=null==k?void 0:k.nodesRef.current.find(e=>null==e.parentId),n=k&&t?function(e,t){let n,r=-1;return function t(a,i){i>r&&(n=a,r=i),ys(e,a).forEach(e=>{t(e.id,i+1)})}(t,0),e.find(e=>e.id===n)}(k.nodesRef.current,t.id):null;if(s&&n&&S){const t=new KeyboardEvent("keydown",{key:e.key,bubbles:!0});if(o||l){var h,m;const r=(null==(h=n.context)?void 0:h.elements.domReference)===e.currentTarget,a=l&&!r?null==(m=n.context)?void 0:m.elements.domReference:o?i.current.find(e=>(null==e?void 0:e.id)===U):null;a&&(ga(e),a.dispatchEvent(t),W(void 0))}var v;if((c||a)&&n.context)if(n.context.open&&n.parentId&&e.currentTarget!==n.context.elements.domReference)return ga(e),void(null==(v=n.context.elements.domReference)||v.dispatchEvent(t))}return Z(e)}(n||b||!t)&&(d&&(A.current=p&&c?null:e.key),p?o&&(ga(e),n?(D.current=Hi(i,M.current),_(D.current)):r(!0,e.nativeEvent,"list-navigation")):c&&(null!=u&&(D.current=u),ga(e),!n&&b?r(!0,e.nativeEvent,"list-navigation"):Z(e),n&&_(D.current)))},onFocus(){n&&!g&&_(null)},onPointerDown:function(e){T.current=m,"auto"===m&&ua(e.nativeEvent)&&(T.current=!0)},onMouseDown:e,onClick:e}},[U,K,Z,M,m,i,p,_,r,n,b,O,f,u,k,g,S]);return c.useMemo(()=>l?{reference:ee,floating:J,item:Y}:{},[l,ee,J,Y])}const oo=new Map([["select","listbox"],["combobox","listbox"],["label",!1]]);function lo(e,t,n){let r,a=n.initialDeps??[];function i(){var i,s,o,l;let u;n.key&&(null==(i=n.debug)?void 0:i.call(n))&&(u=Date.now());const c=e(),d=c.length!==a.length||c.some((e,t)=>a[t]!==e);if(!d)return r;let h;if(a=c,n.key&&(null==(s=n.debug)?void 0:s.call(n))&&(h=Date.now()),r=t(...c),n.key&&(null==(o=n.debug)?void 0:o.call(n))){Math.round(100*(Date.now()-u)),Math.round(100*(Date.now()-h))}return null==(l=null==n?void 0:n.onChange)||l.call(n,r),r}return i.updateDeps=e=>{a=e},i}function uo(e,t){if(void 0===e)throw new Error("Unexpected undefined"+(t?`: ${t}`:""));return e}const co=(e,t,n)=>{let r;return function(...a){e.clearTimeout(r),r=e.setTimeout(()=>t.apply(this,a),n)}},ho=e=>{const{offsetWidth:t,offsetHeight:n}=e;return{width:t,height:n}},po=e=>e,fo=e=>{const t=Math.max(e.startIndex-e.overscan,0),n=Math.min(e.endIndex+e.overscan,e.count-1),r=[];for(let e=t;e<=n;e++)r.push(e);return r},go=(e,t)=>{const n=e.scrollElement;if(!n)return;const r=e.targetWindow;if(!r)return;const a=e=>{const{width:n,height:r}=e;t({width:Math.round(n),height:Math.round(r)})};if(a(ho(n)),!r.ResizeObserver)return()=>{};const i=new r.ResizeObserver(t=>{const r=()=>{const e=t[0];if(null==e?void 0:e.borderBoxSize){const t=e.borderBoxSize[0];if(t)return void a({width:t.inlineSize,height:t.blockSize})}a(ho(n))};e.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(r):r()});return i.observe(n,{box:"border-box"}),()=>{i.unobserve(n)}},mo={passive:!0},vo="undefined"==typeof window||"onscrollend"in window,bo=(e,t)=>{const n=e.scrollElement;if(!n)return;const r=e.targetWindow;if(!r)return;let a=0;const i=e.options.useScrollendEvent&&vo?()=>{}:co(r,()=>{t(a,!1)},e.options.isScrollingResetDelay),s=r=>()=>{const{horizontal:s,isRtl:o}=e.options;a=s?n.scrollLeft*(o?-1:1):n.scrollTop,i(),t(a,r)},o=s(!0),l=s(!1);l(),n.addEventListener("scroll",o,mo);const u=e.options.useScrollendEvent&&vo;return u&&n.addEventListener("scrollend",l,mo),()=>{n.removeEventListener("scroll",o),u&&n.removeEventListener("scrollend",l)}},yo=(e,t,n)=>{if(null==t?void 0:t.borderBoxSize){const e=t.borderBoxSize[0];if(e){return Math.round(e[n.options.horizontal?"inlineSize":"blockSize"])}}return e[n.options.horizontal?"offsetWidth":"offsetHeight"]},Oo=(e,{adjustments:t=0,behavior:n},r)=>{var a,i;const s=e+t;null==(i=null==(a=r.scrollElement)?void 0:a.scrollTo)||i.call(a,{[r.options.horizontal?"left":"top"]:s,behavior:n})};class wo{constructor(e){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let e=null;const t=()=>e||(this.targetWindow&&this.targetWindow.ResizeObserver?e=new this.targetWindow.ResizeObserver(e=>{e.forEach(e=>{const t=()=>{this._measureElement(e.target,e)};this.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(t):t()})}):null);return{disconnect:()=>{var n;null==(n=t())||n.disconnect(),e=null},observe:e=>{var n;return null==(n=t())?void 0:n.observe(e,{box:"border-box"})},unobserve:e=>{var n;return null==(n=t())?void 0:n.unobserve(e)}}})(),this.range=null,this.setOptions=e=>{Object.entries(e).forEach(([t,n])=>{void 0===n&&delete e[t]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:po,rangeExtractor:fo,onChange:()=>{},measureElement:yo,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,useScrollendEvent:!1,useAnimationFrameWithResizeObserver:!1,...e}},this.notify=e=>{var t,n;null==(n=(t=this.options).onChange)||n.call(t,this,e)},this.maybeNotify=lo(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),e=>{this.notify(e)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(e=>e()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var e;const t=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==t){if(this.cleanup(),!t)return void this.maybeNotify();this.scrollElement=t,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=(null==(e=this.scrollElement)?void 0:e.window)??null,this.elementsCache.forEach(e=>{this.observer.observe(e)}),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,e=>{this.scrollRect=e,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(e,t)=>{this.scrollAdjustments=0,this.scrollDirection=t?this.getScrollOffset()<e?"forward":"backward":null,this.scrollOffset=e,this.isScrolling=t,this.maybeNotify()}))}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??("function"==typeof this.options.initialOffset?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(e,t)=>{const n=new Map,r=new Map;for(let a=t-1;a>=0;a--){const t=e[a];if(n.has(t.lane))continue;const i=r.get(t.lane);if(null==i||t.end>i.end?r.set(t.lane,t):t.end<i.end&&n.set(t.lane,!0),n.size===this.options.lanes)break}return r.size===this.options.lanes?Array.from(r.values()).sort((e,t)=>e.end===t.end?e.index-t.index:e.end-t.end)[0]:void 0},this.getMeasurementOptions=lo(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled],(e,t,n,r,a)=>(this.pendingMeasuredCacheIndexes=[],{count:e,paddingStart:t,scrollMargin:n,getItemKey:r,enabled:a}),{key:!1}),this.getMeasurements=lo(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:e,paddingStart:t,scrollMargin:n,getItemKey:r,enabled:a},i)=>{if(!a)return this.measurementsCache=[],this.itemSizeCache.clear(),[];0===this.measurementsCache.length&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(e=>{this.itemSizeCache.set(e.key,e.size)}));const s=this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[];const o=this.measurementsCache.slice(0,s);for(let a=s;a<e;a++){const e=r(a),s=1===this.options.lanes?o[a-1]:this.getFurthestMeasurement(o,a),l=s?s.end+this.options.gap:t+n,u=i.get(e),c="number"==typeof u?u:this.options.estimateSize(a),d=l+c,h=s?s.lane:a%this.options.lanes;o[a]={index:a,start:l,size:c,end:d,key:e,lane:h}}return this.measurementsCache=o,o},{key:!1,debug:()=>this.options.debug}),this.calculateRange=lo(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset(),this.options.lanes],(e,t,n,r)=>this.range=e.length>0&&t>0?function({measurements:e,outerSize:t,scrollOffset:n,lanes:r}){const a=e.length-1,i=t=>e[t].start;if(e.length<=r)return{startIndex:0,endIndex:a};let s=xo(0,a,i,n),o=s;if(1===r)for(;o<a&&e[o].end<n+t;)o++;else if(r>1){const i=Array(r).fill(0);for(;o<a&&i.some(e=>e<n+t);){const t=e[o];i[t.lane]=t.end,o++}const l=Array(r).fill(n+t);for(;s>=0&&l.some(e=>e>=n);){const t=e[s];l[t.lane]=t.start,s--}s=Math.max(0,s-s%r),o=Math.min(a,o+(r-1-o%r))}return{startIndex:s,endIndex:o}}({measurements:e,outerSize:t,scrollOffset:n,lanes:r}):null,{key:!1,debug:()=>this.options.debug}),this.getVirtualIndexes=lo(()=>{let e=null,t=null;const n=this.calculateRange();return n&&(e=n.startIndex,t=n.endIndex),this.maybeNotify.updateDeps([this.isScrolling,e,t]),[this.options.rangeExtractor,this.options.overscan,this.options.count,e,t]},(e,t,n,r,a)=>null===r||null===a?[]:e({startIndex:r,endIndex:a,overscan:t,count:n}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=e=>{const t=this.options.indexAttribute,n=e.getAttribute(t);return n?parseInt(n,10):(console.warn(`Missing attribute name '${t}={index}' on measured element.`),-1)},this._measureElement=(e,t)=>{const n=this.indexFromElement(e),r=this.measurementsCache[n];if(!r)return;const a=r.key,i=this.elementsCache.get(a);i!==e&&(i&&this.observer.unobserve(i),this.observer.observe(e),this.elementsCache.set(a,e)),e.isConnected&&this.resizeItem(n,this.options.measureElement(e,t,this))},this.resizeItem=(e,t)=>{const n=this.measurementsCache[e];if(!n)return;const r=t-(this.itemSizeCache.get(n.key)??n.size);0!==r&&((void 0!==this.shouldAdjustScrollPositionOnItemSizeChange?this.shouldAdjustScrollPositionOnItemSizeChange(n,r,this):n.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=r,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(n.index),this.itemSizeCache=new Map(this.itemSizeCache.set(n.key,t)),this.notify(!1))},this.measureElement=e=>{e?this._measureElement(e,void 0):this.elementsCache.forEach((e,t)=>{e.isConnected||(this.observer.unobserve(e),this.elementsCache.delete(t))})},this.getVirtualItems=lo(()=>[this.getVirtualIndexes(),this.getMeasurements()],(e,t)=>{const n=[];for(let r=0,a=e.length;r<a;r++){const a=t[e[r]];n.push(a)}return n},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=e=>{const t=this.getMeasurements();if(0!==t.length)return uo(t[xo(0,t.length-1,e=>uo(t[e]).start,e)])},this.getOffsetForAlignment=(e,t,n=0)=>{const r=this.getSize(),a=this.getScrollOffset();"auto"===t&&(t=e>=a+r?"end":"start"),"center"===t?e+=(n-r)/2:"end"===t&&(e-=r);const i=this.getTotalSize()+this.options.scrollMargin-r;return Math.max(Math.min(i,e),0)},this.getOffsetForIndex=(e,t="auto")=>{e=Math.max(0,Math.min(e,this.options.count-1));const n=this.measurementsCache[e];if(!n)return;const r=this.getSize(),a=this.getScrollOffset();if("auto"===t)if(n.end>=a+r-this.options.scrollPaddingEnd)t="end";else{if(!(n.start<=a+this.options.scrollPaddingStart))return[a,t];t="start"}const i="end"===t?n.end+this.options.scrollPaddingEnd:n.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(i,t,n.size),t]},this.isDynamicMode=()=>this.elementsCache.size>0,this.scrollToOffset=(e,{align:t="start",behavior:n}={})=>{"smooth"===n&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(e,t),{adjustments:void 0,behavior:n})},this.scrollToIndex=(e,{align:t="auto",behavior:n}={})=>{"smooth"===n&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),e=Math.max(0,Math.min(e,this.options.count-1));let r=0;const a=t=>{if(!this.targetWindow)return;const r=this.getOffsetForIndex(e,t);if(!r)return void console.warn("Failed to get offset for index:",e);const[a,s]=r;this._scrollToOffset(a,{adjustments:void 0,behavior:n}),this.targetWindow.requestAnimationFrame(()=>{const t=this.getScrollOffset(),n=this.getOffsetForIndex(e,s);n?((e,t)=>Math.abs(e-t)<1.01)(n[0],t)||i(s):console.warn("Failed to get offset for index:",e)})},i=t=>{this.targetWindow&&(r++,r<10?this.targetWindow.requestAnimationFrame(()=>a(t)):console.warn(`Failed to scroll to index ${e} after 10 attempts.`))};a(t)},this.scrollBy=(e,{behavior:t}={})=>{"smooth"===t&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+e,{adjustments:void 0,behavior:t})},this.getTotalSize=()=>{var e;const t=this.getMeasurements();let n;if(0===t.length)n=this.options.paddingStart;else if(1===this.options.lanes)n=(null==(e=t[t.length-1])?void 0:e.end)??0;else{const e=Array(this.options.lanes).fill(null);let r=t.length-1;for(;r>=0&&e.some(e=>null===e);){const n=t[r];null===e[n.lane]&&(e[n.lane]=n.end),r--}n=Math.max(...e.filter(e=>null!==e))}return Math.max(n-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(e,{adjustments:t,behavior:n})=>{this.options.scrollToFn(e,{behavior:n,adjustments:t},this)},this.measure=()=>{this.itemSizeCache=new Map,this.notify(!1)},this.setOptions(e)}}const xo=(e,t,n,r)=>{for(;e<=t;){const a=(e+t)/2|0,i=n(a);if(i<r)e=a+1;else{if(!(i>r))return a;t=a-1}}return e>0?e-1:0};const So="undefined"!=typeof document?c.useLayoutEffect:c.useEffect;function $o(e){const t=c.useReducer(()=>({}),{})[1],n={...e,onChange:(n,r)=>{var a;r?(0,ii.flushSync)(t):t(),null==(a=e.onChange)||a.call(e,n,r)}},[r]=c.useState(()=>new wo(n));return r.setOptions(n),So(()=>r._didMount(),[]),So(()=>r._willUpdate()),r}const Ro=(0,c.forwardRef)(function({children:e,active:t,addGroupBottomBorder:n,isMultiValueEdit:r,checked:a,...i},s){const o=(0,In.useStyles2)(Po),l=(0,c.useId)();return h().createElement("div",{ref:s,role:"option",id:l,"aria-selected":t,className:(0,Un.cx)(o.option,t&&o.optionFocused,n&&o.groupBottomBorder),...i},h().createElement("div",{className:o.optionBody,"data-testid":`data-testid ad hoc filter option value ${e}`},h().createElement("span",null,r?h().createElement(In.Checkbox,{tabIndex:-1,checked:a,className:o.checkbox}):null,e)))}),Po=e=>({option:(0,Un.css)({label:"grafana-select-option",top:0,left:0,width:"100%",position:"absolute",padding:e.spacing(1),display:"flex",alignItems:"center",flexDirection:"row",flexShrink:0,whiteSpace:"nowrap",cursor:"pointer","&:hover":{background:e.colors.action.hover,"@media (forced-colors: active), (prefers-contrast: more)":{border:`1px solid ${e.colors.primary.border}`}}}),optionFocused:(0,Un.css)({label:"grafana-select-option-focused",background:e.colors.action.focus,"@media (forced-colors: active), (prefers-contrast: more)":{border:`1px solid ${e.colors.primary.border}`}}),optionBody:(0,Un.css)({label:"grafana-select-option-body",display:"flex",fontWeight:e.typography.fontWeightMedium,flexDirection:"column",flexGrow:1}),groupBottomBorder:(0,Un.css)({borderBottom:`1px solid ${e.colors.border.weak}`}),checkbox:(0,Un.css)({paddingRight:e.spacing(.5)}),multiValueApplyWrapper:(0,Un.css)({position:"fixed",top:0,left:0,display:"flex",backgroundColor:e.colors.background.primary,color:e.colors.text.primary,boxShadow:e.shadows.z2,overflowY:"auto",zIndex:e.zIndex.dropdown,gap:e.spacing(1.5),padding:`${e.spacing(1.5)} ${e.spacing(1)}`})}),Eo=()=>h().createElement(Ro,{onClick:e=>e.stopPropagation()},h().createElement(Ut,{i18nKey:"grafana-scenes.variables.loading-options-placeholder.loading-options"},"Loading options...")),ko=()=>h().createElement(Ro,{onClick:e=>e.stopPropagation()},h().createElement(Ut,{i18nKey:"grafana-scenes.variables.no-options-placeholder.no-options-found"},"No options found")),_o=({handleFetchOptions:e})=>h().createElement(Ro,{onClick:e},h().createElement(Ut,{i18nKey:"grafana-scenes.variables.options-error-placeholder.error-occurred-fetching-labels-click-retry"},"An error has occurred fetching labels. Click to retry")),Co=({onApply:e,floatingElement:t,maxOptionWidth:n,menuHeight:r})=>{const a=(0,In.useStyles2)(Po),i=null==t?void 0:t.getBoundingClientRect();return h().createElement("div",{className:a.multiValueApplyWrapper,style:{width:`${n}px`,transform:`translate(${null==i?void 0:i.left}px,${i?i.top+r:0}px)`}},h().createElement(In.Button,{onClick:e,size:"sm",tabIndex:-1},h().createElement(Ut,{i18nKey:"grafana-scenes.variables.multi-value-apply-button.apply"},"Apply")))},To={key:"operator",operator:"value",value:"key"},Do=(e,t,n,r,a)=>Ao(To[e],t,"value"===e?n:void 0,r,a),Ao=(e,t,n,r,a)=>{t(e),null==n||n(void 0,a),setTimeout(()=>null==r?void 0:r.focus())},Io=({filterInputType:e,item:t,filter:n,setFilterMultiValues:r,onAddCustomValue:a})=>{var i,s,o,l,u;if("key"===e)return{key:t.value,keyLabel:t.label?t.label:t.value,meta:null==t?void 0:t.meta};if("value"===e)return t.isCustom&&a?a(t,n):{value:t.value,valueLabels:[t.label?t.label:t.value]};if("operator"===e){if(il(n.operator)&&!il(t.value))return r([]),{operator:t.value,valueLabels:[(null==(i=n.valueLabels)?void 0:i[0])||(null==(s=n.values)?void 0:s[0])||n.value],values:void 0};if(il(t.value)&&!il(n.operator)){const e=[(null==(o=n.valueLabels)?void 0:o[0])||(null==(l=n.values)?void 0:l[0])||n.value],a=[n.value];return a[0]&&r([{value:a[0],label:null!=(u=null==e?void 0:e[0])?u:a[0]}]),{operator:t.value,valueLabels:e,values:a}}}return{[e]:t.value}},Lo="Filter by label values",Qo=(e,t,n,r)=>{var a;return"key"===t?Lo:"value"===t?n?"Edit values":(null==(a=e.valueLabels)?void 0:a[0])||"":e[t]&&!r?`${e[t]}`:Lo},No=({populateInputOnEdit:e,item:t,filterInputType:n,setInputValue:r,filter:a})=>{var i,s,o;e&&!il(t.value||"")&&"value"===To[n]?r(null!=(o=null!=(s=null==(i=null==a?void 0:a.valueLabels)?void 0:i[0])?s:null==a?void 0:a.value)?o:""):r("")},Vo=({open:e,onOpenChange:t,activeIndex:n,setActiveIndex:r,outsidePressIdsToIgnore:a,listRef:i,disabledIndicesRef:s})=>{const{refs:o,floatingStyles:l,context:u}=Zs({whileElementsMounted:Pi,open:e,onOpenChange:t,placement:"bottom-start",middleware:[Qi(10),Ni({padding:10}),Vi({apply({availableHeight:e,availableWidth:t,elements:n}){n.floating.style.maxHeight=`${Math.min(300,e)}px`,n.floating.style.maxWidth=`${t}px`},padding:10})],strategy:"fixed"}),d=function(e,t){var n;void 0===t&&(t={});const{open:r,floatingId:a}=e,{enabled:i=!0,role:s="dialog"}=t,o=null!=(n=oo.get(s))?n:s,l=us(),u=null!=ps(),d=c.useMemo(()=>"tooltip"===o||"label"===s?{["aria-"+("label"===s?"labelledby":"describedby")]:r?a:void 0}:{"aria-expanded":r?"true":"false","aria-haspopup":"alertdialog"===o?"dialog":o,"aria-controls":r?a:void 0,..."listbox"===o&&{role:"combobox"},..."menu"===o&&{id:l},..."menu"===o&&u&&{role:"menuitem"},..."select"===s&&{"aria-autocomplete":"none"},..."combobox"===s&&{"aria-autocomplete":"list"}},[o,a,u,r,l,s]),h=c.useMemo(()=>{const e={id:a,...o&&{role:o}};return"tooltip"===o||"label"===s?e:{...e,..."menu"===o&&{"aria-labelledby":l}}},[o,a,l,s]),p=c.useCallback(e=>{let{active:t,selected:n}=e;const r={role:"option",...t&&{id:a+"-option"}};switch(s){case"select":return{...r,"aria-selected":t&&n};case"combobox":return{...r,...t&&{"aria-selected":!0}}}return{}},[a,s]);return c.useMemo(()=>i?{reference:d,floating:h,item:p}:{},[i,d,h,p])}(u,{role:"listbox"}),h=function(e,t){void 0===t&&(t={});const{open:n,onOpenChange:r,elements:a,dataRef:i}=e,{enabled:s=!0,escapeKey:o=!0,outsidePress:l=!0,outsidePressEvent:u="pointerdown",referencePress:d=!1,referencePressEvent:h="pointerdown",ancestorScroll:p=!1,bubbles:f,capture:g}=t,m=fs(),v=ji("function"==typeof l?l:()=>!1),b="function"==typeof l?v:l,y=c.useRef(!1),O=c.useRef(!1),{escapeKey:w,outsidePress:x}=Ys(f),{escapeKey:S,outsidePress:$}=Ys(g),R=c.useRef(!1),P=ji(e=>{var t;if(!n||!s||!o||"Escape"!==e.key)return;if(R.current)return;const a=null==(t=i.current.floatingContext)?void 0:t.nodeId,l=m?ys(m.nodesRef.current,a):[];if(!w&&(e.stopPropagation(),l.length>0)){let e=!0;if(l.forEach(t=>{var n;null==(n=t.context)||!n.open||t.context.dataRef.current.__escapeKeyBubbles||(e=!1)}),!e)return}r(!1,function(e){return"nativeEvent"in e}(e)?e.nativeEvent:e,"escape-key")}),E=ji(e=>{var t;const n=()=>{var t;P(e),null==(t=fa(e))||t.removeEventListener("keydown",n)};null==(t=fa(e))||t.addEventListener("keydown",n)}),k=ji(e=>{var t;const n=y.current;y.current=!1;const s=O.current;if(O.current=!1,"click"===u&&s)return;if(n)return;if("function"==typeof b&&!b(e))return;const o=fa(e),l="["+gs("inert")+"]",c=ha(a.floating).querySelectorAll(l);let d=Qr(o)?o:null;for(;d&&!Zr(d);){const e=ea(d);if(Zr(e)||!Qr(e))break;d=e}if(c.length&&Qr(o)&&!o.matches("html,body")&&!ia(o,a.floating)&&Array.from(c).every(e=>!ia(d,e)))return;if(Nr(o)&&T){const t=o.clientWidth>0&&o.scrollWidth>o.clientWidth,n=o.clientHeight>0&&o.scrollHeight>o.clientHeight;let r=n&&e.offsetX>o.clientWidth;if(n&&"rtl"===Kr(o).direction&&(r=e.offsetX<=o.offsetWidth-o.clientWidth),r||t&&e.offsetY>o.clientHeight)return}const h=null==(t=i.current.floatingContext)?void 0:t.nodeId,p=m&&ys(m.nodesRef.current,h).some(t=>{var n;return pa(e,null==(n=t.context)?void 0:n.elements.floating)});if(pa(e,a.floating)||pa(e,a.domReference)||p)return;const f=m?ys(m.nodesRef.current,h):[];if(f.length>0){let e=!0;if(f.forEach(t=>{var n;null==(n=t.context)||!n.open||t.context.dataRef.current.__outsidePressBubbles||(e=!1)}),!e)return}r(!1,e,"outside-press")}),_=ji(e=>{var t;const n=()=>{var t;k(e),null==(t=fa(e))||t.removeEventListener(u,n)};null==(t=fa(e))||t.addEventListener(u,n)});c.useEffect(()=>{if(!n||!s)return;i.current.__escapeKeyBubbles=w,i.current.__outsidePressBubbles=x;let e=-1;function t(e){r(!1,e,"ancestor-scroll")}function l(){window.clearTimeout(e),R.current=!0}function c(){e=window.setTimeout(()=>{R.current=!1},Gr()?5:0)}const d=ha(a.floating);o&&(d.addEventListener("keydown",S?E:P,S),d.addEventListener("compositionstart",l),d.addEventListener("compositionend",c)),b&&d.addEventListener(u,$?_:k,$);let h=[];return p&&(Qr(a.domReference)&&(h=na(a.domReference)),Qr(a.floating)&&(h=h.concat(na(a.floating))),!Qr(a.reference)&&a.reference&&a.reference.contextElement&&(h=h.concat(na(a.reference.contextElement)))),h=h.filter(e=>{var t;return e!==(null==(t=d.defaultView)?void 0:t.visualViewport)}),h.forEach(e=>{e.addEventListener("scroll",t,{passive:!0})}),()=>{o&&(d.removeEventListener("keydown",S?E:P,S),d.removeEventListener("compositionstart",l),d.removeEventListener("compositionend",c)),b&&d.removeEventListener(u,$?_:k,$),h.forEach(e=>{e.removeEventListener("scroll",t)}),window.clearTimeout(e)}},[i,a,o,b,u,n,r,p,s,w,x,P,S,E,k,$,_]),c.useEffect(()=>{y.current=!1},[b,u]);const C=c.useMemo(()=>({onKeyDown:P,[Hs[h]]:e=>{d&&r(!1,e.nativeEvent,"reference-press")}}),[P,r,d,h]),T=c.useMemo(()=>({onKeyDown:P,onMouseDown(){O.current=!0},onMouseUp(){O.current=!0},[Gs[u]]:()=>{y.current=!0}}),[P,u]);return c.useMemo(()=>s?{reference:C,floating:T}:{},[s,C,T])}(u,{outsidePress:e=>{var t;if(e.currentTarget instanceof Element){const n=e.currentTarget;let r=n.id;if("path"===n.nodeName&&(r=(null==(t=n.parentElement)?void 0:t.id)||""),a.includes(r))return!1}return!0}}),p=so(u,{listRef:i,activeIndex:n,onNavigate:r,virtual:!0,loop:!0,disabledIndices:s.current}),{getReferenceProps:f,getFloatingProps:g,getItemProps:m}=function(e){void 0===e&&(e=[]);const t=e.map(e=>null==e?void 0:e.reference),n=e.map(e=>null==e?void 0:e.floating),r=e.map(e=>null==e?void 0:e.item),a=c.useCallback(t=>eo(t,e,"reference"),t),i=c.useCallback(t=>eo(t,e,"floating"),n),s=c.useCallback(t=>eo(t,e,"item"),r);return c.useMemo(()=>({getReferenceProps:a,getFloatingProps:i,getItemProps:s}),[a,i,s])}([d,h,p]);return{refs:o,floatingStyles:l,context:u,getReferenceProps:f,getFloatingProps:g,getItemProps:m}},zo=({item:e,handleRemoveMultiValue:t,index:n,handleEditMultiValuePill:r})=>{var a,i;const s=(0,In.useStyles2)(Mo),o=(0,c.useCallback)(t=>{t.stopPropagation(),t.preventDefault(),r(e)},[r,e]),l=(0,c.useCallback)(e=>{"Enter"===e.key&&o(e)},[o]),u=(0,c.useCallback)(n=>{n.stopPropagation(),n.preventDefault(),t(e)},[t,e]),d=(0,c.useCallback)(e=>{"Enter"===e.key&&u(e)},[u]);return h().createElement("div",{className:(0,Un.cx)(s.basePill,s.valuePill),onClick:o,onKeyDown:l,tabIndex:0,id:`${e.value}-${n}`},null!=(a=e.label)?a:e.value,h().createElement(In.Button,{onClick:u,onKeyDownCapture:d,fill:"text",size:"sm",variant:"secondary",className:s.removeButton,tooltip:Xt("grafana-scenes.components.adhoc-filters-combobox.remove-filter-value","Remove filter value - {{itemLabel}}",{itemLabel:null!=(i=e.label)?i:e.value})},h().createElement(In.Icon,{name:"times",size:"md",id:`${e.value}-${n}-close-icon`})))},Mo=e=>({basePill:(0,Un.css)({display:"flex",alignItems:"center",background:e.colors.action.disabledBackground,border:`1px solid ${e.colors.border.weak}`,padding:e.spacing(.125,1,.125,1),color:e.colors.text.primary,overflow:"hidden",whiteSpace:"nowrap",minHeight:e.spacing(2.75),...e.typography.bodySmall,cursor:"pointer"}),valuePill:(0,Un.css)({background:e.colors.action.selected,padding:e.spacing(.125,0,.125,1)}),removeButton:(0,Un.css)({marginInline:e.spacing(.5),height:"100%",padding:0,cursor:"pointer","&:hover":{color:e.colors.text.primary}})}),jo=(0,c.forwardRef)(function({filter:e,model:t,isAlwaysWip:n,handleChangeViewMode:r,focusOnWipInputRef:a,populateInputOnEdit:i},s){var o,l,u,d;const[p,f]=(0,c.useState)(!1),[g,m]=(0,c.useState)([]),[v,b]=(0,c.useState)(!1),[y,O]=(0,c.useState)(!1),[w,x]=(0,c.useState)(""),[S,$]=(0,c.useState)(null),[R,P]=(0,c.useState)(n?"key":"value"),[E,k]=(0,c.useState)(!n&&"value"===R),_=(0,In.useStyles2)(Fo),[C,T]=(0,c.useState)([]),[D,A]=(0,c.useState)({}),I=null==(o=t.state.allowCustomValue)||o,L=(0,c.useRef)(null),Q=il((null==e?void 0:e.operator)||""),N=Q&&"value"===R,V=(0,c.useId)(),z=(0,c.useRef)([]),M=(0,c.useRef)([]),j=(0,c.useRef)(n?"key":"value"),F=(0,c.useMemo)(()=>wr(g),[g]),X=(0,c.useMemo)(()=>!n&&t.state.filters.at(-1)===e,[e,n,t.state.filters]),U=(0,c.useCallback)(()=>{n&&(t._addWip(),P("key"),x(""))},[t,n]),B=(0,c.useCallback)((e,t,n,r)=>{if(!n.length&&t.origin&&e.updateToMatchAll(t),n.length){const r=[],a=[];n.forEach(e=>{var t;r.push(null!=(t=e.label)?t:e.value),a.push(e.value)}),e._updateFilter(t,{valueLabels:r,values:a,value:a[0]}),T([])}r||setTimeout(()=>{var e;return null==(e=G.domReference.current)?void 0:e.focus()})},[]),q=(0,c.useCallback)(e=>{T(t=>t.some(t=>t.value===e.value)?t.filter(t=>t.value!==e.value):[...t,e])},[]),W=(0,c.useCallback)((n,a,i)=>{f(n),i&&["outside-press","escape-key"].includes(i)&&(N&&B(t,e,C),U(),null==r||r())},[e,C,r,B,U,N,t]),H=(0,c.useMemo)(()=>[V,...C.reduce((e,t,n)=>[...e,`${t.value}-${n}`,`${t.value}-${n}-close-icon`],[])],[V,C]),{refs:G,floatingStyles:Y,context:Z,getReferenceProps:K,getFloatingProps:J,getItemProps:ee}=Vo({open:p,onOpenChange:W,activeIndex:S,setActiveIndex:$,outsidePressIdsToIgnore:H,listRef:z,disabledIndicesRef:M});(0,c.useImperativeHandle)(s,()=>()=>{var e;return null==(e=G.domReference.current)?void 0:e.focus()},[G.domReference]);const te=(0,c.useCallback)(e=>{T(t=>t.filter(t=>t.value!==e.value)),setTimeout(()=>{var e;return null==(e=G.domReference.current)?void 0:e.focus()})},[G.domReference]),ne=(e=>e.flatMap(e=>e.options?[e,...e.options]:[e]))(Pl(F(E?"":w)));I&&"operator"!==R&&w&&ne.push({value:w.trim(),label:w.trim(),isCustom:!0});const re=t.state.onAddCustomValue,ae=((e,t,n)=>{var r,a,i,s;let o=182;const l=[],u=[];for(let t=0;t<e.length;t++){l.push(null),(null==(r=e[t])?void 0:r.options)&&u.push(t);let n=null!=(i=null!=(a=e[t].label)?a:e[t].value)?i:"",c=8;8*n.length<6*((null==(s=e[t].description)?void 0:s.length)||0)&&(n=e[t].description,c=6);const d=(e[t].isCustom?n.length+18:n.length)*c+16;d>o&&(o=d)}return t.current=[...l],n.current=[...u],o})(ne,z,M),ie=(0,c.useCallback)(async n=>{var r;O(!1),b(!0),m([]);let a=[];try{if("key"===n?a=await t._getKeys(null):"operator"===n?a=t._getOperators():"value"===n&&(a=await t._getValuesFor(e)),j.current!==n)return;m(a),(null==(r=a[0])?void 0:r.group)?$(1):$(0)}catch(e){O(!0)}b(!1)},[e,t]),se=function(e){return $o({observeElementRect:go,observeElementOffset:bo,scrollToFn:Oo,...e})}({count:ne.length,getScrollElement:()=>G.floating.current,estimateSize:e=>ne[e].description?60:38,overscan:5}),oe=(0,c.useCallback)((r,i)=>{if("Backspace"===r.key&&!w){if("value"===R){if(i&&C.length)return void T(e=>{const t=[...e];return t.splice(-1,1),t});if(null==e?void 0:e.origin)return;return void P("operator")}null==a||a(),t._handleComboboxBackspace(e),n&&U()}},[w,R,t,e,n,C.length,U,a]),le=(0,c.useCallback)((n,a)=>{var i;"Tab"!==n.key||n.shiftKey||(a&&(n.preventDefault(),B(t,e,C),null==(i=G.domReference.current)||i.focus()),null==r||r(),U())},[e,C,r,B,U,t,G.domReference]),ue=(0,c.useCallback)((n,a)=>{"Tab"===n.key&&n.shiftKey&&(a&&(n.preventDefault(),B(t,e,C,!0)),null==r||r(),U())},[e,C,r,B,U,t]),ce=(0,c.useCallback)((n,s)=>{if("Enter"===n.key&&null!=S){if(!ne[S])return;const n=ne[S];s?(q(n),x("")):(t._updateFilter(e,Io({filterInputType:R,item:n,filter:e,setFilterMultiValues:T,onAddCustomValue:re})),No({populateInputOnEdit:i,item:n,filterInputType:R,setInputValue:x,filter:e}),Do(R,P,r,G.domReference.current,!X&&void 0),$(null),X&&(null==a||a()))}},[S,ne,q,t,e,R,i,r,G.domReference,X,a,re]),de=(0,c.useCallback)(e=>{var t;const n=e.label||e.value;T(t=>t.filter(t=>t.value!==e.value)),k(!0),x(n),null==(t=G.domReference.current)||t.focus(),setTimeout(()=>{var e;null==(e=G.domReference.current)||e.select()})},[G.domReference]);(0,c.useEffect)(()=>{p&&ie(R)},[p,R]),(0,c.useEffect)(()=>{var t,r,a,s;if(!n){if(Q&&(null==(t=null==e?void 0:e.values)?void 0:t.length)){const t=e.values.reduce((t,n,r)=>{var a;return[...t,{label:(null==(a=e.valueLabels)?void 0:a[r])||n,value:n}]},[]);T(t)}!Q&&i&&(x(null!=(a=null==(r=null==e?void 0:e.valueLabels)?void 0:r[0])?a:(null==e?void 0:e.value)||""),setTimeout(()=>{var e;null==(e=G.domReference.current)||e.select()})),null==(s=G.domReference.current)||s.focus()}},[]),(0,c.useEffect)(()=>{N&&C&&setTimeout(()=>A({}))},[C,N]),(0,c.useLayoutEffect)(()=>{j.current&&(j.current=R)},[R]),(0,c.useLayoutEffect)(()=>{var e,t;null!==S&&se.range&&(S>(null==(e=se.range)?void 0:e.endIndex)||S<(null==(t=se.range)?void 0:t.startIndex))&&se.scrollToIndex(S)},[S,se]);const he=null!=(l=null==e?void 0:e.keyLabel)?l:null==e?void 0:e.key;return h().createElement("div",{className:_.comboboxWrapper},e?h().createElement("div",{className:_.pillWrapper},(null==e?void 0:e.key)?h().createElement("div",{className:(0,Un.cx)(_.basePill,_.keyPill)},he):null,(null==e?void 0:e.key)&&(null==e?void 0:e.operator)&&"operator"!==R?h().createElement("div",{id:V,className:(0,Un.cx)(_.basePill,!e.origin&&_.operatorPill,e.origin&&_.keyPill,V),"aria-label":Xt("grafana-scenes.variables.ad-hoc-combobox.aria-label-edit-filter-operator","Edit filter operator"),tabIndex:e.origin?-1:0,onClick:t=>{e.origin?null==r||r():(t.stopPropagation(),x(""),Ao("operator",P,void 0,G.domReference.current))},onKeyDown:t=>{e.origin||(ue(t,Q),"Enter"===t.key&&(x(""),Ao("operator",P,void 0,G.domReference.current)))},...!e.origin&&{role:"button"}},e.operator):null,h().createElement("div",{ref:L}),N?C.map((e,t)=>h().createElement(zo,{key:`${e.value}-${t}`,item:e,index:t,handleRemoveMultiValue:te,handleEditMultiValuePill:de})):null):null,h().createElement("input",{...K({ref:G.setReference,onChange:function(e){const t=e.target.value;x(t),$(0),E&&k(!1)},value:w,placeholder:Qo(e,R,N,n),"aria-autocomplete":"list",onKeyDown(e){p?("operator"===R&&ue(e),oe(e,N),le(e,N),ce(e,N)):f(!0)}}),className:(0,Un.cx)(_.inputStyle,{[_.loadingInputPadding]:!v}),onClick:e=>{e.stopPropagation(),f(!0)},onFocus:()=>{f(!0)}}),v?h().createElement(In.Spinner,{className:_.loadingIndicator,inline:!0}):null,h().createElement(zs,null,p&&h().createElement(Ws,{context:Z,initialFocus:-1,visuallyHiddenDismiss:!0,modal:!1},h().createElement(h().Fragment,null,h().createElement("div",{style:{...Y,width:`${y?366:ae}px`,transform:N?`translate(${(null==(u=L.current)?void 0:u.getBoundingClientRect().left)||0}px, ${((null==(d=G.domReference.current)?void 0:d.getBoundingClientRect().bottom)||0)+10}px )`:Y.transform},ref:G.setFloating,className:_.dropdownWrapper,tabIndex:-1},h().createElement("div",{style:{height:`${se.getTotalSize()||38}px`},...J(),tabIndex:-1},v?h().createElement(Eo,null):y?h().createElement(_o,{handleFetchOptions:()=>ie(R)}):ne.length||I&&"operator"!==R&&w?se.getVirtualItems().map(n=>{var a;const s=ne[n.index],o=n.index;if(s.options)return h().createElement("div",{key:`${s.label}+${o}`,className:(0,Un.cx)(_.optionGroupLabel,_.groupTopBorder),style:{height:`${n.size}px`,transform:`translateY(${n.start}px)`}},h().createElement(In.Text,{weight:"bold",variant:"bodySmall",color:"secondary"},s.label));const l=ne[n.index+1],u=l&&!l.group&&!l.options&&s.group,c=null!=(a=s.label)?a:s.value;return h().createElement(Ro,{...ee({key:`${s.value}-${o}`,ref(e){z.current[o]=e},onClick(n){var a;"value"!==R&&n.stopPropagation(),N?(n.preventDefault(),n.stopPropagation(),q(s),x(""),null==(a=G.domReference.current)||a.focus()):(t._updateFilter(e,Io({filterInputType:R,item:s,filter:e,setFilterMultiValues:T,onAddCustomValue:re})),No({populateInputOnEdit:i,item:s,filterInputType:R,setInputValue:x,filter:e}),Do(R,P,r,G.domReference.current,!1))}}),active:S===o,addGroupBottomBorder:u,style:{height:`${n.size}px`,transform:`translateY(${n.start}px)`},"aria-setsize":ne.length,"aria-posinset":n.index+1,isMultiValueEdit:N,checked:C.some(e=>e.value===s.value)},h().createElement("span",null,s.isCustom?Xt("grafana-scenes.components.adhoc-filters-combobox.use-custom-value","Use custom value: {{itemLabel}}",{itemLabel:c}):c),s.description?h().createElement("div",{className:_.descriptionText},s.description):null)}):h().createElement(ko,null))),N&&!v&&!y&&ne.length?h().createElement(Co,{onApply:()=>{B(t,e,C)},floatingElement:G.floating.current,maxOptionWidth:ae,menuHeight:Math.min(se.getTotalSize(),300)}):null))))}),Fo=e=>({comboboxWrapper:(0,Un.css)({display:"flex",flexWrap:"wrap"}),pillWrapper:(0,Un.css)({display:"flex",alignItems:"center",flexWrap:"wrap"}),basePill:(0,Un.css)({display:"flex",alignItems:"center",background:e.colors.action.disabledBackground,border:`1px solid ${e.colors.border.weak}`,padding:e.spacing(.125,1,.125,1),color:e.colors.text.primary,overflow:"hidden",whiteSpace:"nowrap",minHeight:e.spacing(2.75),...e.typography.bodySmall,cursor:"pointer"}),keyPill:(0,Un.css)({fontWeight:e.typography.fontWeightBold,cursor:"default"}),operatorPill:(0,Un.css)({"&:hover":{background:e.colors.action.hover}}),dropdownWrapper:(0,Un.css)({backgroundColor:e.colors.background.primary,color:e.colors.text.primary,boxShadow:e.shadows.z2,overflowY:"auto",zIndex:e.zIndex.dropdown}),inputStyle:(0,Un.css)({paddingBlock:0,"&:focus":{outline:"none"}}),loadingIndicator:(0,Un.css)({color:e.colors.text.secondary,marginLeft:e.spacing(.5)}),loadingInputPadding:(0,Un.css)({paddingRight:e.spacing(2.5)}),optionGroupLabel:(0,Un.css)({padding:e.spacing(1),position:"absolute",top:0,left:0,width:"100%"}),groupTopBorder:(0,Un.css)({"&:not(:first-child)":{borderTop:`1px solid ${e.colors.border.weak}`}}),descriptionText:(0,Un.css)({...e.typography.bodySmall,color:e.colors.text.secondary,paddingTop:e.spacing(.5)})});function Xo({filter:e,model:t,readOnly:n,focusOnWipInputRef:r}){var a,i,s;const o=(0,In.useStyles2)(Uo),[l,u]=(0,c.useState)(!0),[d,p]=(0,c.useState)(!1),f=(0,c.useRef)(null),[g,m]=(0,c.useState)(!1),v=null!=(a=e.keyLabel)?a:e.key,b=(null==(i=e.valueLabels)?void 0:i.join(", "))||(null==(s=e.values)?void 0:s.join(", "))||e.value,y=(0,c.useCallback)((e,t)=>{null==e||e.stopPropagation(),n||(p(null!=t?t:!l),u(!l))},[n,l]);(0,c.useEffect)(()=>{var e;d&&(null==(e=f.current)||e.focus(),p(!1))},[d]),(0,c.useEffect)(()=>{e.forceEdit&&l&&(u(!1),t._updateFilter(e,{forceEdit:void 0}))},[e,t,l]),(0,c.useEffect)(()=>{l&&m(e=>!e&&e)},[l]);const O=e=>"dashboard"===e?{info:"Applied by default in this dashboard. If edited, it carries over to other dashboards.",restore:"Restore the value set by this dashboard."}:"scope"===e?{info:"Applied automatically from your selected scope.",restore:"Restore the value set by your selected scope."}:{info:`This is a ${e} injected filter.`,restore:"Restore filter to its original value."};if(l){const a=`${v} ${e.operator} ${b}`,i=h().createElement("span",{className:(0,Un.cx)(o.pillText,e.nonApplicable&&o.strikethrough)},a);return h().createElement("div",{className:(0,Un.cx)(o.combinedFilterPill,n&&o.readOnlyCombinedFilter,(nl(e)||e.nonApplicable)&&o.disabledPill,e.readOnly&&o.filterReadOnly),onClick:e=>{e.stopPropagation(),m(!0),y()},onKeyDown:e=>{"Enter"===e.key&&(m(!0),y())},role:n?void 0:"button","aria-label":Xt("grafana-scenes.components.adhoc-filter-pill.edit-filter-with-key","Edit filter with key {{keyLabel}}",{keyLabel:v}),tabIndex:0,ref:f},a.length<20?i:h().createElement(In.Tooltip,{content:h().createElement("div",{className:o.tooltipText},a),placement:"top"},i),n||e.matchAllFilter||e.origin&&"dashboard"!==e.origin?null:h().createElement(In.IconButton,{onClick:n=>{n.stopPropagation(),e.origin&&"dashboard"===e.origin?t.updateToMatchAll(e):t._removeFilter(e),setTimeout(()=>null==r?void 0:r())},onKeyDownCapture:n=>{"Enter"===n.key&&(n.preventDefault(),n.stopPropagation(),e.origin&&"dashboard"===e.origin?t.updateToMatchAll(e):t._removeFilter(e),setTimeout(()=>null==r?void 0:r()))},name:"times",size:"md",className:(0,Un.cx)(o.pillIcon,e.nonApplicable&&o.disabledPillIcon),tooltip:Xt("grafana-scenes.components.adhoc-filter-pill.remove-filter-with-key","Remove filter with key {{keyLabel}}",{keyLabel:v})}),e.origin&&e.readOnly&&h().createElement(In.Tooltip,{content:Xt("grafana-scenes.components.adhoc-filter-pill.managed-filter","{{origin}} managed filter",{origin:e.origin}),placement:"bottom"},h().createElement(In.Icon,{name:"lock",size:"md",className:o.readOnlyPillIcon})),e.origin&&!e.restorable&&!e.readOnly&&h().createElement(In.Tooltip,{content:O(e.origin).info,placement:"bottom"},h().createElement(In.Icon,{name:"info-circle",size:"md",className:o.infoPillIcon})),e.origin&&e.restorable&&!e.readOnly&&h().createElement(In.IconButton,{onClick:n=>{n.stopPropagation(),t.restoreOriginalFilter(e)},onKeyDownCapture:n=>{"Enter"===n.key&&(n.preventDefault(),n.stopPropagation(),t.restoreOriginalFilter(e))},name:"history",size:"md",className:nl(e)?o.matchAllPillIcon:o.pillIcon,tooltip:O(e.origin).restore}))}return h().createElement(jo,{filter:e,model:t,handleChangeViewMode:y,focusOnWipInputRef:r,populateInputOnEdit:g})}const Uo=e=>({combinedFilterPill:(0,Un.css)({display:"flex",alignItems:"center",background:e.colors.action.selected,borderRadius:e.shape.radius.default,border:`1px solid ${e.colors.border.weak}`,padding:e.spacing(.125,0,.125,1),color:e.colors.text.primary,overflow:"hidden",whiteSpace:"nowrap",minHeight:e.spacing(2.75),...e.typography.bodySmall,fontWeight:e.typography.fontWeightBold,cursor:"pointer","&:hover":{background:e.colors.action.hover}}),readOnlyCombinedFilter:(0,Un.css)({paddingRight:e.spacing(1),cursor:"text","&:hover":{background:e.colors.action.selected}}),filterReadOnly:(0,Un.css)({background:e.colors.background.canvas,cursor:"text","&:hover":{background:e.colors.background.canvas}}),pillIcon:(0,Un.css)({marginInline:e.spacing(.5),cursor:"pointer","&:hover":{color:e.colors.text.primary}}),pillText:(0,Un.css)({maxWidth:"200px",width:"100%",textOverflow:"ellipsis",overflow:"hidden"}),tooltipText:(0,Un.css)({textAlign:"center"}),infoPillIcon:(0,Un.css)({marginInline:e.spacing(.5),cursor:"pointer"}),readOnlyPillIcon:(0,Un.css)({marginInline:e.spacing(.5)}),matchAllPillIcon:(0,Un.css)({marginInline:e.spacing(.5),cursor:"pointer",color:e.colors.text.disabled}),disabledPillIcon:(0,Un.css)({marginInline:e.spacing(.5),cursor:"pointer",color:e.colors.text.disabled,"&:hover":{color:e.colors.text.disabled}}),disabledPill:(0,Un.css)({background:e.colors.action.selected,color:e.colors.text.disabled,border:0,"&:hover":{background:e.colors.action.selected}}),strikethrough:(0,Un.css)({textDecoration:"line-through"})}),Bo=(0,c.forwardRef)(function({model:e},t){const{_wip:n}=e.useState();return(0,c.useLayoutEffect)(()=>{n||e._addWip()},[n]),h().createElement(jo,{model:e,filter:n,isAlwaysWip:!0,ref:t})}),qo=(0,c.memo)(function({model:e}){const{originFilters:t,filters:n,readOnly:r}=e.useState(),a=(0,In.useStyles2)(Wo),i=(0,c.useRef)();return h().createElement("div",{className:(0,Un.cx)(a.comboboxWrapper,{[a.comboboxFocusOutline]:!r}),onClick:()=>{var e;null==(e=i.current)||e.call(i)}},h().createElement(In.Icon,{name:"filter",className:a.filterIcon,size:"lg"}),null==t?void 0:t.map((t,n)=>t.origin?h().createElement(Xo,{key:`${n}-${t.key}`,filter:t,model:e,focusOnWipInputRef:i.current}):null),n.map((t,n)=>h().createElement(Xo,{key:`${n}-${t.key}`,filter:t,model:e,readOnly:r||t.readOnly,focusOnWipInputRef:i.current})),r?null:h().createElement(Bo,{model:e,ref:i}))}),Wo=e=>({comboboxWrapper:(0,Un.css)({display:"flex",flexWrap:"wrap",alignItems:"center",columnGap:e.spacing(1),rowGap:e.spacing(.5),minHeight:e.spacing(4),backgroundColor:e.components.input.background,border:`1px solid ${e.colors.border.strong}`,borderRadius:e.shape.radius.default,paddingInline:e.spacing(1),paddingBlock:e.spacing(.5),flexGrow:1}),comboboxFocusOutline:(0,Un.css)({"&:focus-within":{outline:"2px dotted transparent",outlineOffset:"2px",boxShadow:`0 0 0 2px ${e.colors.background.canvas}, 0 0 0px 4px ${e.colors.primary.main}`,transitionTimingFunction:"cubic-bezier(0.19, 1, 0.22, 1)",transitionDuration:"0.2s",transitionProperty:"outline, outline-offset, box-shadow",zIndex:2}}),filterIcon:(0,Un.css)({color:e.colors.text.secondary,alignSelf:"center"})}),Ho=Object.fromEntries(Object.entries(i.scopeFilterOperatorMap).map(([e,t])=>[t,e]));function Go(e){return new Set(["equals","not-equals","one-of","not-one-of"]).has(e)}function Yo(e,t,n){var r,a;if(!n)return;const s=e.get(n.key);s&&function(e,t){const n=i.scopeFilterOperatorMap[e];if(!Go(n)||!Go(t))return!1;if(n.includes("not")&&!t.includes("not")||!n.includes("not")&&t.includes("not"))return!1;return!0}(s.operator,n.operator)?function(e,t){var n,r,a,i;const s=null!=(n=t.values)?n:[t.value];for(const t of s)(null==(r=e.values)?void 0:r.includes(t))||null==(a=e.values)||a.push(t);if(1===(null==(i=e.values)?void 0:i.length))return;"equals"===t.operator&&e.operator===Ho.equals?e.operator=Ho["one-of"]:"not-equals"===t.operator&&e.operator===Ho["not-equals"]&&(e.operator=Ho["not-one-of"])}(s,n):s?t.push({key:n.key,operator:Ho[n.operator],value:n.value,values:null!=(a=n.values)?a:[n.value],origin:"scope"}):e.set(n.key,{key:n.key,operator:Ho[n.operator],value:n.value,values:null!=(r=n.values)?r:[n.value],origin:"scope"})}const Zo=[{value:"=",description:"Equals"},{value:"!=",description:"Not equal"},{value:"=|",description:"One of. Use to filter on multiple values.",isMulti:!0},{value:"!=|",description:"Not one of. Use to exclude multiple values.",isMulti:!0},{value:"=~",description:"Matches regex",isRegex:!0},{value:"!~",description:"Does not match regex",isRegex:!0},{value:"<",description:"Less than"},{value:">",description:"Greater than"}];class Ko extends _{constructor(e){var t,n,r,a,i;super({type:"adhoc",name:null!=(t=e.name)?t:"Filters",filters:[],datasource:null,applyMode:"auto",filterExpression:null!=(a=e.filterExpression)?a:Jo(e.expressionBuilder,[...null!=(n=e.originFilters)?n:[],...null!=(r=e.filters)?r:[]]),...e}),this._scopedVars={__sceneObject:hr(this)},this._dataSourceSrv=(0,s.getDataSourceSrv)(),this._originalValues=new Map,this._prevScopes=[],this._variableDependency=new kl(this,{dependsOnScopes:!0,onReferencedVariableValueChanged:()=>this._updateScopesFilters()}),this._urlSync=new Er(this),this._activationHandler=()=>(this._verifyNonApplicableFilters(),()=>{var e;null==(e=this.state.originFilters)||e.forEach(e=>{e.restorable&&this.restoreOriginalFilter(e)})}),"auto"===this.state.applyMode&&function(e){if(e.addActivationHandler(()=>(Dn.add(e),()=>Dn.delete(e))),Tn)return;const t=(0,s.getTemplateSrv)();(null==t?void 0:t.getAdhocFilters)&&(Tn=t.getAdhocFilters,t.getAdhocFilters=function(e){var n;if(0===Dn.size)return Tn.call(t,e);const r=(0,s.getDataSourceSrv)().getInstanceSettings(e);if(!r)return[];for(const e of Dn.values())if((null==(n=e.state.datasource)?void 0:n.uid)===r.uid)return e.state.filters;return[]}.bind(t))}(this),null==(i=this.state.originFilters)||i.forEach(e=>{var t;this._originalValues.set(e.key,{operator:e.operator,value:null!=(t=e.values)?t:[e.value]})}),this.addActivationHandler(this._activationHandler)}_updateScopesFilters(){var e,t;const n=eu.getScopes(this);if(!n||!n.length)return void this.setState({originFilters:null==(e=this.state.originFilters)?void 0:e.filter(e=>"scope"!==e.origin)});const r=function(e){const t=new Map,n=[],r=e.flatMap(e=>e.spec.filters);for(const e of r)Yo(t,n,e);return[...t.values(),...n]}(n);if(!r.length)return;let a=r;const i=[],s=[];if(a.forEach(e=>{var t;this._originalValues.set(e.key,{value:null!=(t=e.values)?t:[e.value],operator:e.operator})}),null==(t=this.state.originFilters)||t.forEach(e=>{"scope"===e.origin?i.push(e):s.push(e)}),this._prevScopes.length)return this.setState({originFilters:[...a,...s]}),void(this._prevScopes=n);const o=i.filter(e=>e.restorable),l=o.map(e=>e.key),u=r.map(e=>e.key);a=[...o.filter(e=>u.includes(e.key)),...r.filter(e=>!l.includes(e.key))],this.setState({originFilters:[...a,...s]}),this._prevScopes=n}setState(e){var t,n;let r=!1;if((e.filters&&e.filters!==this.state.filters||e.originFilters&&e.originFilters!==this.state.originFilters)&&!e.filterExpression){const a=null!=(t=e.filters)?t:this.state.filters,i=null!=(n=e.originFilters)?n:this.state.originFilters;e.filterExpression=Jo(this.state.expressionBuilder,[...null!=i?i:[],...a]),r=e.filterExpression!==this.state.filterExpression}super.setState(e),r&&this.publishEvent(new ae(this),!0)}updateFilters(e,t){var n;let r,a=!1;e&&e!==this.state.filters&&(r=Jo(this.state.expressionBuilder,[...null!=(n=this.state.originFilters)?n:[],...e]),a=r!==this.state.filterExpression),super.setState({filters:e,filterExpression:r}),(a&&!0!==(null==t?void 0:t.skipPublish)||(null==t?void 0:t.forcePublish))&&this.publishEvent(new ae(this),!0)}restoreOriginalFilter(e){const t={matchAllFilter:!1,restorable:!1};if(e.restorable){const n=this._originalValues.get(e.key);if(!n)return;t.value=null==n?void 0:n.value[0],t.values=null==n?void 0:n.value,t.valueLabels=null==n?void 0:n.value,t.operator=null==n?void 0:n.operator,t.nonApplicable=null==n?void 0:n.nonApplicable,this._updateFilter(e,t)}}getValue(){return this.state.filterExpression}_updateFilter(e,t){var n;const{originFilters:r,filters:a,_wip:i}=this.state;if(e.origin){const a=this._originalValues.get(e.key),i=t.values||(t.value?[t.value]:void 0);i&&!(0,D.isEqual)(i,null==a?void 0:a.value)||t.operator&&t.operator!==(null==a?void 0:a.operator)?t.restorable=!0:i&&(0,D.isEqual)(i,null==a?void 0:a.value)&&(t.restorable=!1);const s=null!=(n=null==r?void 0:r.map(n=>n===e?{...n,...t}:n))?n:[];return void this.setState({originFilters:s})}if(e===i)return void("value"in t&&""!==t.value?this.setState({filters:[...a,{...i,...t}],_wip:void 0}):this.setState({_wip:{...e,...t}}));const s=this.state.filters.map(n=>n===e?{...n,...t}:n);this.setState({filters:s})}updateToMatchAll(e){this._updateFilter(e,{operator:"=~",value:".*",values:[".*"],valueLabels:["All"],matchAllFilter:!0,nonApplicable:!1,restorable:!0})}_removeFilter(e){e!==this.state._wip?this.setState({filters:this.state.filters.filter(t=>t!==e)}):this.setState({_wip:void 0})}_removeLastFilter(){const e=this.state.filters.at(-1);e&&this._removeFilter(e)}_handleComboboxBackspace(e){var t;if(this.state.filters.length){let t=this.state.filters.length-1;e!==this.state._wip&&(t=-1),this.setState({filters:this.state.filters.reduce((n,r,a)=>a!==t||r.readOnly?r===e?n:[...n,r]:[...n,{...r,forceEdit:!0}],[])})}else if(null==(t=this.state.originFilters)?void 0:t.length){let t=this.state.originFilters.length-1;e!==this.state._wip&&(t=-1),this.setState({originFilters:this.state.originFilters.reduce((n,r,a)=>a!==t||r.readOnly?r===e?n:[...n,r]:[...n,{...r,forceEdit:!0}],[])})}}async _verifyNonApplicableFilters(){var e,t,n;const r=[...this.state.filters,...null!=(e=this.state.originFilters)?e:[]],a=await this._dataSourceSrv.get(this.state.datasource,this._scopedVars);if(!a||!a.getApplicableFilters)return[];const i=eu.getTimeRange(this).state.value,s=this.state.useQueriesAsFilterForOptions?bl(this):void 0,o=await a.getApplicableFilters({filters:r,queries:s,timeRange:i,scopes:eu.getScopes(this),...or(this)}),l={filters:[...this.state.filters],originFilters:[...null!=(t=this.state.originFilters)?t:[]]};l.filters.forEach(e=>{o.includes(e.key)||(e.nonApplicable=!0)}),null==(n=l.originFilters)||n.forEach(e=>{if(!o.includes(e.key)){e.matchAllFilter||(e.nonApplicable=!0);const t=this._originalValues.get(e.key);t&&(t.nonApplicable=!0)}}),this.setState(l)}async _getKeys(e){var t,n,r,a,i;const s=await(null==(n=(t=this.state).getTagKeysProvider)?void 0:n.call(t,this,e));if(s&&s.replace)return $l(s.values).map(tl);if(this.state.defaultKeys)return this.state.defaultKeys.map(tl);const o=await this._dataSourceSrv.get(this.state.datasource,this._scopedVars);if(!o||!o.getTagKeys)return[];const l=null!=(a=null==(r=this.state.originFilters)?void 0:r.filter(e=>!e.nonApplicable))?a:[],u=this.state.filters.filter(t=>t.key!==e&&!t.nonApplicable).concat(null!=(i=this.state.baseFilters)?i:[]).concat(l),c=eu.getTimeRange(this).state.value,d=this.state.useQueriesAsFilterForOptions?bl(this):void 0,h=await o.getTagKeys({filters:u,queries:d,timeRange:c,scopes:eu.getScopes(this),...or(this)});Rl(h)&&this.setState({error:h.error.message});let p=$l(h);s&&(p=p.concat($l(s.values)));const f=this.state.tagKeyRegexFilter;return f&&(p=p.filter(e=>e.text.match(f))),p.map(tl)}async _getValuesFor(e){var t,n,r,a;const i=await(null==(n=(t=this.state).getTagValuesProvider)?void 0:n.call(t,this,e));if(i&&i.replace)return $l(i.values).map(tl);const s=await this._dataSourceSrv.get(this.state.datasource,this._scopedVars);if(!s||!s.getTagValues)return[];const o=null!=(a=null==(r=this.state.originFilters)?void 0:r.filter(t=>t.key!==e.key))?a:[],l=this.state.filters.filter(t=>t.key!==e.key).concat(o),u=eu.getTimeRange(this).state.value,c=this.state.useQueriesAsFilterForOptions?bl(this):void 0;let d=eu.getScopes(this);"scope"===e.origin&&(d=null==d?void 0:d.map(t=>({...t,spec:{...t.spec,filters:t.spec.filters.filter(t=>t.key!==e.key)}})));const h=await s.getTagValues({key:e.key,filters:l,timeRange:u,queries:c,scopes:d,...or(this)});Rl(h)&&this.setState({error:h.error.message});let p=$l(h);return i&&(p=p.concat($l(i.values))),p.map(tl)}_addWip(){this.setState({_wip:{key:"",value:"",operator:"=",condition:""}})}_getOperators(){const{supportsMultiValueOperators:e,allowCustomValue:t=!0}=this.state;return Zo.filter(({isMulti:n,isRegex:r})=>!(!e&&n)&&!(!t&&r)).map(({value:e,description:t})=>({label:e,value:e,description:t}))}}function Jo(e,t){var n;return(null!=e?e:fl)(null!=(n=null==t?void 0:t.filter(e=>al(e)))?n:[])}Ko.Component=function({model:e}){const{filters:t,readOnly:n,addFilterButtonText:r}=e.useState(),a=(0,In.useStyles2)(el);if("combobox"===e.state.layout)return h().createElement(qo,{model:e});return h().createElement("div",{className:a.wrapper},t.filter(e=>!e.hidden).map((t,n)=>h().createElement(h().Fragment,{key:n},h().createElement($r,{filter:t,model:e}))),!n&&h().createElement(Pr,{model:e,key:"'builder",addFilterButtonText:r}))};const el=e=>({wrapper:(0,Un.css)({display:"flex",flexWrap:"wrap",alignItems:"flex-end",columnGap:e.spacing(2),rowGap:e.spacing(1)})});function tl(e){const{text:t,value:n}=e,r={label:String(t),value:String(null!=n?n:t)};return"group"in e&&(r.group=e.group),"meta"in e&&(r.meta=e.meta),r}function nl(e){return"=~"===e.operator&&".*"===e.value}function rl(e){return""!==e.key&&""!==e.operator&&""!==e.value}function al(e){return!e.nonApplicable}function il(e){const t=Zo.find(t=>t.value===e);return!!t&&Boolean(t.isMulti)}class sl{constructor(){this._resultsMap=new Map,this._prevLayers=[]}getMergedStream(e){(function(e,t){if(e.length!==t.length)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!0;return!1})(e,this._prevLayers)&&(this._resultsMap=new Map,this._prevLayers=e);const t=e.map(e=>e.getResultsStream()),n=[];for(const t of e)n.push(t.activate());return(0,p.merge)(t).pipe((0,p.mergeAll)(),(0,p.filter)(e=>this._resultsMap.get(e.origin.state.key)!==e),(0,p.map)(e=>(this._resultsMap.set(e.origin.state.key,e),this._resultsMap.values())),(0,p.finalize)(()=>{n.forEach(e=>e())}))}}let ol=100;function ll(){return"SQR"+ol++}class ul extends _{constructor(e){super(e),this._dataLayersMerger=new sl,this._variableValueRecorder=new Pn,this._results=new p.ReplaySubject(1),this._scopedVars={__sceneObject:hr(this)},this._variableDependency=new kl(this,{statePaths:["queries","datasource","minInterval"],onVariableUpdateCompleted:this.onVariableUpdatesCompleted.bind(this),onAnyVariableChanged:this.onAnyVariableChanged.bind(this),dependsOnScopes:!0}),this.onDataReceived=e=>{const t=(0,i.preProcessPanelData)(e,this.state.data);this._resultAnnotations=e.annotations;const n=this._combineDataLayers(t);let r=this.state._hasFetchedData;r||t.state===F.Loading||(r=!0),this.setState({data:n,_hasFetchedData:r}),this._results.next({origin:this,data:n})},this.addActivationHandler(()=>this._onActivate())}getResultsStream(){return this._results}_onActivate(){if(this.isQueryModeAuto()){const e=eu.getTimeRange(this),t=this.getClosestExtraQueryProviders();for(const e of t)this._subs.add(e.subscribeToState((t,n)=>{e.shouldRerun(n,t,this.state.queries)&&this.runQueries()}));this.subscribeToTimeRangeChanges(e),this.shouldRunQueriesOnActivate()&&this.runQueries()}return this._dataLayersSub||this._handleDataLayers(),()=>this._onDeactivate()}_handleDataLayers(){const e=eu.getDataLayers(this);0!==e.length&&(this._dataLayersSub=this._dataLayersMerger.getMergedStream(e).subscribe(this._onLayersReceived.bind(this)))}_onLayersReceived(e){var t,n,r,a,s;const o=eu.getTimeRange(this),{dataLayerFilter:l}=this.state;let u,c=[],d=[];for(const r of e)for(let e of r.data.series)(null==(t=e.meta)?void 0:t.dataTopic)===i.DataTopic.Annotations&&(c=c.concat(e)),(null==(n=e.meta)?void 0:n.dataTopic)===i.DataTopic.AlertStates&&(d=d.concat(e));if((null==l?void 0:l.panelId)&&(c.length>0&&(c=function(e,t){var n;if(!Array.isArray(e)||0===e.length)return e;const r=Array.from({length:e.length},()=>new Set);let a=0;for(const i of e){for(let e=0;e<i.length;e++){if(r[a].has(e))continue;let s=!0;const o=i.fields.find(e=>"panelId"===e.name),l=i.fields.find(e=>"source"===e.name);if(l){o&&"dashboard"===l.values[e].type&&(s=[t.panelId,_n].includes(o.values[e]));const r=l.values[e].filter;if(r){const e=[...null!=(n=r.ids)?n:[],_n].includes(t.panelId);r.exclude?e&&(s=!1):e||(s=!1)}}s&&r[a].add(e)}a++}const i=[];a=0;for(const t of e){const e=r[a].size,n=[];for(const e of t.fields){const i=[];for(let n=0;n<t.length;n++)r[a].has(n)&&i.push(e.values[n]);n.push({...e,values:i})}i.push({...t,fields:n,length:e}),a++}return i}(c,l)),d.length>0))for(const e of d){const t=new i.DataFrameView(e);for(const e of t)if(e.panelId===l.panelId){u=e;break}}if(dl(c)&&dl(this._layerAnnotations)&&(0,D.isEqual)(u,null==(r=this.state.data)?void 0:r.alertState))return;this._layerAnnotations=c;const h=this.state.data?this.state.data:{...U,timeRange:o.state.value};this.setState({data:{...h,annotations:[...null!=(a=this._resultAnnotations)?a:[],...c],alertState:null!=u?u:null==(s=this.state.data)?void 0:s.alertState}})}onVariableUpdatesCompleted(){this.isQueryModeAuto()&&this.runQueries()}onAnyVariableChanged(e){this._adhocFiltersVar!==e&&this._groupByVar!==e&&this.isQueryModeAuto()&&(e instanceof Ko&&this._isRelevantAutoVariable(e)&&this.runQueries(),e instanceof gr&&this._isRelevantAutoVariable(e)&&this.runQueries())}_isRelevantAutoVariable(e){var t,n;const r=null!=(t=this.state.datasource)?t:cl(this.state.queries);return"auto"===e.state.applyMode&&(null==r?void 0:r.uid)===(null==(n=e.state.datasource)?void 0:n.uid)}shouldRunQueriesOnActivate(){return this._variableValueRecorder.hasDependenciesChanged(this)?(V(),!0):!this.state.data||!!this._isDataTimeRangeStale(this.state.data)}_isDataTimeRangeStale(e){const t=eu.getTimeRange(this).state.value,n=e.timeRange;return(t.from.unix()!==n.from.unix()||t.to.unix()!==n.to.unix())&&(V(),!0)}_onDeactivate(){var e;this._querySub&&(this._querySub.unsubscribe(),this._querySub=void 0),this._dataLayersSub&&(this._dataLayersSub.unsubscribe(),this._dataLayersSub=void 0),null==(e=this._timeSub)||e.unsubscribe(),this._timeSub=void 0,this._timeSubRange=void 0,this._adhocFiltersVar=void 0,this._groupByVar=void 0}setContainerWidth(e){!this._containerWidth&&e>0?(this._containerWidth=e,this.state.maxDataPointsFromWidth&&!this.state.maxDataPoints&&setTimeout(()=>{this.isActive&&!this.state._hasFetchedData&&this.runQueries()},0)):e>0&&(this._containerWidth=e)}isDataReadyToDisplay(){return Boolean(this.state._hasFetchedData)}subscribeToTimeRangeChanges(e){this._timeSubRange!==e&&(this._timeSub&&this._timeSub.unsubscribe(),this._timeSubRange=e,this._timeSub=e.subscribeToState(()=>{this.runWithTimeRange(e)}))}runQueries(){const e=eu.getTimeRange(this);this.isQueryModeAuto()&&this.subscribeToTimeRangeChanges(e),this.runWithTimeRange(e)}getMaxDataPoints(){var e;return this.state.maxDataPoints?this.state.maxDataPoints:this.state.maxDataPointsFromWidth&&null!=(e=this._containerWidth)?e:500}cancelQuery(){var e;null==(e=this._querySub)||e.unsubscribe(),this._dataLayersSub&&(this._dataLayersSub.unsubscribe(),this._dataLayersSub=void 0),this.setState({data:{...this.state.data,state:F.Done}})}async runWithTimeRange(e){var t,n,r;if(!this.state.maxDataPoints&&this.state.maxDataPointsFromWidth&&!this._containerWidth)return;if(this._dataLayersSub||this._handleDataLayers(),null==(t=this._querySub)||t.unsubscribe(),this._variableDependency.hasDependencyInLoadingState())return V(),void this.setState({data:{...null!=(n=this.state.data)?n:U,state:F.Loading}});this._variableValueRecorder.recordCurrentDependencyValuesForSceneObject(this);const{queries:a}=this.state;if(null==a?void 0:a.length)try{const t=null!=(r=this.state.datasource)?r:cl(a),n=await Rn(t,this._scopedVars);this.findAndSubscribeToAdHocFilters(n.uid);const i=(0,s.getRunRequest)(),{primary:o,secondaries:l,processors:u}=this.prepareRequests(e,n);V(0,0,this.state.key);let c=i(n,o);if(l.length>0){const e=l.map(e=>i(n,e)),t=(e=>t=>t.pipe((0,p.mergeMap)(([t,...n])=>{const r=n.flatMap(n=>{var r,a;return null!=(a=null==(r=e.get(n.request.requestId))?void 0:r(t,n))?a:(0,p.of)(n)});return(0,p.forkJoin)([(0,p.of)(t),...r])}),(0,p.map)(([e,...t])=>{var n;return{...e,series:[...e.series,...t.flatMap(e=>e.series)],annotations:[...null!=(n=e.annotations)?n:[],...t.flatMap(e=>{var t;return null!=(t=e.annotations)?t:[]})]}})))(u);c=(0,p.forkJoin)([c,...e]).pipe(t)}c=c.pipe(Sn({type:"data",request:o,origin:this,cancel:()=>this.cancelQuery()})),this._querySub=c.subscribe(this.onDataReceived)}catch(e){console.error("PanelQueryRunner Error",e),this.onDataReceived({...U,...this.state.data,state:F.Error,errors:[(0,s.toDataQueryError)(e)]})}else this._setNoDataState()}clone(e){var t;const n=super.clone(e);return this._resultAnnotations&&(n._resultAnnotations=this._resultAnnotations.map(e=>({...e}))),this._layerAnnotations&&(n._layerAnnotations=this._layerAnnotations.map(e=>({...e}))),n._variableValueRecorder=this._variableValueRecorder.cloneAndRecordCurrentValuesForSceneObject(this),n._containerWidth=this._containerWidth,n._results.next({origin:this,data:null!=(t=this.state.data)?t:U}),n}prepareRequests(e,t){var n,r;const{minInterval:a,queries:o}=this.state;let l={app:"scenes",requestId:ll(),timezone:e.getTimeZone(),range:e.state.value,interval:"1s",intervalMs:1e3,targets:(0,D.cloneDeep)(o),maxDataPoints:this.getMaxDataPoints(),scopedVars:this._scopedVars,startTime:Date.now(),liveStreaming:this.state.liveStreaming,rangeRaw:{from:e.state.from,to:e.state.to},cacheTimeout:this.state.cacheTimeout,queryCachingTTL:this.state.queryCachingTTL,scopes:eu.getScopes(this),...Cn(this)};this._adhocFiltersVar&&(l.filters=[...null!=(n=this._adhocFiltersVar.state.originFilters)?n:[],...this._adhocFiltersVar.state.filters].filter(e=>rl(e)&&al(e))),this._groupByVar&&(l.groupByKeys=this._groupByVar.state.value),l.targets=l.targets.map(e=>{var n;return e.datasource&&(e.datasource.uid===t.uid||(null==(n=t.meta)?void 0:n.mixed)||!s.isExpressionReference||(0,s.isExpressionReference)(e.datasource))||(e.datasource=t.getRef()),e});const u=a?Yl(this,a):t.interval,c=i.rangeUtil.calculateInterval(e.state.value,l.maxDataPoints,u);l.scopedVars=Object.assign({},l.scopedVars,{__interval:{text:c.interval,value:c.interval},__interval_ms:{text:c.intervalMs.toString(),value:c.intervalMs}}),l.interval=c.interval,l.intervalMs=c.intervalMs;const d=e.state.value;let h=[],p=new Map;for(const e of null!=(r=this.getClosestExtraQueryProviders())?r:[])for(const{req:t,processor:n}of e.getExtraQueries(l)){const e=ll();h.push({...t,requestId:e}),p.set(e,null!=n?n:kn)}return l.range=d,{primary:l,secondaries:h,processors:p}}_combineDataLayers(e){return this._layerAnnotations&&this._layerAnnotations.length>0&&(e.annotations=(e.annotations||[]).concat(this._layerAnnotations)),this.state.data&&this.state.data.alertState&&(e.alertState=this.state.data.alertState),e}_setNoDataState(){this.state.data!==U&&this.setState({data:U})}getClosestExtraQueryProviders(){const e=new Map;return this.parent?(q(this.parent,t=>(En(t)&&!e.has(t.constructor)&&e.set(t.constructor,t),t.forEachChild(t=>{En(t)&&!e.has(t.constructor)&&e.set(t.constructor,t)}),null)),Array.from(e.values())):[]}findAndSubscribeToAdHocFilters(e){const t=function(e){var t;for(const n of Dn.values())if(Yl(n,null==(t=n.state.datasource)?void 0:t.uid)===e)return n}(e);this._adhocFiltersVar!==t&&(this._adhocFiltersVar=t,this._updateExplicitVariableDependencies());const n=function(e){var t;for(const n of An.values())if(Yl(n,null==(t=n.state.datasource)?void 0:t.uid)===e)return n}(e);this._groupByVar!==n&&(this._groupByVar=n,this._updateExplicitVariableDependencies())}_updateExplicitVariableDependencies(){const e=[];this._adhocFiltersVar&&e.push(this._adhocFiltersVar.state.name),this._groupByVar&&e.push(this._groupByVar.state.name),this._variableDependency.setVariableNames(e)}isQueryModeAuto(){var e;return"auto"===(null!=(e=this.state.runQueriesMode)?e:"auto")}}function cl(e){var t,n;return null!=(n=null==(t=e.find(e=>null!==e.datasource))?void 0:t.datasource)?n:void 0}function dl(e){if(!e)return!0;for(let t=0;t<e.length;t++)if(e[t].length>0)return!1;return!0}function hl(e,t){return e===t||(0,D.isEqual)(e,t)}function pl(e){try{return JSON.stringify(e,(()=>{const e=new WeakSet;return(t,n)=>{if("object"==typeof n&&null!==n){if(e.has(n))return;e.add(n)}return n}})())}catch(e){console.error(e)}return""}function fl(e){return e.map(e=>function(e){var t,n;let r="",a=e.operator;"=|"===a?(a="=~",r=null==(t=e.values)?void 0:t.map(ml).join("|")):"!=|"===a?(a="!~",r=null==(n=e.values)?void 0:n.map(ml).join("|")):r="=~"===a||"!~"===a?ml(e.value):gl(e.value);return`${e.key}${a}"${r}"`}(e)).join(",")}function gl(e){return e.replace(/\\/g,"\\\\").replace(/\n/g,"\\n").replace(/"/g,'\\"')}function ml(e){return gl(e.replace(vl,"\\$&"))}const vl=/[*+?()|\\.\[\]{}^$]/g;function bl(e){var t;const n=eu.findAllObjects(e.getRoot(),e=>e instanceof ul),r=eu.interpolate(e,null==(t=e.state.datasource)?void 0:t.uid),a=function(e){const t={};for(const n of e)n.state.key&&(n.state.key in t||(t[n.state.key]=[]),t[n.state.key].push(n));return Object.values(t).flatMap(e=>{const t=e.filter(e=>e.isActive);return 0===t.length&&1===e.length?e:t})}(n).filter(t=>{var n;return eu.interpolate(e,null==(n=t.state.datasource)?void 0:n.uid)===r});if(0===a.length)return[];const i=[];return a.forEach(t=>{i.push(...t.state.queries.filter(t=>{if(!t.datasource||!t.datasource.uid)return!0;return eu.interpolate(e,t.datasource.uid)===r}))}),i}function yl(e){return null==e?"":/\|/g[Symbol.replace](e,"__gfp__")}function Ol(e){return null==e?"":/,/g[Symbol.replace](e,"__gfc__")}function wl(e){return function(e){return null==e?"":/#/g[Symbol.replace](e,"__gfh__")}(yl(e))}function xl(e){return null==e?"":(e=/__gfp__/g[Symbol.replace](e,"|"),e=/__gfc__/g[Symbol.replace](e,","),e=/__gfh__/g[Symbol.replace](e,"#"))}function Sl(e,t){return t&&e!==t?[e,t].map(Ol).join(","):Ol(e)}function $l(e){return Array.isArray(e)?e:e.data}function Rl(e){return!Array.isArray(e)&&Boolean(e.error)}function Pl(e){const t=[],n=new Map;for(const r of e){const e=r.group;if(e){let a=n.get(e);a||(a=[],n.set(e,a),t.push({label:e,options:a})),a.push(r)}else t.push(r)}return t}class El extends _{constructor(e){super({type:"constant",value:"",name:"",...e,skipUrlSync:!0}),this._variableDependency=new kl(this,{statePaths:["value"]}),this._prevValue=""}validateAndUpdate(){const e=this.getValue();return this._prevValue!==e&&(this._prevValue=e,this.publishEvent(new ae(this),!0)),(0,p.of)({})}getValue(){return"string"==typeof this.state.value?eu.interpolate(this,this.state.value):this.state.value}}class kl{constructor(e,t){this._sceneObject=e,this._options=t,this._dependencies=new Set,this._isWaitingForVariables=!1,this.scanCount=0,this._statePaths=t.statePaths,this._options.handleTimeMacros&&this.handleTimeMacros()}hasDependencyOn(e){return this.getNames().has(e)}variableUpdateCompleted(e,t){var n,r,a,s;const o=this.getNames(),l=(o.has(e.state.name)||o.has(i.DataLinkBuiltInVars.includeVars))&&t;V(0,0,e.state.name,this._isWaitingForVariables),null==(r=(n=this._options).onAnyVariableChanged)||r.call(n,e),this._options.onVariableUpdateCompleted&&(this._isWaitingForVariables||l)&&this._options.onVariableUpdateCompleted(),l&&(null==(s=(a=this._options).onReferencedVariableValueChanged)||s.call(a,e),this._options.onReferencedVariableValueChanged||this._options.onVariableUpdateCompleted||this._sceneObject.forceRender())}hasDependencyInLoadingState(){return this._isWaitingForVariables=eu.hasVariableDependencyInLoadingState(this._sceneObject),this._isWaitingForVariables}getNames(){const e=this._state,t=this._state=this._sceneObject.state,n=!e||t!==e&&(!this._statePaths||this._statePaths.some(n=>"*"===n||t[n]!==e[n]));return n&&this.scanStateForDependencies(t),this._dependencies}setVariableNames(e){this._options.variableNames=e,this.scanStateForDependencies(this._state)}setPaths(e){this._statePaths=e}scanStateForDependencies(e){if(this._dependencies.clear(),this.scanCount++,this._options.variableNames)for(const e of this._options.variableNames)this._dependencies.add(e);if(this._options.dependsOnScopes&&this._dependencies.add(sn),this._statePaths)for(const t of this._statePaths){if("*"===t){this.extractVariablesFrom(e);break}{const n=e[t];n&&this.extractVariablesFrom(n)}}}extractVariablesFrom(e){rn.lastIndex=0;const t=("string"!=typeof e?pl(e):e).matchAll(rn);if(t)for(const e of t){const[,t,n,,r]=e,a=t||n||r;this._dependencies.add(a)}}handleTimeMacros(){this._sceneObject.addActivationHandler(()=>{const e=eu.getTimeRange(this._sceneObject).subscribeToState((e,t)=>{const n=this.getNames(),r=n.has("__from"),a=n.has("__to"),i=n.has("__timezone");if(e.value!==t.value)if(r){const t=new El({name:"__from",value:e.from});this.variableUpdateCompleted(t,!0)}else if(a){const t=new El({name:"__to",value:e.to});this.variableUpdateCompleted(t,!0)}if(e.timeZone!==t.timeZone&&i){const t=new El({name:"__timezone",value:e.timeZone});this.variableUpdateCompleted(t,!0)}});return()=>e.unsubscribe()})}}const _l=e=>Boolean(e.metricFindQuery)&&!Boolean(e.variables),Cl=e=>{if(!e.variables)return!1;if(e.variables.getType()!==i.VariableSupportType.Standard)return!1;const t=e.variables;return"toDataQuery"in t&&Boolean(t.toDataQuery)},Tl=e=>{if(!e.variables)return!1;if(e.variables.getType()!==i.VariableSupportType.Custom)return!1;const t=e.variables;return"query"in t&&"editor"in t&&Boolean(t.query)&&Boolean(t.editor)},Dl=e=>!!e.variables&&e.variables.getType()===i.VariableSupportType.Datasource;class Al{constructor(e,t=(0,s.getRunRequest)()){this.datasource=e,this._runRequest=t}getTarget(e){if(Cl(this.datasource))return this.datasource.variables.toDataQuery(function(e){var t;const n=null!=(t=e.state.query)?t:"";if("string"==typeof n)return{query:n,refId:`variable-${e.state.name}`};if(null==n.refId)return{...n,refId:`variable-${e.state.name}`};return e.state.query}(e));throw new Error("Couldn't create a target with supplied arguments.")}runRequest(e,t){return Cl(this.datasource)?this.datasource.variables.query?this._runRequest(this.datasource,t,this.datasource.variables.query.bind(this.datasource.variables)):this._runRequest(this.datasource,t):Nl()}}class Il{constructor(e){this.datasource=e}getTarget(e){if(_l(this.datasource))return e.state.query;throw new Error("Couldn't create a target with supplied arguments.")}runRequest({variable:e,searchFilter:t},n){return _l(this.datasource)?(0,p.from)(this.datasource.metricFindQuery(e.state.query,{...n,variable:{name:e.state.name,type:e.state.type},searchFilter:t})).pipe((0,p.mergeMap)(e=>{if(!e||!e.length)return Nl();const t=e;return(0,p.of)({series:t,state:i.LoadingState.Done,timeRange:n.range})})):Nl()}}class Ll{constructor(e,t=(0,s.getRunRequest)()){this.datasource=e,this._runRequest=t}getTarget(e){if(Tl(this.datasource))return e.state.query;throw new Error("Couldn't create a target with supplied arguments.")}runRequest(e,t){return Tl(this.datasource)?this.datasource.variables.query?this._runRequest(this.datasource,t,this.datasource.variables.query.bind(this.datasource.variables)):this._runRequest(this.datasource,t):Nl()}}class Ql{constructor(e,t=(0,s.getRunRequest)()){this.datasource=e,this._runRequest=t}getTarget(e){var t;if(Dl(this.datasource))return"string"==typeof e.state.query?e.state.query:{...e.state.query,refId:null!=(t=e.state.query.refId)?t:"variable-query"};throw new Error("Couldn't create a target with supplied arguments.")}runRequest(e,t){return Dl(this.datasource)?this._runRequest(this.datasource,t):Nl()}}function Nl(){return(0,p.of)({state:i.LoadingState.Done,series:[],timeRange:(0,i.getDefaultTimeRange)()})}let Vl=function(e){if(Cl(e))return new Al(e,(0,s.getRunRequest)());if(_l(e))return new Il(e);if(Tl(e))return new Ll(e);if(Dl(e))return new Ql(e);throw new Error(`Couldn't create a query runner for datasource ${e.type}`)};const zl=(e,t)=>{const n=[];let r=null;t.lastIndex=0;do{r=t.exec(e),r&&n.push(r)}while(t.global&&r&&""!==r[0]&&void 0!==r[0]);return n},Ml=(e,t)=>{if(t===i.VariableSort.disabled)return e;switch(t){case i.VariableSort.alphabeticalAsc:e=(0,D.sortBy)(e,"label");break;case i.VariableSort.alphabeticalDesc:e=(0,D.sortBy)(e,"label").reverse();break;case i.VariableSort.numericalAsc:e=(0,D.sortBy)(e,jl);break;case i.VariableSort.numericalDesc:e=(e=(0,D.sortBy)(e,jl)).reverse();break;case i.VariableSort.alphabeticalCaseInsensitiveAsc:e=(0,D.sortBy)(e,e=>(0,D.toLower)(e.label));break;case i.VariableSort.alphabeticalCaseInsensitiveDesc:e=(e=(0,D.sortBy)(e,e=>(0,D.toLower)(e.label))).reverse();break;case i.VariableSort.naturalAsc||7:e=Xl(e);break;case i.VariableSort.naturalDesc||8:e=(e=Xl(e)).reverse()}return e};function jl(e){if(!e.label)return-1;const t=e.label.match(/.*?(\d+).*/);return!t||t.length<2?-1:parseInt(t[1],10)}const Fl=new Intl.Collator(void 0,{sensitivity:"accent",numeric:!0});function Xl(e){return e.slice().sort((e,t)=>Fl.compare(e.label,t.label))}function Ul(){return e=>e.pipe((0,p.map)(e=>{const t=e.series;if(!t||!t.length)return[];if(function(e){if(!e)return!1;if(!e.length)return!0;const t=e[0];if((0,i.isDataFrame)(t))return!1;for(const e in t){if(!t.hasOwnProperty(e))continue;if(null!==t[e]&&"string"!=typeof t[e]&&"number"!=typeof t[e])continue;const n=e.toLowerCase();if("text"===n||"value"===n)return!0}return!1}(t))return t;if(0===t[0].fields.length)return[];const n=(0,i.getProcessedDataFrames)(t),r=[];let a=-1,s=-1,o=-1,l=-1;for(const e of n)for(let n=0;n<e.fields.length;n++){const r=e.fields[n],u=(0,i.getFieldDisplayName)(r,e,t).toLowerCase();r.type===i.FieldType.string&&-1===o&&(o=n),"text"===u&&r.type===i.FieldType.string&&-1===s&&(s=n),"value"===u&&r.type===i.FieldType.string&&-1===a&&(a=n),"expandable"!==u||r.type!==i.FieldType.boolean&&r.type!==i.FieldType.number||-1!==l||(l=n)}if(-1===o)throw new Error("Couldn't find any field of type string in the results.");for(const e of t)for(let t=0;t<e.length;t++){const n=-1!==l?e.fields[l].values.get(t):void 0,i=e.fields[o].values.get(t),u=-1!==s?e.fields[s].values.get(t):"",c=-1!==a?e.fields[a].values.get(t):"";-1!==a||-1!==s?-1!==a||-1===s?-1===a||-1!==s?r.push({text:u,value:c,expandable:n}):r.push({text:c,value:c,expandable:n}):r.push({text:u,value:u,expandable:n}):r.push({text:i,value:i,expandable:n})}return r}))}class Bl extends hn{constructor(e){super({type:"query",name:"",value:"",text:"",options:[],datasource:null,regex:"",query:"",refresh:i.VariableRefresh.onDashboardLoad,sort:i.VariableSort.disabled,...e}),this._variableDependency=new kl(this,{statePaths:["regex","query","datasource"]}),this.onSearchChange=e=>{pl(this.state.query).indexOf(an)>-1&&this._updateOptionsBasedOnSearchFilter(e)},this._updateOptionsBasedOnSearchFilter=(0,D.debounce)(async e=>{const t=await(0,p.lastValueFrom)(this.getValueOptions({searchFilter:e}));this.setState({options:t,loading:!1})},400)}getValueOptions(e){return this.state.query?(this.setState({loading:!0,error:null}),(0,p.from)(Rn(this.state.datasource,{__sceneObject:hr(this)})).pipe((0,p.mergeMap)(t=>{const n=Vl(t),r=n.getTarget(this),a=this.getRequest(r,e.searchFilter);return n.runRequest({variable:this,searchFilter:e.searchFilter},a).pipe(Sn({type:"variable",request:a,origin:this}),(0,p.filter)(e=>e.state===i.LoadingState.Done||e.state===i.LoadingState.Error),(0,p.take)(1),(0,p.mergeMap)(e=>e.state===i.LoadingState.Error?(0,p.throwError)(()=>e.error):(0,p.of)(e)),Ul(),(0,p.mergeMap)(e=>{let t="";this.state.regex&&(t=eu.interpolate(this,this.state.regex,void 0,"regex"));let n=function(e,t,n){var r,a,s,o,l,u,c,d,h,p;let f,g=[];e&&(f=(0,i.stringToJsRegex)(e));for(let e=0;e<n.length;e++){const t=n[e];let i=null!=(a=null!=(r=t.text)?r:t.value)?a:"",m=null!=(o=null!=(s=t.value)?s:t.text)?o:"";if((0,D.isNumber)(m)&&(m=m.toString()),(0,D.isNumber)(i)&&(i=i.toString()),f){const e=zl(m,f);if(!e.length)continue;const t=e.find(e=>e.groups&&e.groups.value),n=e.find(e=>e.groups&&e.groups.text),r=e.find(e=>e.length>1),a=e.length>1&&r;if(t||n)m=null!=(c=null==(l=null==t?void 0:t.groups)?void 0:l.value)?c:null==(u=null==n?void 0:n.groups)?void 0:u.text,i=null!=(p=null==(d=null==n?void 0:n.groups)?void 0:d.text)?p:null==(h=null==t?void 0:t.groups)?void 0:h.value;else{if(a){for(let t=0;t<e.length;t++){const n=e[t];g.push({label:n[1],value:n[1]})}continue}r&&(i=r[1],m=r[1])}}g.push({label:i,value:m})}return g=(0,D.uniqBy)(g,"value"),Ml(g,t)}(t,this.state.sort,e);if(this.state.staticOptions){const e=this.state.staticOptions;n=n.filter(t=>!e.find(e=>e.value===t.value)),"after"===this.state.staticOptionsOrder?n.push(...e):"sorted"===this.state.staticOptionsOrder?n=Ml(n.concat(e),this.state.sort):n.unshift(...e)}return(0,p.of)(n)}),(0,p.catchError)(e=>e.cancelled?(0,p.of)([]):(0,p.throwError)(()=>e)))}))):(0,p.of)([])}getRequest(e,t){const n={__sceneObject:hr(this)};t&&(n.__searchFilter={value:t,text:t});const r=eu.getTimeRange(this).state.value;return{app:i.CoreApp.Dashboard,requestId:O(),timezone:"",range:r,interval:"",intervalMs:0,targets:[e],scopedVars:n,startTime:Date.now()}}}Bl.Component=({model:e})=>h().createElement(ar,{model:e});var ql=n(2245);class Wl extends _{constructor(e){super({skipUrlSync:!0,loading:!0,scopes:[],...e,type:"system",name:sn,hide:ql.zL.hideVariable}),this._renderBeforeActivation=!0,this.UNSAFE_renderAsHidden=!0}getValue(){var e;const t=null!=(e=this.state.scopes)?e:[];return new Hl(t.map(e=>e.metadata.name))}getScopes(){return this.state.scopes}setContext(e){if(!e)return;this._context=e;const t=e.state;null!=this.state.enable&&e.setEnabled(this.state.enable);const n=e.stateObservable.subscribe(e=>{this.updateStateFromContext(e)});return()=>{n.unsubscribe(),null!=this.state.enable&&e.setEnabled(t.enabled)}}updateStateFromContext(e){const t=0!==e.value.length&&e.loading,n=this.state.scopes.map(e=>e.metadata.name),r=e.value.map(e=>e.metadata.name),a=!(0,D.isEqual)(n,r);t||!a&&0!==r.length?this.setState({loading:t}):(this.setState({scopes:e.value,loading:t}),this.publishEvent(new ae(this),!0))}}Wl.Component=function({model:e}){const t=(0,c.useContext)(s.ScopesContext);return(0,c.useEffect)(()=>e.setContext(t),[t,e]),null};class Hl{constructor(e){this._value=e}formatter(e){return e===j.$m.QueryParam?this._value.map(e=>`scope=${encodeURIComponent(e)}`).join("&"):this._value.join(", ")}}function Gl(e){var t;return null!=(t=q(e,e=>e.state.$data))?t:ee}function Yl(e,t,n,r,a){return""===t||null==t?"":yn(e,t,n,r,a)}function Zl(e,t,n,r){if(t(e))return e;let a=null;return e.forEachChild(e=>{if(e===n)return;let r=Zl(e,t);return r?(a=r,!1):void 0}),a||(r&&e.parent?Zl(e.parent,t,e,!0):null)}function Kl(e,t){return Zl(e,t,void 0,!0)}function Jl(e,t){const n=[];return e.forEachChild(e=>{t(e)&&n.push(e),n.push(...Jl(e,t))}),n}const eu={getVariables:function(e){var t;return null!=(t=q(e,e=>e.state.$variables))?t:ne},getData:Gl,getTimeRange:re,getLayout:function(e){const t=q(e,e=>function(e){return"isDraggable"in e}(e)?e:void 0);return t||null},getDataLayers:function(e,t=!1){let n=e,r=[];for(;n;){const e=n.state.$data;if(e){if(xn(e)?r=r.concat(e):e.state.$data&&xn(e.state.$data)&&(r=r.concat(e.state.$data)),t&&r.length>0)break;n=n.parent}else n=n.parent}return r},interpolate:Yl,lookupVariable:N,hasVariableDependencyInLoadingState:function(e){if(!e.variableDependency)return!1;for(const t of e.variableDependency.getNames()){if(e instanceof Bl&&e.state.name===t){console.warn("Query variable is referencing itself");continue}const n=N(t,e);if(!n)continue;if(n.parent.isVariableLoadingOrWaitingToUpdate(n))return!0}return!1},findByKey:function(e,t){const n=Kl(e,e=>e.state.key===t);if(!n)throw new Error("Unable to find scene with key "+t);return n},findByKeyAndType:function(e,t,n){const r=Kl(e,e=>e.state.key===t);if(!r)throw new Error("Unable to find scene with key "+t);if(!(r instanceof n))throw new Error(`Found scene object with key ${t} does not match type ${n.name}`);return r},findObject:Kl,findAllObjects:Jl,getAncestor:function(e,t){let n=e;for(;n;){if(n instanceof t)return n;n=n.parent}if(!n)throw new Error("Unable to find parent of type "+t.name);return n},getQueryController:M,findDescendents:function(e,t){function n(e){return e instanceof t}return Jl(e,n).filter(n)},getScopes:function(e){const t=N(sn,e);if(t instanceof Wl)return t.state.scopes}},tu=["from","to","timezone"];class nu{constructor(e){this.index=new Map,this.options={namespace:(null==e?void 0:e.namespace)||"",excludeFromNamespace:(null==e?void 0:e.excludeFromNamespace)||tu}}getOptions(){return this.options}getNamespacedKey(e){return this.options.namespace&&!this.options.excludeFromNamespace.includes(e)?`${this.options.namespace}-${e}`:e}getUniqueKey(e,t){const n=this.getNamespacedKey(e),r=this.index.get(n);if(!r)return this.index.set(n,[t]),n;let a=r.findIndex(e=>e===t);return-1===a&&(!function(e){for(const t of e)if(ru(t)){const n=e.indexOf(t);e.splice(n,1)}}(r),r.push(t),a=r.length-1),a>0?`${n}-${a+1}`:n}clear(){this.index.clear()}}function ru(e){const t=e.getRoot();return!eu.findObject(t,t=>t===e)}function au(e,t){const n=new nu(t),r={},a=e=>{if(e.urlSync){const t=e.urlSync.getUrlState();for(const[a,i]of Object.entries(t))if(null!=i){const t=n.getUniqueKey(a,e);r[t]=i}}e.forEachChild(a)};return a(e),r}function iu(e,t,n,r){r||su(e,t,n),e.forEachChild(e=>{su(e,t,n)}),e.forEachChild(e=>iu(e,t,n,!0))}function su(e,t,n){if(e.urlSync){const r={},a=e.urlSync.getUrlState();for(const i of e.urlSync.getKeys()){const s=n.getUniqueKey(i,e),o=t.getAll(s),l=a[i];ou(o,l)||(o.length>0?Array.isArray(l)?r[i]=o:r[i]=o[0]:r[i]=null)}Object.keys(r).length>0&&e.urlSync.updateFromUrl(r)}}function ou(e,t){return 0===e.length&&null==t||(Array.isArray(t)||1!==(null==e?void 0:e.length)?0===(null==t?void 0:t.length)&&null===e||(0,D.isEqual)(e,t):t===e[0])}var lu=n(6145);class uu extends _{constructor(e){super({...e,sync:e.sync||lu.yV.Off}),this.getEventsBus=e=>{if(!this.parent)throw new Error("EnableCursorSync cannot be used as a standalone scene object");return new cu(this.parent,e)}}getEventsScope(){if(!this.parent)throw new Error("EnableCursorSync cannot be used as a standalone scene object");return this.state.key}}class cu{constructor(e,t){this._source=e,this._eventsOrigin=t}publish(e){e.origin=this,this._eventsOrigin.publishEvent(e,!0)}getStream(e){return new p.Observable(t=>{const n=this._source.subscribeToEvent(e,e=>{t.next(e)});return()=>n.unsubscribe()})}subscribe(e,t){return this.getStream(e).pipe().subscribe(t)}removeAllListeners(){}newScopedBus(e,t){throw new Error("For internal use only")}}var du=function(){};var hu="undefined"!=typeof window;const pu=hu?c.useLayoutEffect:c.useEffect;var fu={x:0,y:0,width:0,height:0,top:0,left:0,bottom:0,right:0};const gu=hu&&void 0!==window.ResizeObserver?function(){var e=(0,c.useState)(null),t=e[0],n=e[1],r=(0,c.useState)(fu),a=r[0],i=r[1],s=(0,c.useMemo)(function(){return new window.ResizeObserver(function(e){if(e[0]){var t=e[0].contentRect,n=t.x,r=t.y,a=t.width,s=t.height,o=t.top,l=t.left,u=t.bottom,c=t.right;i({x:n,y:r,width:a,height:s,top:o,left:l,bottom:u,right:c})}})},[]);return pu(function(){if(t)return s.observe(t),function(){s.disconnect()}},[t]),[n,a]}:function(){return[du,fu]};function mu({data:e,showAll:t,seriesLimit:n,onShowAllSeries:r}){const a=(0,In.useStyles2)(vu),i=null==e?void 0:e.series.length;if(void 0===i||i<n)return null;const s=t?"Restore limit":`Show all ${i}`;return h().createElement("div",{className:a.timeSeriesDisclaimer},!t&&h().createElement("span",{className:a.warningMessage},h().createElement(In.Icon,{title:Xt("grafana-scenes.components.viz-panel-series-limit.warning-message","Showing only {{seriesLimit}} series",{seriesLimit:n}),name:"exclamation-triangle","aria-hidden":"true"})),h().createElement(In.Tooltip,{content:Xt("grafana-scenes.components.viz-panel-series-limit.content-rendering-series-single-panel-impact-performance","Rendering too many series in a single panel may impact performance and make data harder to read.")},h().createElement(In.Button,{variant:"secondary",size:"sm",onClick:r},s)))}const vu=e=>({timeSeriesDisclaimer:(0,Un.css)({label:"time-series-disclaimer",display:"flex",alignItems:"center",gap:e.spacing(1)}),warningMessage:(0,Un.css)({display:"flex",alignItems:"center",gap:e.spacing(.5),color:e.colors.warning.main,fontSize:e.typography.bodySmall.fontSize})});function bu(e,t){if(t)return t;let n=e.error?e.error.message:void 0;return e.errors&&(n=e.errors.map(e=>e.message).join(", ")),n}const yu=(0,Un.css)({position:"relative",width:"100%",height:"100%"}),Ou=(0,Un.css)({position:"absolute",width:"100%",height:"100%"}),wu=e=>({ok:(0,Un.css)({color:e.colors.success.text}),pending:(0,Un.css)({color:e.colors.warning.text}),alerting:(0,Un.css)({color:e.colors.error.text})}),xu="hideSeriesFrom",Su=(0,i.isSystemOverrideWithRef)(xu);function $u(e,t=i.ByNamesMatcherMode.exclude,n){return n=null!=n?n:{id:"custom.hideFrom",value:{viz:!0,legend:!1,tooltip:!1}},{__systemRef:xu,matcher:{id:i.FieldMatcherID.byNames,options:{mode:t,names:e,prefix:t===i.ByNamesMatcherMode.exclude?"All except:":void 0,readOnly:!0}},properties:[{...n,value:{viz:!0,legend:!1,tooltip:!1}}]}}const Ru=(e,t,n=i.ByNamesMatcherMode.exclude)=>{const r=e.properties.find(e=>"custom.hideFrom"===e.id),a=Pu(e),s=a.findIndex(e=>e===t);return s<0?a.push(t):a.splice(s,1),$u(a,n,r)},Pu=e=>{var t;const n=null==(t=e.matcher.options)?void 0:t.names;return Array.isArray(n)?[...n]:[]},Eu=(e,t)=>Pu(e).length===ku(t).length,ku=(e,t)=>{const n=new Set;for(const r of e)for(const a of r.fields){if(a.type!==i.FieldType.number)continue;const s=(0,i.getFieldDisplayName)(a,r,e);s!==t&&n.add(s)}return Array.from(n)},_u=(e,t)=>{var n;let r=[];for(const a of e){const e=a.properties.find(e=>"custom.hideFrom"===e.id);if(void 0!==e&&!0===(null==(n=e.value)?void 0:n.legend)){const e=i.fieldMatchers.get(a.matcher.id).get(a.matcher.options);for(const n of t)for(const a of n.fields){if(a.type!==i.FieldType.number)continue;const s=(0,i.getFieldDisplayName)(a,n,t);e(a,n,t)&&r.push(s)}}}return r},Cu=(e,t)=>({matcher:{id:i.FieldMatcherID.byName,options:e},properties:[Tu(t)]}),Tu=e=>({id:"color",value:{mode:i.FieldColorModeId.Fixed,fixedColor:e}});class Du extends _{constructor(e){var t;super({options:{},fieldConfig:{defaults:{},overrides:[]},title:Xt("grafana-scenes.components.viz-panel.title.title","Title"),pluginId:"timeseries",_renderCounter:0,...e}),this._variableDependency=new kl(this,{statePaths:["title","options","fieldConfig"]}),this._structureRev=0,this.onTimeRangeChange=e=>{eu.getTimeRange(this).onTimeRangeChange({raw:{from:(0,i.toUtc)(e.from),to:(0,i.toUtc)(e.to)},from:(0,i.toUtc)(e.from),to:(0,i.toUtc)(e.to)})},this.getTimeRange=e=>{const t=eu.findObject(this,e=>e instanceof Iu),n=eu.getTimeRange(this);if(t instanceof Iu&&t.isEnabled)return G(n.state.from,n.state.to,n.getTimeZone(),n.state.fiscalYearStartMonth,n.state.UNSAFE_nowDelay,n.state.weekStart);const r=this.getPlugin();return r&&!r.meta.skipDataQuery&&e&&e.timeRange?e.timeRange:n.state.value},this.onTitleChange=e=>{this.setState({title:e})},this.onDescriptionChange=e=>{this.setState({description:e})},this.onDisplayModeChange=e=>{this.setState({displayMode:e})},this.onToggleCollapse=e=>{this.setState({collapsed:e})},this.onOptionsChange=(e,t=!1,n=!1)=>{var r;const{fieldConfig:a,options:s}=this.state,o=t?e:(0,D.mergeWith)((0,D.cloneDeep)(s),e,(e,t,n,r)=>{if((0,D.isArray)(t))return t;e===t||void 0!==t||(r[n]=t)}),l=(0,i.getPanelOptionsWithDefaults)({plugin:this._plugin,currentOptions:o,currentFieldConfig:a,isAfterPluginChange:n});this.setState({options:l.options,_renderCounter:(null!=(r=this.state._renderCounter)?r:0)+1})},this.onFieldConfigChange=(e,t)=>{const{fieldConfig:n,options:r}=this.state,a=t?e:(0,D.merge)((0,D.cloneDeep)(n),e),s=(0,i.getPanelOptionsWithDefaults)({plugin:this._plugin,currentOptions:r,currentFieldConfig:a,isAfterPluginChange:!1});this._dataWithFieldConfig=void 0,this.setState({fieldConfig:s.fieldConfig})},this.interpolate=(e,t,n)=>eu.interpolate(this,e,t,n),this.getDescription=()=>{this.publishEvent(new $({origin:this,interaction:"panel-description-shown"}),!0);const{description:e}=this.state;if(e){const t=this.interpolate(e);return(0,i.renderMarkdown)(t)}return""},this.onCancelQuery=()=>{var e;this.publishEvent(new $({origin:this,interaction:"panel-cancel-query-clicked"}),!0);const t=eu.getData(this);null==(e=t.cancelQuery)||e.call(t)},this.onStatusMessageClick=()=>{this.publishEvent(new $({origin:this,interaction:"panel-status-message-clicked"}),!0)},this._onSeriesColorChange=(e,t)=>{this.onFieldConfigChange(((e,t,n)=>{const{overrides:r}=n,a=n.overrides.findIndex(t=>t.matcher.id===i.FieldMatcherID.byName&&t.matcher.options===e);if(a<0)return{...n,overrides:[...n.overrides,Cu(e,t)]};const s=Array.from(r),o=s[a],l=o.properties.findIndex(e=>"color"===e.id);if(l<0)return s[a]={...o,properties:[...o.properties,Tu(t)]},{...n,overrides:s};const u=Array.from(o.properties);return u[l]=Tu(t),s[a]={...o,properties:u},{...n,overrides:s}})(e,t,this.state.fieldConfig))},this._onSeriesVisibilityChange=(e,t)=>{this._dataWithFieldConfig&&this.onFieldConfigChange(function(e,t,n,r){const{overrides:a}=n,i=e,s=a.findIndex(Su);if(s<0){if(t===In.SeriesVisibilityChangeMode.ToggleSelection){const e=$u([i,..._u(a,r)]);return{...n,overrides:[...n.overrides,e]}}const e=$u(ku(r,i));return{...n,overrides:[...n.overrides,e]}}const o=Array.from(a),[l]=o.splice(s,1);if(t===In.SeriesVisibilityChangeMode.ToggleSelection){let e=Pu(l);const t=_u(o,r);if(t.length>0&&(e=e.filter(e=>t.indexOf(e)<0)),e[0]===i&&1===e.length)return{...n,overrides:o};const a=$u([i,...t]);return{...n,overrides:[...o,a]}}const u=Ru(l,i);return Eu(u,r)?{...n,overrides:o}:{...n,overrides:[...o,u]}}(e,t,this.state.fieldConfig,this._dataWithFieldConfig.series),!0)},this._onInstanceStateChange=e=>{this._panelContext&&(this._panelContext={...this._panelContext,instanceState:e}),this.setState({_pluginInstanceState:e})},this._onToggleLegendSort=e=>{const t=this.state.options.legend;if(!t)return;let n=t.sortDesc,r=t.sortBy;e!==r&&(n=void 0),!1===n?(r=void 0,n=void 0):(n=!n,r=e),this.onOptionsChange({...this.state.options,legend:{...t,sortBy:r,sortDesc:n}},!0)},this.addActivationHandler(()=>{this._onActivate()}),null==(t=e.menu)||t.addActivationHandler(()=>{this.publishEvent(new $({origin:this,interaction:"panel-menu-shown"}),!0)})}_onActivate(){this._plugin||this._loadPlugin(this.state.pluginId)}forceRender(){var e;this.setState({_renderCounter:(null!=(e=this.state._renderCounter)?e:0)+1})}async _loadPlugin(e,t,n,r){const a=function(e){var t;const{getPanelPluginFromCache:n}=(0,s.getPluginImportUtils)();return null!=(t=n(e))?t:u.get(e)}(e);if(a)this._pluginLoaded(a,t,n,r);else{const{importPanelPlugin:a}=(0,s.getPluginImportUtils)();try{const i=a(e),s=eu.getQueryController(this);s&&s.state.enableProfiling&&$n(i).pipe(Sn({type:"plugin",origin:this})).subscribe(()=>{});const o=await i;this._pluginLoaded(o,t,n,r)}catch(t){this._pluginLoaded(function(e){const t=new i.PanelPlugin(()=>null);return t.meta={id:e,name:e,sort:100,type:i.PluginType.panel,module:"",baseUrl:"",info:{author:{name:""},description:"",links:[],logos:{large:"",small:"public/img/grafana_icon.svg"},screenshots:[],updated:"",version:""}},t}(e)),t instanceof Error&&this.setState({_pluginLoadError:t.message})}}}getLegacyPanelId(){var e,t;const n=null!=(t=null==(e=this.state.key)?void 0:e.split("/"))?t:[];if(0===n.length)return 0;const r=n[n.length-1],a=parseInt(r.replace("panel-",""),10);return isNaN(a)?0:a}async _pluginLoaded(e,t,n,r){const{options:a,fieldConfig:s,title:o,pluginVersion:l,_UNSAFE_customMigrationHandler:u}=this.state,c={title:o,options:a,fieldConfig:s,id:this.getLegacyPanelId(),type:e.meta.id,pluginVersion:l};t&&(c.options=t),n&&(c.fieldConfig=n);const d=this._getPluginVersion(e);null==u||u(c,e),e.onPanelMigration&&d!==l&&!r&&(c.options=await e.onPanelMigration(c));const h=(0,i.getPanelOptionsWithDefaults)({plugin:e,currentOptions:c.options,currentFieldConfig:c.fieldConfig,isAfterPluginChange:null!=r&&r});if(this._plugin=e,this.setState({options:h.options,fieldConfig:h.fieldConfig,pluginVersion:d,pluginId:e.meta.id}),e.meta.skipDataQuery){const e=eu.getTimeRange(this);this._subs.add(e.subscribeToState(()=>this.forceRender()))}}_getPluginVersion(e){return e&&e.meta.info.version?e.meta.info.version:s.config.buildInfo.version}getPlugin(){return this._plugin}getPanelContext(){return null!=this._panelContext||(this._panelContext=this.buildPanelContext()),this._panelContext}async changePluginType(e,t,n){var r,a;const{options:i,fieldConfig:s,pluginId:o}=this.state;this._dataWithFieldConfig=void 0;const l=this.state.pluginId!==e;await this._loadPlugin(e,null!=t?t:{},n,l);const u={title:this.state.title,options:this.state.options,fieldConfig:this.state.fieldConfig,id:1,type:e},c=null==(a=null==(r=this._plugin)?void 0:r.onPanelTypeChanged)?void 0:a.call(r,u,o,i,s);c&&!(0,D.isEmpty)(c)&&this.onOptionsChange(c,!0,!0)}clearFieldConfigCache(){this._dataWithFieldConfig=void 0}applyFieldConfig(e){var t,n,r,a;const o=this._plugin;if(!o||o.meta.skipDataQuery||!e)return U;if(this._prevData===e&&this._dataWithFieldConfig)return this._dataWithFieldConfig;const l=o.dataSupport||{alertStates:!1,annotations:!1},u=o.fieldConfigRegistry,c=null!=(n=null==(t=this._dataWithFieldConfig)?void 0:t.series)?n:[],d=(0,i.applyFieldOverrides)({data:e.series,fieldConfig:this.state.fieldConfig,fieldConfigRegistry:u,replaceVariables:this.interpolate,theme:s.config.theme2,timeZone:null==(r=e.request)?void 0:r.timezone});return(0,i.compareArrayValues)(d,c,i.compareDataFrameStructures)||this._structureRev++,this._dataWithFieldConfig={...e,structureRev:this._structureRev,series:d},this._dataWithFieldConfig.annotations&&(this._dataWithFieldConfig.annotations=(0,i.applyFieldOverrides)({data:this._dataWithFieldConfig.annotations,fieldConfig:{defaults:{},overrides:[]},fieldConfigRegistry:u,replaceVariables:this.interpolate,theme:s.config.theme2,timeZone:null==(a=e.request)?void 0:a.timezone})),l.alertStates||(this._dataWithFieldConfig.alertState=void 0),l.annotations||(this._dataWithFieldConfig.annotations=void 0),this._prevData=e,this._dataWithFieldConfig}clone(e){return super.clone({_pluginInstanceState:void 0,_pluginLoadError:void 0,...e})}buildPanelContext(){const e=(t=this,eu.findObject(t,e=>e instanceof uu));var t;const n={eventsScope:e?e.getEventsScope():"__global_",eventBus:e?e.getEventsBus(this):(0,s.getAppEvents)(),app:i.CoreApp.Unknown,sync:()=>e?e.state.sync:i.DashboardCursorSync.Off,onSeriesColorChange:this._onSeriesColorChange,onToggleSeriesVisibility:this._onSeriesVisibilityChange,onToggleLegendSort:this._onToggleLegendSort,onInstanceStateChange:this._onInstanceStateChange};return this.state.extendPanelContext&&this.state.extendPanelContext(this,n),n}}Du.Component=function({model:e}){var t;const{title:n,options:r,fieldConfig:a,_pluginLoadError:o,displayMode:l,hoverHeader:u,showMenuAlways:d,hoverHeaderOffset:p,menu:f,headerActions:g,titleItems:m,seriesLimit:v,seriesLimitShowAll:b,description:y,collapsible:O,collapsed:w,_renderCounter:x=0}=e.useState(),[S,{width:$,height:R}]=gu(),P=(0,c.useMemo)(()=>(0,s.getAppEvents)(),[]),E=(0,c.useCallback)(()=>{e.state.key&&P.publish(new i.SetPanelAttentionEvent({panelId:e.state.key}))},[e.state.key,P]),k=(0,c.useMemo)(()=>(0,D.debounce)(E,100,{leading:!0,trailing:!1}),[E]),_=e.getPlugin(),{dragClass:C,dragClassCancel:T}=function(e){var t,n;const r=eu.getLayout(e),a=null==r?void 0:r.isDraggable();if(!r||!a||function(e,t){let n=e.parent;for(;n&&n!==t;){if("isDraggable"in n.state&&!1===n.state.isDraggable)return!0;n=n.parent}return!1}(e,r))return{dragClass:"",dragClassCancel:""};return{dragClass:null==(t=r.getDragClass)?void 0:t.call(r),dragClassCancel:null==(n=null==r?void 0:r.getDragClassCancel)?void 0:n.call(r)}}(e),A=function(e){var t,n;const r=eu.getLayout(e);return null!=(n=null==(t=null==r?void 0:r.getDragHooks)?void 0:t.call(r))?n:{}}(e),I=eu.getData(e),L=I.useState(),Q=function(e,t,n){return(0,c.useMemo)(()=>(null==e?void 0:e.series)&&t&&!n?{...e,series:e.series.slice(0,t)}:e,[e,t,n])}(L.data,v,b),N=e.applyFieldConfig(Q),V=eu.getTimeRange(e).getTimeZone(),z=e.getTimeRange(N),M=e.interpolate(n,void 0,"text"),j=(0,In.useStyles2)(wu);if(!_)return h().createElement("div",null,h().createElement(Ut,{i18nKey:"grafana-scenes.components.viz-panel-renderer.loading-plugin-panel"},"Loading plugin panel..."));if(!_.panel)return h().createElement("div",null,h().createElement(Ut,{i18nKey:"grafana-scenes.components.viz-panel-renderer.panel-plugin-has-no-panel-component"},"Panel plugin has no panel component"));const F=_.panel;I&&I.setContainerWidth&&I.setContainerWidth(Math.round($));let X,U,B=[];m&&(Array.isArray(m)?B=B.concat(m.map(e=>h().createElement(e.Component,{model:e,key:`${e.state.key}`}))):On(m)?B.push(h().createElement(m.Component,{model:m})):B.push(m)),v&&B.push(h().createElement(mu,{key:"series-limit",data:L.data,seriesLimit:v,showAll:b,onShowAllSeries:()=>e.setState({seriesLimitShowAll:!b})})),e.state.$timeRange&&B.push(h().createElement(e.state.$timeRange.Component,{model:e.state.$timeRange,key:e.state.key})),N.alertState&&B.push(h().createElement(In.Tooltip,{content:null!=(t=N.alertState.state)?t:"unknown",key:`alert-states-icon-${e.state.key}`},h().createElement(In.PanelChrome.TitleItem,{className:(0,Un.cx)({[j.ok]:N.alertState.state===i.AlertState.OK,[j.pending]:N.alertState.state===i.AlertState.Pending,[j.alerting]:N.alertState.state===i.AlertState.Alerting})},h().createElement(In.Icon,{name:"alerting"===N.alertState.state?"heart-break":"heart",className:"panel-alert-icon",size:"md"})))),f&&(X=h().createElement(f.Component,{model:f})),g&&(U=Array.isArray(g)?h().createElement(h().Fragment,null,g.map(e=>h().createElement(e.Component,{model:e,key:`${e.state.key}`}))):On(g)?h().createElement(g.Component,{model:g}):g);const q=N,W=!I.isDataReadyToDisplay||I.isDataReadyToDisplay(),H=e.getPanelContext(),G=e.getLegacyPanelId();return h().createElement("div",{className:yu},h().createElement("div",{ref:S,className:Ou,"data-viz-panel-key":e.state.key},$>0&&R>0&&h().createElement(In.PanelChrome,{title:M,description:(null==y?void 0:y.trim())?e.getDescription:void 0,loadingState:q.state,statusMessage:bu(q,o),statusMessageOnClick:e.onStatusMessageClick,width:$,height:R,selectionId:e.state.key,displayMode:l,titleItems:B,dragClass:C,actions:U,dragClassCancel:T,padding:_.noPadding?"none":"md",menu:X,onCancelQuery:e.onCancelQuery,onFocus:E,onMouseEnter:E,onMouseMove:k,onDragStart:t=>{var n;null==(n=A.onDragStart)||n.call(A,t,e)},showMenuAlways:d,...O?{collapsible:Boolean(O),collapsed:w,onToggleCollapse:e.onToggleCollapse}:{hoverHeader:u,hoverHeaderOffset:p}},(t,s)=>h().createElement(h().Fragment,null,h().createElement(In.ErrorBoundaryAlert,{dependencies:[_,q]},h().createElement(i.PluginContextProvider,{meta:_.meta},h().createElement(In.PanelContextProvider,{value:H},W&&h().createElement(F,{id:G,data:q,title:n,timeRange:z,timeZone:V,options:r,fieldConfig:a,transparent:"transparent"===l,width:t,height:s,renderCounter:x,replaceVariables:e.interpolate,onOptionsChange:e.onOptionsChange,onFieldConfigChange:e.onFieldConfigChange,onChangeTimeRange:e.onTimeRangeChange,eventBus:H.eventBus}))))))))};const Au=class e extends _{constructor({enabled:e=!1}){super({enabled:e}),this.timerId=void 0,this._activationHandler=()=>(this.state.enabled&&this.enable(),()=>{window.clearInterval(this.timerId),this.timerId=void 0}),this.addActivationHandler(this._activationHandler)}enable(){window.clearInterval(this.timerId),this.timerId=void 0,this.timerId=window.setInterval(()=>{const e=eu.findAllObjects(this.getRoot(),e=>e instanceof Du);for(const t of e)t.forceRender()},e.REFRESH_RATE),this.setState({enabled:!0})}disable(){window.clearInterval(this.timerId),this.timerId=void 0,this.setState({enabled:!1})}get isEnabled(){return this.state.enabled}};Au.REFRESH_RATE=100;let Iu=Au;function Lu(e){if("string"==typeof e)return e;if(e){if(e instanceof Error)return e.message;if((0,s.isFetchError)(e)){if(e.data&&e.data.message)return e.data.message;if(e.statusText)return e.statusText}else if(e.hasOwnProperty("message"))return e.message}return JSON.stringify(e)}class Qu extends _{constructor(e,t=[]){super({isEnabled:!0,...e}),this._results=new p.ReplaySubject(1),this.isDataLayer=!0,this._variableValueRecorder=new Pn,this._variableDependency=new kl(this,{onVariableUpdateCompleted:this.onVariableUpdateCompleted.bind(this),dependsOnScopes:!0}),this._variableDependency.setPaths(t),this.addActivationHandler(()=>this.onActivate())}onActivate(){return this.state.isEnabled&&this.onEnable(),this.shouldRunLayerOnActivate()&&this.runLayer(),this.subscribeToState((e,t)=>{!e.isEnabled&&this.querySub&&(this.querySub.unsubscribe(),this.querySub=void 0,this.onDisable(),this._results.next({origin:this,data:U}),this.setStateHelper({data:U})),e.isEnabled&&!t.isEnabled&&(this.onEnable(),this.runLayer())}),()=>{this.onDeactivate()}}onDeactivate(){this.querySub&&(this.querySub.unsubscribe(),this.querySub=void 0),this.onDisable(),this._variableValueRecorder.recordCurrentDependencyValuesForSceneObject(this)}onVariableUpdateCompleted(){this.runLayer()}cancelQuery(){this.querySub&&(this.querySub.unsubscribe(),this.querySub=void 0,this.publishResults(U))}publishResults(e){this.state.isEnabled&&(this._results.next({origin:this,data:e}),this.setStateHelper({data:e}))}getResultsStream(){return this._results}shouldRunLayerOnActivate(){return!!this.state.isEnabled&&(this._variableValueRecorder.hasDependenciesChanged(this)?(V(),!0):!this.state.data)}setStateHelper(e){cn(this,e)}}function Nu({layer:e}){var t,n;const r=`data-layer-${e.state.key}`,{data:a,isEnabled:i}=e.useState(),s=Boolean(a&&a.state===F.Loading);return h().createElement("div",{className:Vu},h().createElement(yr,{htmlFor:r,isLoading:s,onCancel:()=>{var t;return null==(t=e.cancelQuery)?void 0:t.call(e)},label:e.state.name,description:e.state.description,error:null==(n=null==(t=e.state.data)?void 0:t.errors)?void 0:n[0].message}),h().createElement(In.InlineSwitch,{id:r,value:i,onChange:()=>e.setState({isEnabled:!i})}))}(class extends _{constructor(){super({})}}).Component=function({model:e}){const t=eu.getDataLayers(e,!0);if(0===t.length)return null;return h().createElement(h().Fragment,null,t.map(e=>h().createElement(e.Component,{model:e,key:e.state.key})))};const Vu=(0,Un.css)({display:"flex"});function zu(e){return"function"==typeof e}function Mu(e){return function(t){if(function(e){return zu(null==e?void 0:e.lift)}(t))return t.lift(function(t){try{return e(t,this)}catch(e){this.error(e)}});throw new TypeError("Unable to lift unknown Observable type")}}var ju=function(e,t){return ju=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},ju(e,t)};function Fu(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}ju(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var Xu=function(){return Xu=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},Xu.apply(this,arguments)};function Uu(e,t,n,r){return new(n||(n=Promise))(function(a,i){function s(e){try{l(r.next(e))}catch(e){i(e)}}function o(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,o)}l((r=r.apply(e,t||[])).next())})}function Bu(e,t){var n,r,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},s=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return s.next=o(0),s.throw=o(1),s.return=o(2),"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function o(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,o[0]&&(i=0)),i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}}Object.create;function qu(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Wu(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,a,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(e){a={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(a)throw a.error}}return s}function Hu(e,t,n){if(n||2===arguments.length)for(var r,a=0,i=t.length;a<i;a++)!r&&a in t||(r||(r=Array.prototype.slice.call(t,0,a)),r[a]=t[a]);return e.concat(r||Array.prototype.slice.call(t))}function Gu(e){return this instanceof Gu?(this.v=e,this):new Gu(e)}function Yu(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,a=n.apply(e,t||[]),i=[];return r=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),s("next"),s("throw"),s("return",function(e){return function(t){return Promise.resolve(t).then(e,u)}}),r[Symbol.asyncIterator]=function(){return this},r;function s(e,t){a[e]&&(r[e]=function(t){return new Promise(function(n,r){i.push([e,t,n,r])>1||o(e,t)})},t&&(r[e]=t(r[e])))}function o(e,t){try{!function(e){e.value instanceof Gu?Promise.resolve(e.value.v).then(l,u):c(i[0][2],e)}(a[e](t))}catch(e){c(i[0][3],e)}}function l(e){o("next",e)}function u(e){o("throw",e)}function c(e,t){e(t),i.shift(),i.length&&o(i[0][0],i[0][1])}}function Zu(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=qu(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise(function(r,a){(function(e,t,n,r){Promise.resolve(r).then(function(t){e({value:t,done:n})},t)})(r,a,(t=e[n](t)).done,t.value)})}}}Object.create;"function"==typeof SuppressedError&&SuppressedError;var Ku,Ju,ec=(Ku=function(e){return function(t){e(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map(function(e,t){return t+1+") "+e.toString()}).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t}},Ju=Ku(function(e){Error.call(e),e.stack=(new Error).stack}),Ju.prototype=Object.create(Error.prototype),Ju.prototype.constructor=Ju,Ju);function tc(e,t){if(e){var n=e.indexOf(t);0<=n&&e.splice(n,1)}}var nc=function(){function e(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}var t;return e.prototype.unsubscribe=function(){var e,t,n,r,a;if(!this.closed){this.closed=!0;var i=this._parentage;if(i)if(this._parentage=null,Array.isArray(i))try{for(var s=qu(i),o=s.next();!o.done;o=s.next()){o.value.remove(this)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(t=s.return)&&t.call(s)}finally{if(e)throw e.error}}else i.remove(this);var l=this.initialTeardown;if(zu(l))try{l()}catch(e){a=e instanceof ec?e.errors:[e]}var u=this._finalizers;if(u){this._finalizers=null;try{for(var c=qu(u),d=c.next();!d.done;d=c.next()){var h=d.value;try{ac(h)}catch(e){a=null!=a?a:[],e instanceof ec?a=Hu(Hu([],Wu(a)),Wu(e.errors)):a.push(e)}}}catch(e){n={error:e}}finally{try{d&&!d.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}}if(a)throw new ec(a)}},e.prototype.add=function(t){var n;if(t&&t!==this)if(this.closed)ac(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(t)}},e.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)},e.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e},e.prototype._removeParent=function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&tc(t,e)},e.prototype.remove=function(t){var n=this._finalizers;n&&tc(n,t),t instanceof e&&t._removeParent(this)},e.EMPTY=((t=new e).closed=!0,t),e}();nc.EMPTY;function rc(e){return e instanceof nc||e&&"closed"in e&&zu(e.remove)&&zu(e.add)&&zu(e.unsubscribe)}function ac(e){zu(e)?e():e.unsubscribe()}var ic={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},sc={setTimeout:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var a=sc.delegate;return(null==a?void 0:a.setTimeout)?a.setTimeout.apply(a,Hu([e,t],Wu(n))):setTimeout.apply(void 0,Hu([e,t],Wu(n)))},clearTimeout:function(e){var t=sc.delegate;return((null==t?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0};function oc(e){sc.setTimeout(function(){var t=ic.onUnhandledError;if(!t)throw e;t(e)})}function lc(){}var uc=cc("C",void 0,void 0);function cc(e,t,n){return{kind:e,value:t,error:n}}var dc=null;var hc=function(e){function t(t){var n=e.call(this)||this;return n.isStopped=!1,t?(n.destination=t,rc(t)&&t.add(n)):n.destination=yc,n}return Fu(t,e),t.create=function(e,t,n){return new mc(e,t,n)},t.prototype.next=function(e){this.isStopped?bc(function(e){return cc("N",e,void 0)}(e),this):this._next(e)},t.prototype.error=function(e){this.isStopped?bc(function(e){return cc("E",void 0,e)}(e),this):(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped?bc(uc,this):(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){try{this.destination.error(e)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(nc),pc=Function.prototype.bind;function fc(e,t){return pc.call(e,t)}var gc=function(){function e(e){this.partialObserver=e}return e.prototype.next=function(e){var t=this.partialObserver;if(t.next)try{t.next(e)}catch(e){vc(e)}},e.prototype.error=function(e){var t=this.partialObserver;if(t.error)try{t.error(e)}catch(e){vc(e)}else vc(e)},e.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(e){vc(e)}},e}(),mc=function(e){function t(t,n,r){var a,i,s=e.call(this)||this;zu(t)||!t?a={next:null!=t?t:void 0,error:null!=n?n:void 0,complete:null!=r?r:void 0}:s&&ic.useDeprecatedNextContext?((i=Object.create(t)).unsubscribe=function(){return s.unsubscribe()},a={next:t.next&&fc(t.next,i),error:t.error&&fc(t.error,i),complete:t.complete&&fc(t.complete,i)}):a=t;return s.destination=new gc(a),s}return Fu(t,e),t}(hc);function vc(e){var t;ic.useDeprecatedSynchronousErrorHandling?(t=e,ic.useDeprecatedSynchronousErrorHandling&&dc&&(dc.errorThrown=!0,dc.error=t)):oc(e)}function bc(e,t){var n=ic.onStoppedNotification;n&&sc.setTimeout(function(){return n(e,t)})}var yc={closed:!0,next:lc,error:function(e){throw e},complete:lc};function Oc(e,t,n,r,a){return new wc(e,t,n,r,a)}var wc=function(e){function t(t,n,r,a,i,s){var o=e.call(this,t)||this;return o.onFinalize=i,o.shouldUnsubscribe=s,o._next=n?function(e){try{n(e)}catch(e){t.error(e)}}:e.prototype._next,o._error=a?function(e){try{a(e)}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._error,o._complete=r?function(){try{r()}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._complete,o}return Fu(t,e),t.prototype.unsubscribe=function(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var n=this.closed;e.prototype.unsubscribe.call(this),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}},t}(hc);function xc(e,t){return Mu(function(n,r){var a=0;n.subscribe(Oc(r,function(n){r.next(e.call(t,n,a++))}))})}var Sc="function"==typeof Symbol&&Symbol.observable||"@@observable";function $c(e){return e}function Rc(e){return 0===e.length?$c:1===e.length?e[0]:function(t){return e.reduce(function(e,t){return t(e)},t)}}var Pc=function(){function e(e){e&&(this._subscribe=e)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(e,t,n){var r,a=this,i=(r=e)&&r instanceof hc||function(e){return e&&zu(e.next)&&zu(e.error)&&zu(e.complete)}(r)&&rc(r)?e:new mc(e,t,n);return function(e){if(ic.useDeprecatedSynchronousErrorHandling){var t=!dc;if(t&&(dc={errorThrown:!1,error:null}),e(),t){var n=dc,r=n.errorThrown,a=n.error;if(dc=null,r)throw a}}else e()}(function(){var e=a,t=e.operator,n=e.source;i.add(t?t.call(i,n):n?a._subscribe(i):a._trySubscribe(i))}),i},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.error(t)}},e.prototype.forEach=function(e,t){var n=this;return new(t=Ec(t))(function(t,r){var a=new mc({next:function(t){try{e(t)}catch(e){r(e),a.unsubscribe()}},error:r,complete:t});n.subscribe(a)})},e.prototype._subscribe=function(e){var t;return null===(t=this.source)||void 0===t?void 0:t.subscribe(e)},e.prototype[Sc]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Rc(e)(this)},e.prototype.toPromise=function(e){var t=this;return new(e=Ec(e))(function(e,n){var r;t.subscribe(function(e){return r=e},function(e){return n(e)},function(){return e(r)})})},e.create=function(t){return new e(t)},e}();function Ec(e){var t;return null!==(t=null!=e?e:ic.Promise)&&void 0!==t?t:Promise}var kc="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function _c(e){if(e instanceof Pc)return e;if(null!=e){if(function(e){return zu(e[Sc])}(e))return s=e,new Pc(function(e){var t=s[Sc]();if(zu(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")});if((i=e)&&"number"==typeof i.length&&"function"!=typeof i)return a=e,new Pc(function(e){for(var t=0;t<a.length&&!e.closed;t++)e.next(a[t]);e.complete()});if(zu(null==(r=e)?void 0:r.then))return n=e,new Pc(function(e){n.then(function(t){e.closed||(e.next(t),e.complete())},function(t){return e.error(t)}).then(null,oc)});if(function(e){return Symbol.asyncIterator&&zu(null==e?void 0:e[Symbol.asyncIterator])}(e))return Cc(e);if(function(e){return zu(null==e?void 0:e[kc])}(e))return t=e,new Pc(function(e){var n,r;try{for(var a=qu(t),i=a.next();!i.done;i=a.next()){var s=i.value;if(e.next(s),e.closed)return}}catch(e){n={error:e}}finally{try{i&&!i.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}e.complete()});if(function(e){return zu(null==e?void 0:e.getReader)}(e))return Cc(function(e){return Yu(this,arguments,function(){var t,n,r;return Bu(this,function(a){switch(a.label){case 0:t=e.getReader(),a.label=1;case 1:a.trys.push([1,,9,10]),a.label=2;case 2:return[4,Gu(t.read())];case 3:return n=a.sent(),r=n.value,n.done?[4,Gu(void 0)]:[3,5];case 4:return[2,a.sent()];case 5:return[4,Gu(r)];case 6:return[4,a.sent()];case 7:return a.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}})})}(e))}var t,n,r,a,i,s;throw function(e){return new TypeError("You provided "+(null!==e&&"object"==typeof e?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}(e)}function Cc(e){return new Pc(function(t){(function(e,t){var n,r,a,i;return Uu(this,void 0,void 0,function(){var s,o;return Bu(this,function(l){switch(l.label){case 0:l.trys.push([0,5,6,11]),n=Zu(e),l.label=1;case 1:return[4,n.next()];case 2:if((r=l.sent()).done)return[3,4];if(s=r.value,t.next(s),t.closed)return[2];l.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return o=l.sent(),a={error:o},[3,11];case 6:return l.trys.push([6,,9,10]),r&&!r.done&&(i=n.return)?[4,i.call(n)]:[3,8];case 7:l.sent(),l.label=8;case 8:return[3,10];case 9:if(a)throw a.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}})})})(e,t).catch(function(e){return t.error(e)})})}function Tc(e,t,n){return void 0===n&&(n=1/0),zu(t)?Tc(function(n,r){return xc(function(e,a){return t(n,e,r,a)})(_c(e(n,r)))},n):("number"==typeof t&&(n=t),Mu(function(t,r){return function(e,t,n,r,a,i,s,o){var l=[],u=0,c=0,d=!1,h=function(){!d||l.length||u||t.complete()},p=function(e){return u<r?f(e):l.push(e)},f=function(e){i&&t.next(e),u++;var o=!1;_c(n(e,c++)).subscribe(Oc(t,function(e){null==a||a(e),i?p(e):t.next(e)},function(){o=!0},void 0,function(){if(o)try{u--;for(var e=function(){var e=l.shift();s?function(e,t,n,r,a){void 0===r&&(r=0),void 0===a&&(a=!1);var i=t.schedule(function(){n(),a?e.add(this.schedule(null,r)):this.unsubscribe()},r);e.add(i)}(t,s,function(){return f(e)}):f(e)};l.length&&u<r;)e();h()}catch(e){t.error(e)}}))};return e.subscribe(Oc(t,p,function(){d=!0,h()})),function(){null==o||o()}}(t,r,e,n)}))}const Dc={prepareAnnotation:e=>{if((0,D.isString)(null==e?void 0:e.query)){const{query:t,...n}=e;return{...n,target:{refId:"annotation_query",query:t},mappings:{}}}return e},prepareQuery:e=>e.target,processEvents:(e,t)=>function(e,t){return(0,p.of)(e).pipe(e=>e.pipe(Tc(e=>{if(!(null==e?void 0:e.length))return(0,p.of)(void 0);if(1===e.length)return(0,p.of)(e[0]);const t={interpolate:e=>e};return(0,p.of)(e).pipe(i.standardTransformers.mergeTransformer.operator({},t),xc(e=>e[0]))})),xc(e=>{if(!(null==e?void 0:e.length))return[];let n=!1,r=!1;const a={};for(const t of e.fields){a[(0,i.getFieldDisplayName)(t,e).toLowerCase()]=t}t||(t={});const s=[];for(const o of Ic){const l=t[o.key]||{};if(l.source===i.AnnotationEventFieldSource.Skip)continue;const u={key:o.key,split:o.split};if(l.source===i.AnnotationEventFieldSource.Text)u.text=l.value;else{const t=(l.value||o.key).toLowerCase();u.field=a[t],!u.field&&o.field&&(u.field=o.field(e))}(u.field||u.text)&&(s.push(u),"time"===u.key?n=!0:"text"===u.key&&(r=!0))}if(!n||!r)return console.error("Cannot process annotation fields. No time or text present."),[];const o=[];for(let t=0;t<e.length;t++){const e={type:"default",color:"red"};for(const n of s){let r;if(n.text)r=n.text;else if(n.field&&(r=n.field.values.get(t),void 0!==r&&n.regex)){const e=n.regex.exec(r);e&&(r=e[1]?e[1]:e[0])}null!=r&&(n.split&&"string"==typeof r&&(r=r.split(",")),e[n.key]=r)}o.push(e)}return o}))}(t,e.mappings)};const Ac=[{key:"time",field:e=>e.fields.find(e=>e.type===i.FieldType.time),placeholder:"time, or the first time field"},{key:"timeEnd",help:"When this field is defined, the annotation will be treated as a range"},{key:"title"},{key:"text",field:e=>e.fields.find(e=>e.type===i.FieldType.string),placeholder:"text, or the first text field"},{key:"tags",split:",",help:"The results will be split on comma (,)"},{key:"id"}],Ic=[...s.config.publicDashboardAccessToken?[{key:"color"},{key:"isRegion"},{key:"source"}]:[],...Ac,{key:"userId"},{key:"login"},{key:"email"},{key:"prevState"},{key:"newState"},{key:"data"},{key:"panelId"},{key:"alertId"},{key:"dashboardId"},{key:"dashboardUID"}];const Lc=["prometheus","loki","elasticsearch","grafana-opensearch-datasource"];let Qc=100;function Nc(e,t,n,r){var a;if(e.annotationQuery&&function(e){const{type:t}=e;return!e.annotations||Lc.includes(t)}(e))return console.warn("Using deprecated annotationQuery method, please upgrade your datasource"),(0,p.from)(e.annotationQuery({range:t.state.value,rangeRaw:t.state.value.raw,annotation:n,dashboard:{getVariables:(0,s.getTemplateSrv)().getVariables}})).pipe(xc(e=>({state:F.Done,events:e})));const o={...Dc,...e.annotations},l={...null==(a=o.getDefaultQuery)?void 0:a.call(o),...n},u=o.prepareAnnotation(l);if(!u)return(0,p.of)({state:F.Done,events:[]});const c=o.prepareQuery(u);if(!c)return(0,p.of)({state:F.Done,events:[]});const d=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,h=i.rangeUtil.calculateInterval(t.state.value,d,e.interval),f={__interval:{text:h.interval,value:h.interval},__interval_ms:{text:h.intervalMs.toString(),value:h.intervalMs},__annotation:{text:u.name,value:u},__sceneObject:hr(r)},g={startTime:Date.now(),requestId:"AQ"+Qc++,range:t.state.value,maxDataPoints:d,scopedVars:f,...h,app:i.CoreApp.Dashboard,timezone:t.getTimeZone(),targets:[{...c,refId:"Anno"}],scopes:eu.getScopes(r),...Cn(r)};return(0,s.getRunRequest)()(e,g).pipe(Tc(e=>{const t=(null==e?void 0:e.series.length)?e.series:e.annotations;return(null==t?void 0:t.length)?(t.forEach(e=>{var t;(null==(t=e.meta)?void 0:t.dataTopic)||(e.meta={...e.meta||{},dataTopic:i.DataTopic.Annotations})}),o.processEvents(u,t).pipe(xc(t=>({state:e.state,events:t||[]})))):(0,p.of)({state:e.state,events:[]})}))}function Vc(e){return"panel-alert"===e.eventType}(class extends Qu{constructor(e){super({isEnabled:!0,...e},["query"]),this._scopedVars={__sceneObject:hr(this)}}onEnable(){this.publishEvent(new s.RefreshEvent,!0);const e=eu.getTimeRange(this);this._timeRangeSub=e.subscribeToState(()=>{this.runWithTimeRange(e)})}onDisable(){var e;this.publishEvent(new s.RefreshEvent,!0),null==(e=this._timeRangeSub)||e.unsubscribe()}runLayer(){V();const e=eu.getTimeRange(this);this.runWithTimeRange(e)}async runWithTimeRange(e){const{query:t}=this.state;if(t.enable)if(this.querySub&&this.querySub.unsubscribe(),this._variableDependency.hasDependencyInLoadingState())V();else try{let n=Nc(await this.resolveDataSource(t),e,t,this).pipe(Sn({type:"annotations",origin:this,cancel:()=>this.cancelQuery()}),(0,p.map)(e=>this.processEvents(t,e)));this.querySub=n.subscribe(e=>{this.publishResults(e)})}catch(e){this.publishResults({...U,state:F.Error,errors:[{message:Lu(e)}]}),console.error("AnnotationsDataLayer error",e)}}async resolveDataSource(e){return await Rn(e.datasource||void 0,this._scopedVars)}processEvents(e,t){let n=(r=e,a=t.events||[],r.snapshotData&&delete(r=(0,D.cloneDeep)(r)).snapshotData,a.map(e=>{var t;const n={...e};switch(n.source=r,n.color=s.config.theme2.visualization.getColorByName(r.iconColor),n.type=r.name,n.isRegion=Boolean(n.timeEnd&&n.time!==n.timeEnd),null==(t=n.newState)?void 0:t.toLowerCase()){case"pending":n.color="yellow";break;case"alerting":n.color="red";break;case"ok":case"normal":n.color="green";break;case"no_data":case"nodata":n.color="gray"}return n}));var r,a;n=function(e){let t=[];const n=(0,D.partition)(e,"id"),r=(0,D.groupBy)(n[0],"id");return t=(0,D.map)(r,e=>e.length>1&&!(0,D.every)(e,Vc)?(0,D.find)(e,e=>"panel-alert"!==e.eventType):(0,D.head)(e)),t=(0,D.concat)(t,n[1]),t}(n);const o={...U,state:t.state},l=(0,i.arrayToDataFrame)(n);return l.meta={...l.meta,dataTopic:i.DataTopic.Annotations},o.series=[l],o}}).Component=function({model:e}){const{isHidden:t}=e.useState();if(t)return null;return h().createElement(Nu,{layer:e})};class zc extends _{constructor(){super(...arguments),this.isDataLayer=!0,this._results=new p.ReplaySubject(1),this._dataLayersMerger=new sl}subscribeToAllLayers(e){e.length>0?this.querySub=this._dataLayersMerger.getMergedStream(e).subscribe(this._onLayerUpdateReceived.bind(this)):(this._results.next({origin:this,data:U}),this.setStateHelper({data:U}))}_onLayerUpdateReceived(e){var t;let n=[];for(const r of e)(null==(t=r.data)?void 0:t.series)&&(n=n.concat(r.data.series));const r={...U,series:n};this._results.next({origin:this,data:r}),this.setStateHelper({data:r})}getResultsStream(){return this._results}cancelQuery(){var e;null==(e=this.querySub)||e.unsubscribe()}setStateHelper(e){cn(this,e)}}class Mc extends zc{constructor(e){var t,n;super({name:null!=(t=e.name)?t:"Data layers",layers:null!=(n=e.layers)?n:[]}),this.addActivationHandler(()=>this._onActivate())}_onActivate(){return this._subs.add(this.subscribeToState((e,t)=>{var n;e.layers!==t.layers&&(null==(n=this.querySub)||n.unsubscribe(),this.subscribeToAllLayers(e.layers))})),this.subscribeToAllLayers(this.state.layers),()=>{var e;null==(e=this.querySub)||e.unsubscribe()}}}Mc.Component=({model:e})=>{const{layers:t}=e.useState();return h().createElement(h().Fragment,null,t.map(e=>h().createElement(e.Component,{model:e,key:e.state.key})))};class jc extends _{constructor(e){super(e),this._results=new p.ReplaySubject(1),this._variableDependency=new kl(this,{statePaths:["transformations"],onReferencedVariableValueChanged:()=>this.reprocessTransformations()}),this.addActivationHandler(()=>this.activationHandler())}activationHandler(){const e=this.getSourceData();return this._subs.add(e.subscribeToState(e=>this.transform(e.data))),e.state.data&&this.transform(e.state.data),()=>{this._transformSub&&this._transformSub.unsubscribe()}}getSourceData(){if(this.state.$data){if(this.state.$data instanceof Mc)throw new Error("SceneDataLayerSet can not be used as data provider for SceneDataTransformer.");return this.state.$data}if(!this.parent||!this.parent.parent)throw new Error("SceneDataTransformer must either have $data set on it or have a parent.parent with $data");return eu.getData(this.parent.parent)}setContainerWidth(e){this.state.$data&&this.state.$data.setContainerWidth&&this.state.$data.setContainerWidth(e)}isDataReadyToDisplay(){const e=this.getSourceData();return!e.isDataReadyToDisplay||e.isDataReadyToDisplay()}reprocessTransformations(){this.transform(this.getSourceData().state.data,!0)}cancelQuery(){var e,t;null==(t=(e=this.getSourceData()).cancelQuery)||t.call(e)}getResultsStream(){return this._results}clone(e){const t=super.clone(e);return this._prevDataFromSource&&(t._prevDataFromSource=this._prevDataFromSource),t}haveAlreadyTransformedData(e){if(!this._prevDataFromSource)return!1;if(e===this._prevDataFromSource)return!0;const{series:t,annotations:n}=this._prevDataFromSource;return e.series===t&&e.annotations===n&&(this.state.data&&e.state!==this.state.data.state&&this.setState({data:{...this.state.data,state:e.state}}),!0)}transform(e,t=!1){var n;if(0===this.state.transformations.length||!e)return this._prevDataFromSource=e,this.setState({data:e}),void(e&&this._results.next({origin:this,data:e}));if(!t&&this.haveAlreadyTransformedData(e))return;let r=this._interpolateVariablesInTransformationConfigs(e);const a=r.filter(e=>!("options"in e)&&!("topic"in e)||(null==e.topic||e.topic===i.DataTopic.Series)).map(e=>"operator"in e?e.operator:e),o=r.filter(e=>("options"in e||"topic"in e)&&e.topic===i.DataTopic.Annotations).map(e=>"operator"in e?e.operator:e);this._transformSub&&this._transformSub.unsubscribe();const l={interpolate:t=>{var n;return eu.interpolate(this,t,null==(n=e.request)?void 0:n.scopedVars)}};let u=[(0,i.transformDataFrame)(a,e.series,l)];e.annotations&&e.annotations.length>0&&o.length>0&&u.push((0,i.transformDataFrame)(o,null!=(n=e.annotations)?n:[])),this._transformSub=(0,p.forkJoin)(u).pipe((0,p.map)(t=>{const n=t[0],r=t[1];return{...e,series:n,annotations:null!=r?r:e.annotations}}),(0,p.catchError)(t=>{var n;console.error("Error transforming data: ",t);const r=(null==(n=this.getSourceData().state.data)?void 0:n.errors)||[],a=(0,s.toDataQueryError)(t);a.message=`Error transforming data: ${a.message}`;const o={...e,state:i.LoadingState.Error,errors:[...r,a]};return(0,p.of)(o)})).subscribe(t=>{this.setState({data:t}),this._results.next({origin:this,data:t}),this._prevDataFromSource=e})}_interpolateVariablesInTransformationConfigs(e){var t;const n=this.state.transformations;if(0===this._variableDependency.getNames().size)return n;const r=n.every(e=>"object"==typeof e);return r?JSON.parse(eu.interpolate(this,JSON.stringify(n),null==(t=e.request)?void 0:t.scopedVars)):n.map(t=>{var n;return"object"==typeof t?JSON.parse(eu.interpolate(this,JSON.stringify(t),null==(n=e.request)?void 0:n.scopedVars)):t})}}class Fc extends _{}function Xc({variable:e,layout:t,showAlways:n,hideLabel:r}){return C(e,{shouldActivateOrKeepAlive:!0}).hide!==i.VariableHide.hideVariable||n?"vertical"===t?h().createElement("div",{className:qc,"data-testid":Xn.pages.Dashboard.SubMenu.submenuItem},h().createElement(Uc,{variable:e,layout:t,hideLabel:r}),h().createElement(e.Component,{model:e})):h().createElement("div",{className:Bc,"data-testid":Xn.pages.Dashboard.SubMenu.submenuItem},h().createElement(Uc,{variable:e,hideLabel:r}),h().createElement(e.Component,{model:e})):e.UNSAFE_renderAsHidden?h().createElement(e.Component,{model:e}):null}function Uc({variable:e,layout:t,hideLabel:n}){var r;const{state:a}=e;if(e.state.hide===i.VariableHide.hideLabel||n)return null;const s=`var-${a.key}`,o=a.label||a.name;return h().createElement(yr,{htmlFor:s,isLoading:a.loading,onCancel:()=>{var t;return null==(t=e.onCancel)?void 0:t.call(e)},label:o,error:a.error,layout:t,description:null!=(r=a.description)?r:void 0})}Fc.Component=function({model:e}){const t=eu.getVariables(e).useState();return h().createElement(h().Fragment,null,t.variables.map(t=>h().createElement(Xc,{key:t.state.key,variable:t,layout:e.state.layout})))};const Bc=(0,Un.css)({display:"flex","> :nth-child(2)":(0,Un.css)({borderTopLeftRadius:0,borderBottomLeftRadius:0})}),qc=(0,Un.css)({display:"flex",flexDirection:"column"});(class extends _{}).Component=function({model:e}){const t=eu.lookupVariable(e.state.variableName,e);if(!t)return null;return h().createElement(Xc,{key:t.state.key,variable:t,layout:e.state.layout,showAlways:!0})};class Wc extends _{constructor(e){super(e),this._variablesToUpdate=new Set,this._updating=new Map,this._variableValueRecorder=new Pn,this._variableDependency=new Gc(this._handleParentVariableUpdatesCompleted.bind(this)),this._onActivate=()=>{const e=eu.getTimeRange(this);this._subs.add(this.subscribeToEvent(ae,e=>this._handleVariableValueChanged(e.payload))),this._subs.add(e.subscribeToState(()=>{this._refreshTimeRangeBasedVariables()})),this._subs.add(this.subscribeToState(this._onStateChanged)),this._checkForVariablesThatChangedWhileInactive();for(const e of this.state.variables)this._variableNeedsUpdate(e)&&this._variablesToUpdate.add(e);return this._updateNextBatch(),this._onDeactivate},this._onDeactivate=()=>{var e;for(const t of this._updating.values())null==(e=t.subscription)||e.unsubscribe();for(const e of this.state.variables)this._variablesToUpdate.has(e)||this._updating.has(e)||this._variableValueRecorder.recordCurrentValue(e);this._variablesToUpdate.clear(),this._updating.clear()},this._onStateChanged=(e,t)=>{const n=this._variablesToUpdate.size;for(const n of t.variables)if(!e.variables.includes(n)){const e=this._updating.get(n);(null==e?void 0:e.subscription)&&e.subscription.unsubscribe(),this._updating.delete(n),this._variablesToUpdate.delete(n)}for(const n of e.variables)t.variables.includes(n)||this._variableNeedsUpdate(n)&&this._variablesToUpdate.add(n);0===n&&this._variablesToUpdate.size>0&&this._updateNextBatch()},this.addActivationHandler(this._onActivate)}getByName(e){return this.state.variables.find(t=>t.state.name===e)}_refreshTimeRangeBasedVariables(){for(const e of this.state.variables)"refresh"in e.state&&e.state.refresh===i.VariableRefresh.onTimeRangeChanged&&this._variablesToUpdate.add(e);this._updateNextBatch()}_checkForVariablesThatChangedWhileInactive(){if(this._variableValueRecorder.hasValues())for(const e of this.state.variables)this._variableValueRecorder.hasValueChanged(e)&&(Hc(e,"Changed while in-active"),this._addDependentVariablesToUpdateQueue(e))}_variableNeedsUpdate(e){return!e.isLazy&&(!!e.validateAndUpdate&&(!this._variableValueRecorder.hasRecordedValue(e)||(Hc(e,"Skipping updateAndValidate current value valid"),!1)))}_updateNextBatch(){for(const e of this._variablesToUpdate){if(!e.validateAndUpdate){console.error("Variable added to variablesToUpdate but does not have validateAndUpdate");continue}if(this._updating.has(e))continue;if(eu.hasVariableDependencyInLoadingState(e))continue;const t={variable:e};this._updating.set(e,t),Hc(e,"updateAndValidate started"),t.subscription=e.validateAndUpdate().subscribe({next:()=>this._validateAndUpdateCompleted(e),complete:()=>this._validateAndUpdateCompleted(e),error:t=>this._handleVariableError(e,t)})}}_validateAndUpdateCompleted(e){var t;if(!this._updating.has(e))return;const n=this._updating.get(e);null==(t=null==n?void 0:n.subscription)||t.unsubscribe(),this._updating.delete(e),this._variablesToUpdate.delete(e),Hc(e,"updateAndValidate completed"),this._notifyDependentSceneObjects(e),this._updateNextBatch()}cancel(e){var t;const n=this._updating.get(e);null==(t=null==n?void 0:n.subscription)||t.unsubscribe(),this._updating.delete(e),this._variablesToUpdate.delete(e)}_handleVariableError(e,t){var n;const r=this._updating.get(e);null==(n=null==r?void 0:r.subscription)||n.unsubscribe(),this._updating.delete(e),this._variablesToUpdate.delete(e),e.setState({loading:!1,error:t.message}),console.error("SceneVariableSet updateAndValidate error",t),Hc(e,"updateAndValidate error",t),this._notifyDependentSceneObjects(e),this._updateNextBatch()}_handleVariableValueChanged(e){this._addDependentVariablesToUpdateQueue(e),this._updating.has(e)||(this._updateNextBatch(),this._notifyDependentSceneObjects(e))}_handleParentVariableUpdatesCompleted(e,t){t&&this._addDependentVariablesToUpdateQueue(e),this._variablesToUpdate.size>0&&0===this._updating.size&&this._updateNextBatch()}_addDependentVariablesToUpdateQueue(e){for(const t of this.state.variables)t.variableDependency&&t.variableDependency.hasDependencyOn(e.state.name)&&(Hc(t,"Added to update queue, dependant variable value changed"),this._updating.has(t)&&t.onCancel&&t.onCancel(),t.validateAndUpdate&&this._variablesToUpdate.add(t),t.variableDependency.variableUpdateCompleted(e,!0))}_notifyDependentSceneObjects(e){this.parent&&this._traverseSceneAndNotify(this.parent,e,!0)}_traverseSceneAndNotify(e,t,n){if(this!==e&&e.isActive){if(e.state.$variables&&e.state.$variables!==this){const n=e.state.$variables.getByName(t.state.name);if(null==n?void 0:n.isAncestorLoading)t=n;else if(n)return}e.variableDependency&&e.variableDependency.variableUpdateCompleted(t,n),e.forEachChild(e=>this._traverseSceneAndNotify(e,t,n))}}isVariableLoadingOrWaitingToUpdate(e){return!!e.state.loading||(!(!e.isAncestorLoading||!e.isAncestorLoading())||(!(!this._variablesToUpdate.has(e)&&!this._updating.has(e))||eu.hasVariableDependencyInLoadingState(e)))}}function Hc(e,t,n){V(0,e.state.name)}class Gc{constructor(e){this._variableUpdatesCompleted=e,this._emptySet=new Set}getNames(){return this._emptySet}hasDependencyOn(e){return!1}variableUpdateCompleted(e,t){this._variableUpdatesCompleted(e,t)}}class Yc extends hn{constructor(e){super({type:"custom",query:"",value:"",text:"",options:[],name:"",...e}),this._variableDependency=new kl(this,{statePaths:["query"]})}getValueOptions(e){var t;const n=(null!=(t=eu.interpolate(this,this.state.query).match(/(?:\\,|[^,])+/g))?t:[]).map(e=>{var t;e=e.replace(/\\,/g,",");const n=null!=(t=/^(.+)\s:\s(.+)$/g.exec(e))?t:[];if(3===n.length){const[,e,t]=n;return{label:e.trim(),value:t.trim()}}return{label:e.trim(),value:e.trim()}});return n.length||(this.skipNextValidation=!0),(0,p.of)(n)}}Yc.Component=({model:e})=>h().createElement(ar,{model:e});class Zc extends hn{constructor(e){super({type:"datasource",value:"",text:"",options:[],name:"",regex:"",pluginId:"",...e}),this._variableDependency=new kl(this,{statePaths:["regex"]})}getValueOptions(e){if(!this.state.pluginId)return(0,p.of)([]);const t=(0,s.getDataSourceSrv)().getList({metrics:!0,variables:!1,pluginId:this.state.pluginId});let n;if(this.state.regex){const e=eu.interpolate(this,this.state.regex,void 0,"regex");n=(0,i.stringToJsRegex)(e)}const r=[];for(let e=0;e<t.length;e++){const a=t[e];Kc(a,n)&&r.push({label:a.name,value:a.uid}),this.state.defaultOptionEnabled&&Jc(a,n)&&r.push({label:Xt("grafana-scenes.variables.data-source-variable.label.default","default"),value:"default"})}return 0===r.length?this.setState({error:"No data sources found"}):this.state.error&&this.setState({error:null}),(0,p.of)(r)}}function Kc(e,t){return!t||t.exec(e.name)}function Jc(e,t){return!!e.isDefault&&(!t||t.exec("default"))}function ed(e,t){const n=["A","B","C","D","E","F","G","H"],r=[];if(t>5)return[];for(const a of n){const n=`${e}${a}`;r.push({name:n,children:ed(n,t+1)})}return r}function td(e,t,n){if(n>=t.length)return e;if("*"===t[n])return e;const r=t[n];let a=[],i=[r];r.startsWith("{")&&(i=r.replace(/\{|\}/g,"").split(","));for(const r of e)for(const e of i)if(-1!==e.indexOf("*")){const i=e.replace("*","");new RegExp(`^${i}.*`,"gi").test(r.name)&&(a=a.concat(td([r],t,n+1)))}else r.name===e&&(a=a.concat(td(r.children,t,n+1)));return a}function nd(e){if(0===e.indexOf("value"))return[{name:e,children:[]}];return td(ed("",0),e.split("."),0)}Zc.Component=({model:e})=>h().createElement(ar,{model:e});function rd({model:e}){const{value:t,key:n,loading:r}=e.useState(),a=(0,c.useCallback)(t=>{e.setValue(t.currentTarget.value)},[e]),i=(0,c.useCallback)(t=>{"Enter"===t.key&&e.setValue(t.currentTarget.value)},[e]);return h().createElement(In.AutoSizeInput,{id:n,placeholder:Xt("grafana-scenes.variables.variable-value-input.placeholder-enter-value","Enter value"),minWidth:15,maxWidth:30,value:t,loading:r,onBlur:a,onKeyDown:i})}(class extends hn{constructor(e,t=!1){super({type:"custom",name:"Test",value:"Value",text:Xt("grafana-scenes.variables.test-variable.text.text","Text"),query:"Query",options:[],refresh:i.VariableRefresh.onDashboardLoad,updateOptions:!0,...e}),this.completeUpdate=new p.Subject,this.isGettingValues=!0,this.getValueOptionsCount=0,this.isLazy=!1,this._variableDependency=new kl(this,{statePaths:["query"]}),this.isLazy=t}getValueOptions(e){const{delayMs:t}=this.state;this.getValueOptionsCount+=1;const n=eu.getQueryController(this);return new p.Observable(e=>{const r={type:"variable",origin:this,cancel:()=>e.complete()};if(n&&n.queryStarted(r),this.setState({loading:!0}),this.state.throwError)throw new Error(this.state.throwError);const a=eu.interpolate(this,this.state.query),i=this.getOptions(a),s=this.completeUpdate.subscribe({next:()=>{const t={issuedQuery:a,loading:!1};this.state.updateOptions&&(t.options=i),this.setState(t),e.next(i),e.complete()}});let o;return t?o=window.setTimeout(()=>this.signalUpdateCompleted(),t):0===t&&this.signalUpdateCompleted(),this.isGettingValues=!0,()=>{s.unsubscribe(),window.clearTimeout(o),this.isGettingValues=!1,this.state.loading&&this.setState({loading:!1}),n&&n.queryCompleted(r)}})}cancel(){const e=q(this,e=>e instanceof Wc?e:void 0);null==e||e.cancel(this)}getOptions(e){return this.state.optionsToReturn?this.state.optionsToReturn:nd(e).map(e=>({label:e.name,value:e.name}))}signalUpdateCompleted(){this.completeUpdate.next(1)}}).Component=({model:e})=>h().createElement(ar,{model:e});(class extends _{constructor(e){super({type:"textbox",value:"",name:"",...e}),this._urlSync=new B(this,{keys:()=>this.getKeys()})}getValue(){return this.state.value}setValue(e){e!==this.state.value&&(this.setState({value:e}),this.publishEvent(new ae(this),!0))}getKey(){return`var-${this.state.name}`}getKeys(){return this.state.skipUrlSync?[]:[this.getKey()]}getUrlState(){return this.state.skipUrlSync?{}:{[this.getKey()]:this.state.value}}updateFromUrl(e){const t=e[this.getKey()];"string"==typeof t&&this.setValue(t)}}).Component=({model:e})=>h().createElement(rd,{model:e});(class extends _{constructor(e){super({type:"interval",value:"",intervals:["1m","10m","30m","1h","6h","12h","1d","7d","14d","30d"],name:"",autoStepCount:30,autoMinInterval:"10s",autoEnabled:!1,refresh:lu.CO.onTimeRangeChanged,...e}),this._onChange=e=>{this.setState({value:e.value}),this.publishEvent(new ae(this),!0)},this._urlSync=new B(this,{keys:()=>[this.getKey()]})}getKey(){return`var-${this.state.name}`}getUrlState(){return{[this.getKey()]:this.state.value}}updateFromUrl(e){const t={},n=e[this.getKey()];"string"==typeof n&&(n.startsWith("$__auto_interval_")?t.value=nn:t.value=n),this.setState(t)}getOptionsForSelect(){const{value:e,intervals:t,autoEnabled:n}=this.state;let r=t.map(e=>({value:e,label:e}));return n&&(r=[{value:nn,label:"Auto"},...r]),e&&!r.some(t=>t.value===e)&&r.push({value:e,label:e}),r}getValue(){const{value:e,autoStepCount:t,autoMinInterval:n}=this.state;return e===nn?this.getAutoRefreshInteval(t,n):e}getAutoRefreshInteval(e,t){const n=eu.getTimeRange(this).state.value;return i.rangeUtil.calculateInterval(n,e,t).interval}validateAndUpdate(){const{value:e,intervals:t}=this.state;let n=!1;if(e===nn)n=!0;else if(!e&&t.length>0){const e=t[0];this.setState({value:e}),n=!0}return n&&this.publishEvent(new ae(this),!0),(0,p.of)({})}}).Component=({model:e})=>{const{key:t,value:n}=e.useState();return h().createElement(In.Select,{id:t,placeholder:Xt("grafana-scenes.variables.interval-variable.placeholder-select-value","Select value"),width:"auto",value:n,tabSelectsValue:!1,options:e.getOptionsForSelect(),onChange:e._onChange})};var ad,id,sd=e=>{throw TypeError(e)},od=(e,t,n)=>t.has(e)||sd("Cannot "+n),ld=(e,t,n)=>(od(e,t,"read from private field"),n?n.call(e):t.get(e)),ud=(e,t,n)=>t.has(e)?sd("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),cd=(e,t,n,r)=>(od(e,t,"write to private field"),t.set(e,n),n);class dd extends i.BusEventWithPayload{}dd.type="new-scene-object-added";class hd{constructor(e={},t=s.locationService){this._options=e,this._locationService=t,this._paramsCache=new pd(t),this._urlKeyMapper=new nu({namespace:e.namespace,excludeFromNamespace:e.excludeFromNamespace})}initSync(e){var t;if(this._subs&&(V(0,0,null==(t=this._sceneRoot)||t.state.key),this._subs.unsubscribe()),V(0,0,e.state.key),this._sceneRoot=e,this._subs=new p.Subscription,this._subs.add(e.subscribeToEvent(S,e=>{this.handleSceneObjectStateChanged(e.payload.changedObject)})),this._subs.add(e.subscribeToEvent(dd,e=>{this.handleNewObject(e.payload)})),this._urlKeyMapper.clear(),this._lastLocation=this._locationService.getLocation(),this.handleNewObject(this._sceneRoot),this._options.updateUrlOnInit){const t=au(e,this._urlKeyMapper.getOptions());(function(e,t){for(let n in e)if(!ou(t.getAll(n),e[n]))return!0;return!1})(t,this._paramsCache.getParams())&&this._locationService.partial(t,!0)}}cleanUp(e){this._sceneRoot===e&&(V(),this._subs&&(this._subs.unsubscribe(),this._subs=void 0,V(0,0,(this._sceneRoot.state.key,e.state.key))),this._sceneRoot=void 0,this._lastLocation=void 0)}handleNewLocation(e){this._sceneRoot&&this._lastLocation!==e&&(V(),this._lastLocation=e,iu(this._sceneRoot,this._paramsCache.getParams(),this._urlKeyMapper))}handleNewObject(e){this._sceneRoot&&iu(e,this._paramsCache.getParams(),this._urlKeyMapper)}handleSceneObjectStateChanged(e){var t,n;if(!e.urlSync)return;const r=e.urlSync.getUrlState(),a=this._locationService.getSearch(),i={};for(const[t,n]of Object.entries(r)){const r=this._urlKeyMapper.getUniqueKey(t,e);ou(a.getAll(r),n)||(i[r]=n)}if(Object.keys(i).length>0){const a=!0!==(null==(n=(t=e.urlSync).shouldCreateHistoryStep)?void 0:n.call(t,r));V(),this._locationService.partial(i,a),this._lastLocation=this._locationService.getLocation()}}getUrlState(e){return au(e,this._urlKeyMapper.getOptions())}}class pd{constructor(e){this.locationService=e,ud(this,ad),ud(this,id)}getParams(){const e=this.locationService.getLocation();return ld(this,id)===e||(cd(this,id,e),cd(this,ad,new URLSearchParams(e.search))),ld(this,ad)}}function fd(e,t={}){const n=(0,a.useLocation)(),r=dn(),[i,s]=(0,c.useState)(!1),o=function(e,t){return(0,c.useMemo)(()=>new hd({updateUrlOnInit:e.updateUrlOnInit,createBrowserHistorySteps:e.createBrowserHistorySteps,namespace:e.namespace,excludeFromNamespace:e.excludeFromNamespace},t),[e.updateUrlOnInit,e.createBrowserHistorySteps,e.namespace,e.excludeFromNamespace,t])}(t,r);return(0,c.useEffect)(()=>(o.initSync(e),s(!0),()=>o.cleanUp(e)),[e,o]),(0,c.useEffect)(()=>{const e=r.getLocation(),t=e!==n?e:n;e!==n&&V(),o.handleNewLocation(t)},[e,o,n,r]),i}function gd({children:e,scene:t,updateUrlOnInit:n,createBrowserHistorySteps:r,namespace:a,excludeFromNamespace:i}){return fd(t,{updateUrlOnInit:n,createBrowserHistorySteps:r,namespace:a,excludeFromNamespace:i})?e:null}ad=new WeakMap,id=new WeakMap;class md extends _{constructor(e){super(e),this.addActivationHandler(()=>{const e=function(e){const t=window.__grafanaSceneContext;return V(),window.__grafanaSceneContext=e,()=>{window.__grafanaSceneContext===e&&(V(),window.__grafanaSceneContext=t)}}(this);return()=>{e()}})}}md.Component=function({model:e}){const{body:t,controls:n}=e.useState(),r=(0,In.useStyles2)(vd);return h().createElement("div",{className:r.container},n&&h().createElement("div",{className:r.controls},n.map(e=>h().createElement(e.Component,{key:e.state.key,model:e}))),h().createElement("div",{className:r.body},h().createElement(t.Component,{model:t})))};const vd=e=>({container:(0,Un.css)({flexGrow:1,display:"flex",gap:e.spacing(2),minHeight:"100%",flexDirection:"column"}),body:(0,Un.css)({flexGrow:1,display:"flex",gap:e.spacing(1)}),controls:(0,Un.css)({display:"flex",gap:e.spacing(2),alignItems:"flex-end",flexWrap:"wrap"})});class bd extends _{addItem(e){this.setState({items:this.state.items?[...this.state.items,e]:[e]})}setItems(e){this.setState({items:e})}}function yd(e,t,n){void 0===t&&(t=[]),void 0===n&&(n={loading:!1});var r=(0,c.useRef)(0),a=function(){var e=(0,c.useRef)(!1),t=(0,c.useCallback)(function(){return e.current},[]);return(0,c.useEffect)(function(){return e.current=!0,function(){e.current=!1}},[]),t}(),i=(0,c.useState)(n),s=i[0],o=i[1],l=(0,c.useCallback)(function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i=++r.current;return s.loading||o(function(e){return Xu(Xu({},e),{loading:!0})}),e.apply(void 0,t).then(function(e){return a()&&i===r.current&&o({value:e,loading:!1}),e},function(e){return a()&&i===r.current&&o({error:e,loading:!1}),e})},t);return[s,l]}async function Od(e,t,n,r){var a,i,o,l;const u=null==(a=e.request)?void 0:a.targets;if(!u)return"";const{from:c,to:d}=n,h=null==(i=e.request)?void 0:i.filters,p={__sceneObject:hr(t)},f=(await Promise.allSettled(u.map(async e=>{var t;const n=await(0,s.getDataSourceSrv)().get(e.datasource);return(null==(t=n.interpolateVariablesInQueries)?void 0:t.call(n,[e],null!=p?p:{},h)[0])||e}))).filter(e=>"fulfilled"===e.status).map(e=>e.value).map(e=>{var t;return null!=(t=null==r?void 0:r(e))?t:e}),g=null!=f?f:[];let m=new Set(g.map(e=>{var t;return null==(t=e.datasource)?void 0:t.uid})).size>1?"-- Mixed --":null==(l=null==(o=g.find(e=>{var t;return!!(null==(t=e.datasource)?void 0:t.uid)}))?void 0:o.datasource)?void 0:l.uid;if((null==g?void 0:g.length)&&m&&c&&d){return`/explore?left=${encodeURIComponent(JSON.stringify({datasource:m,queries:g,range:{from:c,to:d}}))}`}return""}bd.Component=function({model:e}){const{items:t=[]}=e.useState(),n=h().useRef(null);(0,c.useEffect)(()=>{n.current&&n.current.focus()},[]);const r=e=>e.map(e=>{switch(e.type){case"divider":return h().createElement(In.Menu.Divider,{key:e.text});case"group":return h().createElement(In.Menu.Group,{key:e.text,label:e.text},e.subMenu?r(e.subMenu):void 0);default:return h().createElement(In.Menu.Item,{key:e.text,label:e.text,icon:e.iconClassName,childItems:e.subMenu?r(e.subMenu):void 0,url:e.href,onClick:e.onClick,shortcut:e.shortcut,testId:Xn.components.Panels.Panel.menuItems(e.text)})}});return h().createElement(In.Menu,{ref:n},r(t))};(class extends _{constructor(e={}){super({options:e})}}).Component=function({model:e}){const{options:t}=e.useState(),{data:n}=eu.getData(e).useState(),{from:r,to:a}=eu.getTimeRange(e).useState(),{value:i}=function(e,t){void 0===t&&(t=[]);var n=yd(e,t,{loading:!0}),r=n[0],a=n[1];return(0,c.useEffect)(function(){a()},[a]),r}(async()=>n?Od(n,e,{from:r,to:a},t.transform):"",[n,e,r,a]),o=(0,s.useReturnToPrevious)();if(i)return h().createElement(In.LinkButton,{key:"explore",icon:"compass",size:"sm",variant:"secondary",href:i,onClick:()=>{var e;t.returnToPrevious&&o(t.returnToPrevious.title,t.returnToPrevious.href),null==(e=t.onClick)||e.call(t)}},h().createElement(Ut,{i18nKey:"grafana-scenes.components.viz-panel-explore-button.explore"},"Explore"));return null};function wd(e){return e instanceof Vd}(class extends _{}).Component=function({model:e}){const{body:t}=e.useState(),n=e.parent;if(n&&(r=n,!(r instanceof Id))&&!wd(n))throw new Error("SceneGridItem must be a child of SceneGridLayout or SceneGridRow");var r;if(!t)return null;return h().createElement(t.Component,{model:t})};var xd=n(2548),Sd=n.n(xd);const $d=function(e){(0,c.useEffect)(e,[])};function Rd(){const e=(0,c.useRef)(void 0);return null!=e.current||(e.current=(0,D.uniqueId)()),e.current}const Pd=h().forwardRef(({children:e,onLoad:t,onChange:n,className:r,...a},i)=>{const s=Rd(),{hideEmpty:o}=(0,In.useStyles2)(Ed),[l,u]=(0,c.useState)(!1),[d,p]=(0,c.useState)(!1),f=(0,c.useRef)(null);return(0,c.useImperativeHandle)(i,()=>f.current),$d(()=>{Pd.addCallback(s,e=>{!l&&e.isIntersecting&&(u(!0),null==t||t()),p(e.isIntersecting),null==n||n(e.isIntersecting)});const e=f.current;return e&&Pd.observer.observe(e),()=>{e&&Pd.observer.unobserve(e),delete Pd.callbacks[s],0===Object.keys(Pd.callbacks).length&&Pd.observer.disconnect()}}),h().createElement("div",{id:s,ref:f,className:`${o} ${r}`,...a},!l&&" ",l&&("function"==typeof e?e({isInView:d}):e))});function Ed(){return{hideEmpty:(0,Un.css)({"&:empty":{display:"none"}})}}Pd.displayName="LazyLoader",Pd.callbacks={},Pd.addCallback=(e,t)=>Pd.callbacks[e]=t,Pd.observer=new IntersectionObserver(e=>{for(const t of e)"function"==typeof Pd.callbacks[t.target.id]&&Pd.callbacks[t.target.id](t)},{rootMargin:"100px"});const kd=h().forwardRef((e,t)=>{var n;const{grid:r,layoutItem:a,index:i,totalCount:s,isLazy:o,style:l,onLoad:u,onChange:c,children:d,...p}=e,f=r.getSceneLayoutChild(a.i),g=null==(n=f.getClassName)?void 0:n.call(f),m=h().createElement(f.Component,{model:f,key:f.state.key});return o?h().createElement(Pd,{...p,key:f.state.key,"data-griditem-key":f.state.key,className:(0,Un.cx)(g,e.className),style:l,ref:t},m,d):h().createElement("div",{...p,ref:t,key:f.state.key,"data-griditem-key":f.state.key,className:(0,Un.cx)(g,e.className),style:l},m,d)});function _d(e,t,n){e.current?t?e.current.classList.add("react-grid-layout--enable-move-animations"):e.current.classList.remove("react-grid-layout--enable-move-animations"):n||setTimeout(()=>_d(e,t,!0),50)}kd.displayName="GridItemWrapper";const Cd=h().forwardRef(({handleAxis:e,...t},n)=>{const r=(0,In.useStyles2)(Td);return h().createElement("div",{ref:n,...t,className:`${r} scene-resize-handle`},h().createElement("svg",{width:"16px",height:"16px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},h().createElement("path",{d:"M21 15L15 21M21 8L8 21",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})))});function Td(e){return(0,Un.css)({position:"absolute",bottom:0,right:0,zIndex:999,padding:e.spacing(1.5,0,0,1.5),color:e.colors.border.strong,cursor:"se-resize","&:hover":{color:e.colors.text.link},svg:{display:"block"},".react-resizable-hide &":{display:"none"}})}Cd.displayName="ResizeHandle";class Dd extends i.BusEventWithPayload{}Dd.type="scene-grid-layout-drag-start";const Ad=class e extends _{constructor(e){super({...e,children:Qd(e.children)}),this._skipOnLayoutChange=!1,this._oldLayout=[],this._loadOldLayout=!1,this.onLayoutChange=e=>{if(this._skipOnLayoutChange)this._skipOnLayoutChange=!1;else{this._loadOldLayout&&(e=[...this._oldLayout],this._loadOldLayout=!1);for(const t of e){const e=this.getSceneLayoutChild(t.i),n={x:t.x,y:t.y,width:t.w,height:t.h};Ld(e.state,n)||e.setState({...n})}this.setState({children:Qd(this.state.children)})}},this.onResizeStop=(e,t,n)=>{this.getSceneLayoutChild(n.i).setState({width:n.w,height:n.h})},this.onDragStart=e=>{this._oldLayout=[...e]},this.onDragStop=(e,t,n)=>{const r=this.getSceneLayoutChild(n.i);e=Nd(e);for(let t=0;t<e.length;t++){const n=e[t],r=this.getSceneLayoutChild(n.i),a=r.state;(null==a?void 0:a.x)===n.x&&(null==a?void 0:a.y)===n.y||r.setState({x:n.x,y:n.y})}const a=e.findIndex(e=>e.i===n.i);let i=this.findGridItemSceneParent(e,a-1),s=this.state.children;r instanceof Vd&&i instanceof Vd&&(this.isRowDropValid(e,n,a)||(this._loadOldLayout=!0),i=this),i!==r.parent&&(s=this.moveChildTo(r,i)),this.setState({children:Qd(s)}),this._skipOnLayoutChange=!0}}isDraggable(){var e;return null!=(e=this.state.isDraggable)&&e}getDragClass(){return`grid-drag-handle-${this.state.key}`}getDragClassCancel(){return"grid-drag-cancel"}getDragHooks(){return{onDragStart:(e,t)=>{this.publishEvent(new Dd({evt:e,panel:t}),!0)}}}toggleRow(e){var t,n;if(!e.state.isCollapsed)return e.setState({isCollapsed:!0}),void this.setState({});const r=e.state.children;if(0===r.length)return e.setState({isCollapsed:!1}),void this.setState({});const a=e.state.y,i=(null!=(t=r[0].state.y)?t:a)-(a+1);let s=a;for(const e of r){const t={...e.state};t.y=null!=(n=t.y)?n:a,t.y-=i,t.y!==e.state.y&&e.setState(t),s=Math.max(s,Number(t.y)+Number(t.height))}const o=s-a-1;for(const t of this.state.children)if(t.state.y>a&&this.pushChildDown(t,o),wd(t)&&t!==e)for(const e of t.state.children)e.state.y>a&&this.pushChildDown(e,o);e.setState({isCollapsed:!1}),this.setState({})}ignoreLayoutChange(e){this._skipOnLayoutChange=e}getSceneLayoutChild(e){for(const t of this.state.children){if(t.state.key===e)return t;if(t instanceof Vd)for(const n of t.state.children)if(n.state.key===e)return n}throw new Error("Scene layout child not found for GridItem")}pushChildDown(e,t){e.setState({y:e.state.y+t})}findGridItemSceneParent(e,t){for(let n=t;n>=0;n--){const t=e[n],r=this.getSceneLayoutChild(t.i);if(r instanceof Vd)return r.state.isCollapsed?this:r}return this}isRowDropValid(t,n,r){if(t[t.length-1].i===n.i)return!0;const a=this.getSceneLayoutChild(t[r+1].i);return a instanceof Vd||a.parent instanceof e}moveChildTo(t,n){const r=t.parent;let a=this.state.children;const i=t.clone({key:t.state.key});if(r instanceof Vd){const e=r.clone();if(e.setState({children:e.state.children.filter(e=>e.state.key!==t.state.key)}),a=a.map(t=>t===r?e:t),n instanceof Vd){const e=n.clone();e.setState({children:[...e.state.children,i]}),a=a.map(t=>t===n?e:t)}else a=[...a,i]}else if(!(n instanceof e)){a=a.filter(e=>e.state.key!==t.state.key);const e=n.clone();e.setState({children:[...e.state.children,i]}),a=a.map(t=>t===n?e:t)}return a}toGridCell(e){var t,n;const r=e.state;let a=null!=(t=r.x)?t:0,i=null!=(n=r.y)?n:0;const s=Number.isInteger(Number(r.width))?Number(r.width):4,o=Number.isInteger(Number(r.height))?Number(r.height):4;let l=e.state.isDraggable,u=e.state.isResizable;return e instanceof Vd&&(l=!!e.state.isCollapsed,u=!1),{i:e.state.key,x:a,y:i,h:o,w:s,isResizable:u,isDraggable:l}}buildGridLayout(e,t){let n=[];for(const e of this.state.children)if(n.push(this.toGridCell(e)),e instanceof Vd&&!e.state.isCollapsed)for(const t of e.state.children)n.push(this.toGridCell(t));return n=Nd(n),this.state.UNSAFE_fitPanels&&(n=function(e,t){const n=t-32,r=Math.max(...e.map(e=>e.h+e.y))/Math.floor(n/38);return e.map(e=>({...e,y:Math.round(e.y/r)||0,h:Math.round(e.h/r)||1}))}(n,t)),e<768?(this._skipOnLayoutChange=!0,n.map(e=>({...e,w:24}))):(this._skipOnLayoutChange=!1,n)}};Ad.Component=function({model:e}){const{children:t,isLazy:n,isDraggable:r,isResizable:a}=e.useState(),[i,{width:s,height:o}]=gu(),l=(0,c.useRef)(null);return(0,c.useEffect)(()=>{_d(l,!!r)},[r]),function(e){if(e.some(e=>void 0===e.state.height||void 0===e.state.width||void 0===e.state.x||void 0===e.state.y))throw new Error("All children must have a size specified")}(t),h().createElement("div",{ref:i,style:{flex:"1 1 auto",position:"relative",zIndex:1,width:"100%"}},((t,i)=>{if(!t||!i)return null;const s=e.buildGridLayout(t,i);return h().createElement("div",{ref:l,style:{width:`${t}px`,height:"100%"},className:"react-grid-layout"},h().createElement(Sd(),{width:t,isDraggable:r&&t>768,isResizable:null!=a&&a,containerPadding:[0,0],useCSSTransforms:!0,margin:[8,8],cols:24,rowHeight:30,draggableHandle:`.grid-drag-handle-${e.state.key}`,draggableCancel:".grid-drag-cancel",layout:s,onDragStart:e.onDragStart,onDragStop:e.onDragStop,onResizeStop:e.onResizeStop,onLayoutChange:e.onLayoutChange,isBounded:!1,resizeHandle:h().createElement(Cd,null)},s.map((t,r)=>h().createElement(kd,{key:t.i,grid:e,layoutItem:t,index:r,isLazy:n,totalCount:s.length}))))})(s,o))};let Id=Ad;function Ld(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Qd(e){return e.forEach(e=>{e instanceof Vd&&e.setState({children:Qd(e.state.children)})}),[...e].sort((e,t)=>e.state.y-t.state.y||e.state.x-t.state.x)}function Nd(e){return[...e].sort((e,t)=>e.y-t.y||e.x-t.x)}class Vd extends _{constructor(e){super({children:e.children||[],isCollapsible:e.isCollapsible||!0,title:e.title||"",...e,x:0,height:1,width:24}),this._variableDependency=new kl(this,{statePaths:["title"],handleTimeMacros:!0}),this.onCollapseToggle=()=>{this.state.isCollapsible&&this.getGridLayout().toggleRow(this)}}getGridLayout(){const e=this.parent;if(!(e&&e instanceof Id))throw new Error("SceneGridRow must be a child of SceneGridLayout");return e}getUrlState(){return{rowc:this.state.isCollapsed?"1":"0"}}updateFromUrl(e){null!=e.rowc&&e.rowc!==this.getUrlState().rowc&&this.onCollapseToggle()}}Vd.Component=function({model:e}){const t=(0,In.useStyles2)(zd),{isCollapsible:n,isCollapsed:r,title:a,actions:i,children:s}=e.useState(),o=e.getGridLayout(),l=o.getDragClass(),u=o.isDraggable(),c=s?s.length:0,d=1===c?"panel":"panels";return h().createElement("div",{className:(0,Un.cx)(t.row,r&&t.rowCollapsed)},h().createElement("div",{className:t.rowTitleAndActionsGroup},h().createElement("button",{onClick:e.onCollapseToggle,className:t.rowTitleButton,"aria-label":r?Xt("grafana-scenes.components.scene-grid-row.expand-row","Expand row"):Xt("grafana-scenes.components.scene-grid-row.collapse-row","Collapse row"),"data-testid":Xn.components.DashboardRow.title(eu.interpolate(e,a,void 0,"text"))},n&&h().createElement(In.Icon,{name:r?"angle-right":"angle-down"}),h().createElement("span",{className:t.rowTitle,role:"heading"},eu.interpolate(e,a,void 0,"text"))),h().createElement("span",{className:(0,Un.cx)(t.panelCount,r&&t.panelCountCollapsed)},"(",c," ",d,")"),i&&h().createElement("div",{className:t.rowActions},h().createElement(i.Component,{model:i}))),u&&r&&h().createElement("div",{className:(0,Un.cx)(t.dragHandle,l)},h().createElement(In.Icon,{name:"draggabledots"})))};const zd=e=>({row:(0,Un.css)({width:"100%",height:"30px",display:"flex",justifyContent:"space-between",gap:e.spacing(1)}),rowTitleButton:(0,Un.css)({display:"flex",alignItems:"center",cursor:"pointer",background:"transparent",border:"none",minWidth:0,gap:e.spacing(1)}),rowCollapsed:(0,Un.css)({borderBottom:`1px solid ${e.colors.border.weak}`}),rowTitle:(0,Un.css)({fontSize:e.typography.h5.fontSize,fontWeight:e.typography.fontWeightMedium,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%",flexGrow:1,minWidth:0}),collapsedInfo:(0,Un.css)({fontSize:e.typography.bodySmall.fontSize,color:e.colors.text.secondary,display:"flex",alignItems:"center",flexGrow:1}),rowTitleAndActionsGroup:(0,Un.css)({display:"flex",minWidth:0,"&:hover, &:focus-within":{"& > div":{opacity:1}}}),rowActions:(0,Un.css)({display:"flex",whiteSpace:"nowrap",opacity:0,transition:"200ms opacity ease-in 200ms","&:hover, &:focus-within":{opacity:1}}),dragHandle:(0,Un.css)({display:"flex",padding:e.spacing(0,1),alignItems:"center",justifyContent:"flex-end",cursor:"move",color:e.colors.text.secondary,"&:hover":{color:e.colors.text.primary}}),panelCount:(0,Un.css)({whiteSpace:"nowrap",paddingLeft:e.spacing(2),color:e.colors.text.secondary,fontStyle:"italic",fontSize:e.typography.size.sm,fontWeight:"normal",display:"none",lineHeight:"30px"}),panelCountCollapsed:(0,Un.css)({display:"inline-block"})});(class extends _{constructor(){super(...arguments),this.onToggle=()=>{this.setState({isCollapsed:!this.state.isCollapsed})},this.onRemove=()=>{const e=this.parent;"body"in e.state&&e.setState({body:void 0})}}}).Component=function({model:e}){const{title:t,isCollapsed:n,canCollapse:r,canRemove:a,body:i,controls:s}=e.useState(),o=(0,In.useStyles2)(zd),l=(0,In.useStyles2)(Md),u=(null!=s?s:[]).map(e=>h().createElement(e.Component,{key:e.state.key,model:e}));a&&u.push(h().createElement(In.ToolbarButton,{icon:"times",variant:"default",onClick:e.onRemove,key:"remove-button","aria-label":Xt("grafana-scenes.components.nested-scene-renderer.remove-button-label","Remove scene")}));return h().createElement("div",{className:l.wrapper},h().createElement("div",{className:(0,Un.cx)(l.row,n&&l.rowCollapsed)},h().createElement("button",{onClick:e.onToggle,className:o.rowTitleButton,"aria-label":n?Xt("grafana-scenes.components.nested-scene-renderer.expand-button-label","Expand scene"):Xt("grafana-scenes.components.nested-scene-renderer.collapse-button-label","Collapse scene")},r&&h().createElement(In.Icon,{name:n?"angle-right":"angle-down"}),h().createElement("span",{className:o.rowTitle,role:"heading"},eu.interpolate(e,t,void 0,"text"))),h().createElement("div",{className:l.actions},u)),!n&&h().createElement(i.Component,{model:i}))};const Md=e=>({wrapper:(0,Un.css)({display:"flex",flexDirection:"column",flexGrow:1,gap:e.spacing(1)}),row:(0,Un.css)({width:"100%",display:"flex",justifyContent:"space-between",gap:e.spacing(1)}),rowCollapsed:(0,Un.css)({borderBottom:`1px solid ${e.colors.border.weak}`,paddingBottom:e.spacing(1)}),actions:(0,Un.css)({display:"flex",alignItems:"center",gap:e.spacing(1),justifyContent:"flex-end",flexGrow:1})});(class extends _{constructor(){super(...arguments),this._variableDependency=new kl(this,{statePaths:["text"]})}}).Component=function({model:e}){const{text:t,fontSize:n=20,align:r="left",key:a,spacing:i}=e.useState(),s=(0,In.useTheme2)(),o=(0,Un.css)({fontSize:n,display:"flex",flexGrow:1,alignItems:"center",padding:i?s.spacing(i,0):void 0,justifyContent:r});return h().createElement("div",{className:o,"data-testid":a},eu.interpolate(e,t))};(class extends _{}).Component=({model:e})=>{const t=e.useState();return h().createElement(In.ToolbarButton,{onClick:t.onClick,icon:t.icon})};(class extends _{}).Component=({model:e})=>{const t=e.useState();return h().createElement("div",{style:{display:"flex"}},t.label&&h().createElement(yr,{label:t.label}),h().createElement(In.Input,{defaultValue:t.value,width:8,onBlur:t=>{e.state.onChange(parseInt(t.currentTarget.value,10))}}))};const jd=function(e,t,n){if(!hu)return[t,du,du];if(!e)throw new Error("useLocalStorage key may not be falsy");var r=n?n.raw?function(e){return e}:n.deserializer:JSON.parse,a=(0,c.useRef)(function(e){try{var a=n?n.raw?String:n.serializer:JSON.stringify,i=localStorage.getItem(e);return null!==i?r(i):(t&&localStorage.setItem(e,a(t)),t)}catch(e){return t}}),i=(0,c.useState)(function(){return a.current(e)}),s=i[0],o=i[1];(0,c.useLayoutEffect)(function(){return o(a.current(e))},[e]);var l=(0,c.useCallback)(function(t){try{var a="function"==typeof t?t(s):t;if(void 0===a)return;var i=void 0;i=n?n.raw?"string"==typeof a?a:JSON.stringify(a):n.serializer?n.serializer(a):JSON.stringify(a):JSON.stringify(a),localStorage.setItem(e,i),o(r(i))}catch(e){}},[e,o]),u=(0,c.useCallback)(function(){try{localStorage.removeItem(e),o(void 0)}catch(e){}},[e,o]);return[s,l,u]};class Fd extends _{constructor(){super(...arguments),this.onZoom=()=>{const e=eu.getTimeRange(this),t=function(e,t){const n=e.to.valueOf()-e.from.valueOf(),r=e.to.valueOf()-n/2,a=0===n?3e4:n*t,s=r+a/2,o=r-a/2;return{from:(0,i.toUtc)(o),to:(0,i.toUtc)(s),raw:{from:(0,i.toUtc)(o),to:(0,i.toUtc)(s)}}}(e.state.value,2);e.onTimeRangeChange(t)},this.onChangeFiscalYearStartMonth=e=>{eu.getTimeRange(this).setState({fiscalYearStartMonth:e})},this.toAbsolute=()=>{const e=eu.getTimeRange(this),t=e.state.value,n=(0,i.toUtc)(t.from),r=(0,i.toUtc)(t.to);e.onTimeRangeChange({from:n,to:r,raw:{from:n,to:r}})},this.onMoveBackward=()=>{const e=eu.getTimeRange(this),{state:{value:t}}=e;e.onTimeRangeChange(Xd(0,t,Date.now()))},this.onMoveForward=()=>{const e=eu.getTimeRange(this),{state:{value:t}}=e;e.onTimeRangeChange(Xd(1,t,Date.now()))}}}function Xd(e,t,n){const r=t.to.valueOf(),a=t.from.valueOf(),s=(r-a)/2;let o,l;0===e?(o=a-s,l=r-s):(o=a+s,l=r+s,l>n&&r<n&&(l=n,o=a));const u=(0,i.toUtc)(o),c=(0,i.toUtc)(l);return{from:u,to:c,raw:{from:u,to:c}}}Fd.Component=function({model:e}){const{hidePicker:t,isOnCanvas:n,quickRanges:r,defaultQuickRanges:a}=e.useState(),s=eu.getTimeRange(e),o=s.getTimeZone(),l=s.useState(),[u,c]=jd(Ud,[],{raw:!1,serializer:qd,deserializer:Bd});if(t)return null;const d=r||a;return h().createElement(In.TimeRangePicker,{isOnCanvas:null==n||n,value:l.value,onChange:e=>{var t;t=e,((0,i.isDateTime)(t.raw.from)||(0,i.isDateTime)(t.raw.to))&&c([e,...null!=u?u:[]]),s.onTimeRangeChange(e)},timeZone:o,fiscalYearStartMonth:l.fiscalYearStartMonth,onMoveBackward:e.onMoveBackward,onMoveForward:e.onMoveForward,onZoom:e.onZoom,onChangeTimeZone:s.onTimeZoneChange,onChangeFiscalYearStartMonth:e.onChangeFiscalYearStartMonth,weekStart:l.weekStart,history:u,quickRanges:d})};const Ud="grafana.dashboard.timepicker.history";function Bd(e){return JSON.parse(e).map(e=>i.rangeUtil.convertRawToRange(e,"utc",void 0,"YYYY-MM-DD HH:mm:ss"))}function qd(e){return JSON.stringify((t=e.map(e=>({from:"string"==typeof e.raw.from?e.raw.from:e.raw.from.toISOString(),to:"string"==typeof e.raw.to?e.raw.to:e.raw.to.toISOString()})),(0,D.uniqBy)(t,e=>e.from+e.to).slice(0,4)));var t}const Wd=["5s","10s","30s","1m","5m","15m","30m","1h","2h","1d"];class Hd extends _{constructor(e){var t,n,r;super({refresh:"",...e,autoValue:void 0,autoEnabled:null==(t=e.autoEnabled)||t,autoMinInterval:null!=(n=e.autoMinInterval)?n:s.config.minRefreshInterval,intervals:(null!=(r=e.intervals)?r:Wd).filter(t=>{var n;const r=null!=(n=e.minRefreshInterval)?n:s.config.minRefreshInterval;try{return!r||i.rangeUtil.intervalToMs(t)>=i.rangeUtil.intervalToMs(r)}catch(e){return!1}})}),this._urlSync=new B(this,{keys:["refresh"]}),this._autoRefreshBlocked=!1,this.onRefresh=()=>{const e=eu.getQueryController(this);if(null==e||e.startProfile("SceneRefreshPicker"),null==e?void 0:e.state.isRunning)return void e.cancelAll();const t=eu.getTimeRange(this);this._intervalTimer&&clearInterval(this._intervalTimer),t.onRefresh(),this.setupIntervalTimer()},this.onIntervalChanged=e=>{this.setState({refresh:e}),this.setupIntervalTimer()},this.setupAutoTimeRangeListener=()=>eu.getTimeRange(this).subscribeToState((e,t)=>{e.from===t.from&&e.to===t.to||this.setupIntervalTimer()}),this.calculateAutoRefreshInterval=()=>{var e;const t=eu.getTimeRange(this),n=null!=(e=null==window?void 0:window.innerWidth)?e:2e3;return i.rangeUtil.calculateInterval(t.state.value,n,this.state.autoMinInterval)},this.setupIntervalTimer=()=>{var e;const t=eu.getTimeRange(this),{refresh:n,intervals:r}=this.state;if((this._intervalTimer||""===n)&&clearInterval(this._intervalTimer),""===n)return;if(n!==In.RefreshPicker.autoOption.value&&r&&!r.includes(n))return;let a;if(null==(e=this._autoTimeRangeListener)||e.unsubscribe(),n===In.RefreshPicker.autoOption.value){const e=this.calculateAutoRefreshInterval();a=e.intervalMs,this._autoTimeRangeListener=this.setupAutoTimeRangeListener(),e.interval!==this.state.autoValue&&this.setState({autoValue:e.interval})}else a=i.rangeUtil.intervalToMs(n);this._intervalTimer=setInterval(()=>{if(this.isTabVisible()){const e=eu.getQueryController(this);null==e||e.startProfile("SceneRefreshPicker"),t.onRefresh()}else this._autoRefreshBlocked=!0},a)},this.addActivationHandler(()=>{this.setupIntervalTimer();const e=()=>{this._autoRefreshBlocked&&"visible"===document.visibilityState&&(this._autoRefreshBlocked=!1,this.onRefresh())};return document.addEventListener("visibilitychange",e),()=>{var t;this._intervalTimer&&clearInterval(this._intervalTimer),document.removeEventListener("visibilitychange",e),null==(t=this._autoTimeRangeListener)||t.unsubscribe()}})}getUrlState(){let e=this.state.refresh;return"string"==typeof e&&0!==e.length||(e=void 0),{refresh:e}}updateFromUrl(e){const{intervals:t}=this.state;let n=e.refresh;"string"==typeof n&&function(e){try{return i.rangeUtil.describeInterval(e).count>0}catch(e){return!1}}(n)&&((null==t?void 0:t.includes(n))?this.setState({refresh:n}):this.setState({refresh:t?t[0]:void 0}))}isTabVisible(){return void 0===document.visibilityState||"visible"===document.visibilityState}}Hd.Component=function({model:e}){var t;const{refresh:n,intervals:r,autoEnabled:a,autoValue:i,isOnCanvas:s,primary:o,withText:l}=e.useState(),u=function(e){const t=eu.getQueryController(e);if(!t)return!1;return t.useState().isRunning}(e);let c,d,p=n===(null==(t=In.RefreshPicker.autoOption)?void 0:t.value)?i:l?"Refresh":void 0;u&&(c="Cancel all queries",l&&(p="Cancel"));l&&(d="96px");return h().createElement(In.RefreshPicker,{showAutoInterval:a,value:n,intervals:r,tooltip:c,width:d,text:p,onRefresh:()=>{e.onRefresh()},primary:o,onIntervalChanged:e.onIntervalChanged,isLoading:u,isOnCanvas:null==s||s})};const Gd=e=>`${e}-compare`,Yd="__previousPeriod",Zd="__noPeriod",Kd={label:"Previous period",value:Yd},Jd={label:"None",value:Zd},eh=[{label:"Day before",value:"24h"},{label:"Week before",value:"1w"},{label:"Month before",value:"1M"}];(class extends _{constructor(e){super({compareOptions:eh,...e}),this._urlSync=new B(this,{keys:["compareWith"]}),this._onActivate=()=>{const e=eu.getTimeRange(this);this.setState({compareOptions:this.getCompareOptions(e.state.value)}),this._subs.add(e.subscribeToState(e=>{const t=this.getCompareOptions(e.value),n={compareOptions:t};Boolean(this.state.compareWith)&&!t.find(({value:e})=>e===this.state.compareWith)&&(n.compareWith=Yd),this.setState(n)}))},this.getCompareOptions=e=>{const t=Math.ceil(e.to.diff(e.from)),n=eh.findIndex(({value:e})=>i.rangeUtil.intervalToMs(e)>=t);return[Jd,Kd,...eh.slice(n).map(({label:e,value:t})=>({label:e,value:t}))]},this.onCompareWithChanged=e=>{e===Zd?this.onClearCompare():this.setState({compareWith:e})},this.onClearCompare=()=>{this.setState({compareWith:void 0})},this.addActivationHandler(this._onActivate)}getExtraQueries(e){const t=[],n=this.getCompareTimeRange(e.range);if(!n)return t;const r=e.targets.filter(e=>!1!==e.timeRangeCompare);return r.length&&t.push({req:{...e,targets:r,range:n},processor:th}),t}shouldRerun(e,t,n){return e.compareWith!==t.compareWith&&void 0!==n.find(e=>!1!==e.timeRangeCompare)}getCompareTimeRange(e){let t,n;if(this.state.compareWith){if(this.state.compareWith===Yd){const r=e.to.diff(e.from);t=(0,i.dateTime)(e.from).subtract(r),n=(0,i.dateTime)(e.to).subtract(r)}else t=(0,i.dateTime)(e.from).subtract(i.rangeUtil.intervalToMs(this.state.compareWith)),n=(0,i.dateTime)(e.to).subtract(i.rangeUtil.intervalToMs(this.state.compareWith));return{from:t,to:n,raw:{from:t,to:n}}}}getUrlState(){return{compareWith:this.state.compareWith}}updateFromUrl(e){if(!e.compareWith)return;const t=H(e.compareWith);if(t){this.getCompareOptions(eu.getTimeRange(this).state.value).find(({value:e})=>e===t)?this.setState({compareWith:t}):this.setState({compareWith:"__previousPeriod"})}}}).Component=function({model:e}){var t;const n=(0,In.useStyles2)(nh),{compareWith:r,compareOptions:a,hideCheckbox:i}=e.useState(),[s,o]=h().useState(r),l=null!=(t=a.find(({value:e})=>e===s))?t:Kd,u=a.find(({value:e})=>e===r),c=Boolean(u),d=()=>{c?(o(r),e.onClearCompare()):c||e.onCompareWithChanged(l.value)},p=i&&!r?Jd:u,f=i||c,g=i&&p?{...p,label:`Comparison: ${p.label}`}:p;return h().createElement(In.ButtonGroup,null,!i&&h().createElement(In.ToolbarButton,{variant:"canvas",tooltip:Xt("grafana-scenes.components.scene-time-range-compare-renderer.button-tooltip","Enable time frame comparison"),onClick:e=>{e.stopPropagation(),e.preventDefault(),d()}},h().createElement(In.Checkbox,{label:" ",value:c,onClick:d}),h().createElement(Ut,{i18nKey:"grafana-scenes.components.scene-time-range-compare-renderer.button-label"},"Comparison")),f?h().createElement(In.ButtonSelect,{variant:"canvas",value:g,options:a,onChange:t=>{e.onCompareWithChanged(t.value)}}):h().createElement(In.ToolbarButton,{className:n.previewButton,disabled:!0,variant:"canvas",isOpen:!1},l.label))};const th=(e,t)=>{const n=t.timeRange.from.diff(e.timeRange.from);return t.series.forEach(e=>{e.refId=Gd(e.refId||""),e.meta={...e.meta,timeCompare:{diffMs:n,isTimeShiftQuery:!0}},e.fields.forEach(e=>(e.type===i.FieldType.time&&(e.values=e.values.map(e=>n<0?e-n:e+n)),e.config={...e.config,color:{mode:"fixed",fixedColor:s.config.theme.palette.gray60}},e))}),(0,p.of)(t)};function nh(e){return{previewButton:(0,Un.css)({"&:disabled":{border:`1px solid ${e.colors.secondary.border}`,color:e.colors.text.disabled,opacity:1}})}}(class extends _{constructor(e){super(e),this.addActivationHandler(()=>{const e=eu.getData(this);this._subs.add(e.subscribeToState(e=>{var t;(null==(t=e.data)?void 0:t.state)===i.LoadingState.Done&&this.performRepeat(e.data)})),e.state.data&&this.performRepeat(e.state.data)})}performRepeat(e){const t=[];for(let n=0;n<e.series.length;n++){const r=this.state.getLayoutChild(e,e.series[n],n);t.push(r)}this.state.body.setState({children:t})}}).Component=({model:e})=>{const{body:t}=e.useState();return h().createElement(t.Component,{model:t})};(class extends _{constructor(e){super(e),this._variableDependency=new kl(this,{variableNames:[this.state.variableName],onVariableUpdateCompleted:()=>this.performRepeat()}),this.addActivationHandler(()=>this.performRepeat())}performRepeat(){if(this._variableDependency.hasDependencyInLoadingState())return;const e=eu.lookupVariable(this.state.variableName,this);if(!(e instanceof hn))return void console.error("SceneByVariableRepeater: variable is not a MultiValueVariable");const t=function(e){const{value:t,text:n,options:r}=e.state;if(e.hasAllValue())return r;if(Array.isArray(t)&&Array.isArray(n))return t.map((e,t)=>({value:e,label:n[t]}));return[{value:t,label:n}]}(e),n=[];for(const e of t){const t=this.state.getLayoutChild(e);n.push(t)}this.state.body.setState({children:n})}}).Component=({model:e})=>{const{body:t}=e.useState();return h().createElement(t.Component,{model:t})};class rh extends _{constructor(){super({}),this._renderBeforeActivation=!0}}rh.Component=e=>h().createElement("div",{style:{flexGrow:1}});class ah extends _{toggleDirection(){this.setState({direction:"row"===this.state.direction?"column":"row"})}isDraggable(){return!1}}ah.Component=function({model:e,parentState:t}){const{children:n,isHidden:r}=e.useState(),a=function(e,t){return(0,c.useMemo)(()=>{var n,r,a,i,o,l,u,c,d,h;const{direction:p="row",wrap:f}=e,g=s.config.theme2,m={};return t?sh(m,e,t):(m.display="flex",m.flexGrow=1,m.minWidth=e.minWidth,m.minHeight=e.minHeight),m.flexDirection=p,m.gap="8px",m.flexWrap=f||"nowrap",m.alignContent="baseline",m.minWidth=m.minWidth||0,m.minHeight=m.minHeight||0,m[g.breakpoints.down("md")]={flexDirection:null!=(r=null==(n=e.md)?void 0:n.direction)?r:"column",maxWidth:null!=(i=null==(a=e.md)?void 0:a.maxWidth)?i:"unset",maxHeight:null!=(l=null==(o=e.md)?void 0:o.maxHeight)?l:"unset",height:null!=(c=null==(u=e.md)?void 0:u.height)?c:"unset",width:null!=(h=null==(d=e.md)?void 0:d.width)?h:"unset"},(0,Un.css)(m)},[t,e])}(e.state,t);if(r)return null;return h().createElement("div",{className:a},n.map(t=>{const n=t.Component;return h().createElement(n,{key:t.state.key,model:t,parentState:e.state})}))};class ih extends _{}function sh(e,t,n){var r,a,i;const s=null!=(r=n.direction)?r:"row",{xSizing:o="fill",ySizing:l="fill"}=t;return e.display="flex",e.position="relative",e.flexDirection=s,"column"===s?(t.height?e.height=t.height:e.flexGrow="fill"===l?1:0,t.width?e.width=t.width:e.alignSelf="fill"===o?"stretch":"flex-start"):(t.height?e.height=t.height:e.alignSelf="fill"===l?"stretch":"flex-start",t.width?e.width=t.width:e.flexGrow="fill"===o?1:0,t.wrap&&(e.flexWrap=t.wrap,"nowrap"!==t.wrap&&("row"===s?e.rowGap="8px":e.columnGap="8px"))),e.minWidth=t.minWidth,e.maxWidth=t.maxWidth,e.maxHeight=t.maxHeight,e.minHeight=null!=(a=t.minHeight)?a:n.minHeight,e.height=null!=(i=t.height)?i:n.height,e}ih.Component=function({model:e,parentState:t}){if(!t)throw new Error("SceneFlexItem must be a child of SceneFlexLayout");const{body:n,isHidden:r}=e.useState(),a=function(e,t){return(0,c.useMemo)(()=>{var n,r,a,i,o,l,u,c,d,h;const p=s.config.theme2,f=sh({},e,t);return f[p.breakpoints.down("md")]={maxWidth:null!=(r=null==(n=e.md)?void 0:n.maxWidth)?r:"unset",maxHeight:null!=(i=null==(a=e.md)?void 0:a.maxHeight)?i:"unset",height:null!=(u=null==(o=e.md)?void 0:o.height)?u:null==(l=t.md)?void 0:l.height,width:null!=(h=null==(c=e.md)?void 0:c.width)?h:null==(d=t.md)?void 0:d.width},(0,Un.css)(f)},[e,t])}(e.state,t);if(!n||r)return null;return h().createElement("div",{className:a},h().createElement(n.Component,{model:n}))};class oh extends _{constructor(e){var t,n;super({rowGap:1,columnGap:1,templateColumns:"repeat(auto-fit, minmax(400px, 1fr))",autoRows:null!=(t=e.autoRows)?t:"320px",children:null!=(n=e.children)?n:[],...e})}isDraggable(){return!1}}oh.Component=function({model:e}){const{children:t,isHidden:n,isLazy:r}=e.useState(),a=(i=e.state,(0,c.useMemo)(()=>{var e,t,n,r,a,o,l,u,c,d,h;const p={},f=s.config.theme2;return p.display="grid",p.gridTemplateColumns=i.templateColumns,p.gridTemplateRows=i.templateRows||"unset",p.gridAutoRows=i.autoRows||"unset",p.rowGap=f.spacing(null!=(e=i.rowGap)?e:1),p.columnGap=f.spacing(null!=(t=i.columnGap)?t:1),p.justifyItems=i.justifyItems||"unset",p.alignItems=i.alignItems||"unset",p.justifyContent=i.justifyContent||"unset",p.flexGrow=1,i.md&&(p[f.breakpoints.down("md")]={gridTemplateRows:null==(n=i.md)?void 0:n.templateRows,gridTemplateColumns:null==(r=i.md)?void 0:r.templateColumns,rowGap:i.md.rowGap?f.spacing(null!=(o=null==(a=i.md)?void 0:a.rowGap)?o:1):void 0,columnGap:i.md.columnGap?f.spacing(null!=(u=null==(l=i.md)?void 0:l.rowGap)?u:1):void 0,justifyItems:null==(c=i.md)?void 0:c.justifyItems,alignItems:null==(d=i.md)?void 0:d.alignItems,justifyContent:null==(h=i.md)?void 0:h.justifyContent}),(0,Un.css)(p)},[i]));var i;if(n)return null;return h().createElement("div",{className:a},t.map(t=>{const n=t.Component;return r?h().createElement(Pd,{key:t.state.key,className:a},h().createElement(n,{key:t.state.key,model:t,parentState:e.state})):h().createElement(n,{key:t.state.key,model:t,parentState:e.state})}))};class lh extends _{}lh.Component=function({model:e,parentState:t}){if(!t)throw new Error("SceneCSSGridItem must be a child of SceneCSSGridLayout");const{body:n,isHidden:r}=e.useState(),a=(i=e.state,(0,c.useMemo)(()=>{const e={};return e.gridColumn=i.gridColumn||"unset",e.gridRow=i.gridRow||"unset",e.position="relative",(0,Un.css)(e)},[i]));var i;if(!n||r)return null;return h().createElement("div",{className:a},h().createElement(n.Component,{model:n}))};const uh=new Set(["ArrowUp","ArrowDown"]),ch=new Set(["ArrowLeft","ArrowRight"]),dh={row:{dim:"width",axis:"clientX",min:"minWidth",max:"maxWidth"},column:{dim:"height",axis:"clientY",min:"minHeight",max:"maxHeight"}};function hh({direction:e="row",handleSize:t=32,initialSize:n="auto",primaryPaneStyles:r,secondaryPaneStyles:a,onDragFinished:i,children:s}){const o=h().Children.toArray(s),l=(0,c.useRef)(null),u=(0,c.useRef)(null),d=(0,c.useRef)(null),p=(0,c.useRef)(null),f=(0,c.useRef)(null),g=(0,c.useRef)("1fr"),m=(0,c.useRef)(void 0),v=(0,c.useRef)(void 0),b=dh[e].dim,y=dh[e].axis,O=dh[e].min,w=dh[e].max;!function(e,t,n=0,r){const a=(0,D.throttle)(t,n);(0,c.useLayoutEffect)(()=>{if(!e)return;const t=new ResizeObserver(a);return t.observe(e,{box:"device-pixel-content-box"}),()=>t.disconnect()},r)}(p.current,e=>{for(const t of e){if(!t.target.isSameNode(p.current))return;const e=u.current.getBoundingClientRect()[b],n=fh(u.current);l.current.ariaValueNow=`${(0,D.clamp)((e-n[O])/(n[w]-n[O])*100,0,100)}`}},500,[w,O,e,b]);const x=(0,c.useRef)(null),S=(0,c.useCallback)(e=>{g.current=u.current.getBoundingClientRect()[b],f.current=p.current.getBoundingClientRect()[b],x.current=e[y],l.current.setPointerCapture(e.pointerId),m.current=fh(u.current),v.current=void 0},[b,y]),$=(0,c.useCallback)(e=>{if(null!==x.current&&"1fr"!==g.current){const n=e[y]-x.current,r=m.current,a=(0,D.clamp)(g.current+n,r[O],r[w]),i=a/(f.current-t);u.current.style.flexGrow=`${i}`,d.current.style.flexGrow=""+(1-i);const s=(0,D.clamp)((a-r[O])/(r[w]-r[O])*100,0,100);l.current.ariaValueNow=`${s}`}},[t,y,O,w]),R=(0,c.useCallback)(e=>{e.preventDefault(),e.stopPropagation(),l.current.releasePointerCapture(e.pointerId),x.current=null,null==i||i(parseFloat(u.current.style.flexGrow))},[i]),P=(0,c.useRef)(new Set),E=(0,c.useRef)(null),k=(0,c.useCallback)(n=>{var r;if(0===P.current.size)return void(E.current=null);if("1fr"===g.current)return;const a=.3*(n-(null!=(r=E.current)?r:n));let i=0;"row"===e?(P.current.has("ArrowLeft")&&(i-=a),P.current.has("ArrowRight")&&(i+=a)):(P.current.has("ArrowUp")&&(i-=a),P.current.has("ArrowDown")&&(i+=a));const s=m.current,o=u.current.getBoundingClientRect()[b],c=(0,D.clamp)(o+i,s[O],s[w]),h=c/(f.current-t);u.current.style.flexGrow=`${h}`,d.current.style.flexGrow=""+(1-h);const p=(c-s[O])/(s[w]-s[O])*100;l.current.ariaValueNow=`${(0,D.clamp)(p,0,100)}`,E.current=n,window.requestAnimationFrame(k)},[e,t,O,w,b]),_=(0,c.useCallback)(n=>{if("Enter"===n.key)return void(void 0===v.current?(v.current=u.current.style.flexGrow,u.current.style.flexGrow="0",d.current.style.flexGrow="1"):(u.current.style.flexGrow=v.current,d.current.style.flexGrow=""+(1-parseFloat(v.current)),v.current=void 0));if("Home"===n.key){m.current=fh(u.current),f.current=p.current.getBoundingClientRect()[b];const e=m.current[O]/(f.current-t);return u.current.style.flexGrow=`${e}`,d.current.style.flexGrow=""+(1-e),void(l.current.ariaValueNow="0")}if("End"===n.key){m.current=fh(u.current),f.current=p.current.getBoundingClientRect()[b];const e=m.current[w]/(f.current-t);return u.current.style.flexGrow=`${e}`,d.current.style.flexGrow=""+(1-e),void(l.current.ariaValueNow="100")}if(!("column"===e&&uh.has(n.key)||"row"===e&&ch.has(n.key))||P.current.has(n.key))return;v.current=void 0,n.preventDefault(),n.stopPropagation(),g.current=u.current.getBoundingClientRect()[b],f.current=p.current.getBoundingClientRect()[b],m.current=fh(u.current);if(!P.current.has(n.key)){const e=0===P.current.size;P.current.add(n.key),e&&window.requestAnimationFrame(k)}},[e,k,t,w,b,O]),C=(0,c.useCallback)(t=>{"row"===e&&!ch.has(t.key)||"column"===e&&!uh.has(t.key)||(P.current.delete(t.key),null==i||i(parseFloat(u.current.style.flexGrow)))},[e,i]),T=(0,c.useCallback)(()=>{u.current.style.flexGrow="0.5",d.current.style.flexGrow="0.5";const e=fh(u.current);m.current=e,g.current=u.current.getBoundingClientRect()[b],l.current.ariaValueNow=""+(g.current-e[O])/(e[w]-e[O])*100},[w,b,O]),A=(0,c.useCallback)(()=>{P.current.size>0&&(P.current.clear(),x.current=null,null==i||i(parseFloat(u.current.style.flexGrow)))},[i]),I=(0,In.useStyles2)(ph),L=Rd(),Q=2===o.length?"visible":"hidden";return h().createElement("div",{ref:p,className:I.container,style:{flexDirection:e}},h().createElement("div",{ref:u,className:I.panel,style:{flexGrow:"auto"===n?.5:(0,D.clamp)(n,0,1),[O]:"min-content",...r},id:`start-panel-${L}`},o[0]),o[1]&&h().createElement(h().Fragment,null,h().createElement("div",{ref:l,style:{[b]:`${t}px`},className:(0,Un.cx)(I.handle,{[I.handleHorizontal]:"column"===e}),onPointerUp:R,onPointerDown:S,onPointerMove:$,onKeyDown:_,onKeyUp:C,onDoubleClick:T,onBlur:A,role:"separator","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":50,"aria-controls":`start-panel-${L}`,"aria-label":Xt("grafana-scenes.components.splitter.aria-label-pane-resize-widget","Pane resize widget"),tabIndex:0}),h().createElement("div",{ref:d,className:I.panel,style:{flexGrow:"auto"===n?.5:(0,D.clamp)(1-n,0,1),[O]:"min-content",visibility:`${Q}`,...a},id:`end-panel-${L}`},o[1])))}function ph(e){return{handle:(0,Un.css)({cursor:"col-resize",position:"relative",flexShrink:0,userSelect:"none","&::before":{content:'""',position:"absolute",backgroundColor:e.colors.primary.main,left:"50%",transform:"translate(-50%)",top:0,height:"100%",width:"1px",opacity:0,transition:"opacity ease-in-out 0.2s"},"&::after":{content:'""',width:"4px",borderRadius:"4px",backgroundColor:e.colors.border.weak,transition:"background-color ease-in-out 0.2s",height:"50%",top:"calc(50% - (50%) / 2)",transform:"translateX(-50%)",position:"absolute",left:"50%"},"&:hover, &:focus-visible":{outline:"none","&::before":{opacity:1},"&::after":{backgroundColor:e.colors.primary.main}}}),handleHorizontal:(0,Un.css)({cursor:"row-resize","&::before":{left:"inherit",transform:"translateY(-50%)",top:"50%",height:"1px",width:"100%"},"&::after":{width:"50%",height:"4px",top:"50%",transform:"translateY(-50%)",left:"calc(50% - (50%) / 2)"}}),container:(0,Un.css)({display:"flex",width:"100%",flexGrow:1,overflow:"hidden"}),panel:(0,Un.css)({display:"flex",position:"relative",flexBasis:0})}}function fh(e){if(null===e)return;const t=document.body.style.overflow,n=e.style.width,r=e.style.height,a=e.style.flexGrow;document.body.style.overflow="hidden",e.style.flexGrow="0";const{width:i,height:s}=e.getBoundingClientRect();e.style.flexGrow="100";const{width:o,height:l}=e.getBoundingClientRect();return document.body.style.overflow=t,e.style.width=n,e.style.height=r,e.style.flexGrow=a,{minWidth:i,maxWidth:o,minHeight:s,maxHeight:l}}(class extends _{toggleDirection(){this.setState({direction:"row"===this.state.direction?"column":"row"})}isDraggable(){return!1}}).Component=function({model:e}){const{primary:t,secondary:n,direction:r,isHidden:a,initialSize:i,primaryPaneStyles:s,secondaryPaneStyles:o}=e.useState();if(a)return null;const l=t.Component,u=null==n?void 0:n.Component;let c=n?i:1;return h().createElement(hh,{direction:r,initialSize:null!=c?c:.5,primaryPaneStyles:s,secondaryPaneStyles:o},h().createElement(l,{key:t.state.key,model:t,parentState:e.state}),u&&n&&h().createElement(u,{key:n.state.key,model:n,parentState:e.state}))};(class extends _{constructor(){super(...arguments),this._renderBeforeActivation=!0}enrichDataRequest(){return{app:this.state.name||"app"}}}).Component=({model:e})=>{const{pages:t}=e.useState();return h().createElement(h().Fragment,null,h().createElement(gh.Provider,{value:e},h().createElement(a.Routes,null,t.map(e=>h().createElement(a.Route,{key:e.state.url,path:e.state.routePath,element:h().createElement(e.Component,{model:e})})))))};const gh=(0,c.createContext)(null);class mh extends _{}function vh({node:e}){const t=e.useState(),n=(0,In.useStyles2)(bh);return h().createElement("div",{className:n.container},Object.keys(t).map(r=>h().createElement("div",{className:n.row,key:r},h().createElement("div",{className:n.keyName},r),h().createElement("div",{className:n.value},function(e,t,n){if(null===t)return"null";switch(typeof t){case"number":return h().createElement(In.Input,{type:"number",defaultValue:t,onBlur:t=>n.setState({[e]:t.currentTarget.valueAsNumber})});case"string":return h().createElement(In.Input,{type:"text",defaultValue:t,onBlur:t=>n.setState({[e]:t.currentTarget.value})});case"object":return On(t)?t.constructor.name:(0,D.isPlainObject)(t)||(0,D.isArray)(t)?h().createElement(In.JSONFormatter,{json:t,open:0}):String(t);default:return typeof t}}(r,t[r],e)))))}function bh(e){return{container:(0,Un.css)({flexGrow:1,display:"flex",gap:e.spacing(.5),flexDirection:"column"}),row:(0,Un.css)({display:"flex",gap:e.spacing(2)}),keyName:(0,Un.css)({display:"flex",flexGrow:"0",width:120,alignItems:"center",height:e.spacing(e.components.height.md)}),value:(0,Un.css)({flexGrow:1,minHeight:e.spacing(e.components.height.md),display:"flex",alignItems:"center"})}}function yh({node:e,selectedObject:t,onSelect:n}){const r=(0,In.useStyles2)(Oh),a=[],i=e===t;return e.forEachChild(e=>{a.push(h().createElement(yh,{node:e,key:e.state.key,selectedObject:t,onSelect:n}))}),h().createElement("div",{className:r.container},h().createElement("div",{className:(0,Un.cx)(r.name,i&&r.selected),onClick:()=>n(e)},e.constructor.name),h().createElement("div",{className:r.children},a))}function Oh(e){return{container:(0,Un.css)({flexGrow:1,display:"flex",gap:e.spacing(.5),flexDirection:"column"}),name:(0,Un.css)({flexGrow:1,display:"flex",gap:e.spacing(1),fontSize:e.typography.bodySmall.fontSize,cursor:"pointer",padding:e.spacing(0,1),borderRadius:e.shape.borderRadius(2),position:"relative","&:hover":{background:e.colors.background.secondary}}),selected:(0,Un.css)({"&::before":{display:"block",content:"' '",position:"absolute",left:0,width:4,bottom:2,top:2,borderRadius:e.shape.radius.default,backgroundImage:e.colors.gradients.brandVertical}}),children:(0,Un.css)({flexGrow:1,display:"flex",flexDirection:"column",paddingLeft:e.spacing(1)})}}function wh({scene:e}){const t=(0,In.useStyles2)(xh),[n,r]=(0,c.useState)(!1),[a,i]=(0,c.useState)();return h().createElement(h().Fragment,null,h().createElement(In.ToolbarButton,{variant:"canvas",icon:"bug",onClick:()=>r(!0)}),n&&h().createElement(In.Drawer,{title:Xt("grafana-scenes.components.scene-debugger.title-scene-debugger","Scene debugger"),onClose:()=>r(!1),size:"lg"},h().createElement("div",{className:t.panes},h().createElement("div",{className:t.pane1},h().createElement("div",{className:t.paneHeading},h().createElement(Ut,{i18nKey:"grafana-scenes.components.scene-debugger.scene-graph"},"Scene graph")),h().createElement(In.CustomScrollbar,{autoHeightMin:"100%"},h().createElement("div",{className:t.treeWrapper},h().createElement(yh,{node:e,selectedObject:a,onSelect:i})))),h().createElement("div",{className:t.pane2},h().createElement("div",{className:t.paneHeading},h().createElement(Ut,{i18nKey:"grafana-scenes.components.scene-debugger.object-details"},"Object details")),a&&h().createElement(vh,{node:a})))))}function xh(e){return{panes:(0,Un.css)({flexGrow:1,display:"flex",height:"100%",flexDirection:"row",marginTop:e.spacing(-2)}),pane1:(0,Un.css)({flexGrow:0,display:"flex",height:"100%",flexDirection:"column",borderRight:`1px solid ${e.colors.border.weak}`}),pane2:(0,Un.css)({flexGrow:1,display:"flex",minHeight:"100%",flexDirection:"column",paddingLeft:e.spacing(2)}),treeWrapper:(0,Un.css)({paddingRight:e.spacing(2),height:"100%",marginLeft:e.spacing(-1)}),paneHeading:(0,Un.css)({padding:e.spacing(1,0),fontWeight:e.typography.fontWeightMedium})}}function Sh({page:e}){const t=l(e.state.url),n=function(e){if(e.parent instanceof Ph)return e.parent;return e}(e),r=n.useState(),i=function(){const e=(0,a.useLocation)();return(0,s.locationSearchToObject)(e.search||"")}(),u=e.getScene(t),d=(0,c.useContext)(gh),p=r.initializedScene===u,{layout:f}=e.state,g=dn();(0,c.useLayoutEffect)(()=>{p||n.initializeScene(u)},[u,n,p]),(0,c.useEffect)(()=>()=>n.setState({initializedScene:void 0}),[n]);const m=fd(n,null==d?void 0:d.state.urlSyncOptions);if(!p&&!m)return null;const v={text:r.title,img:r.titleImg,icon:r.titleIcon,url:o(r.url,g.getSearchObject(),r.preserveUrlKeys),hideFromBreadcrumbs:r.hideFromBreadcrumbs,parentItem:$h(r.getParentPage?r.getParentPage():n.parent,i,g.getSearchObject())};r.tabs&&(v.children=r.tabs.map(t=>({text:t.state.title,icon:t.state.titleIcon,tabSuffix:t.state.tabSuffix,active:e===t,url:o(t.state.url,g.getSearchObject(),t.state.preserveUrlKeys),parentItem:v})));let b=[];return r.controls&&(b=r.controls.map(e=>h().createElement(e.Component,{model:e,key:e.state.key}))),i["scene-debugger"]&&b.push(h().createElement(wh,{scene:n,key:"scene-debugger"})),h().createElement(s.PluginPage,{layout:f,pageNav:v,actions:b,renderTitle:r.renderTitle,subTitle:r.subTitle},h().createElement(u.Component,{model:u}))}function $h(e,t,n){if(e instanceof Ph)return{text:e.state.title,url:o(e.state.url,n,e.state.preserveUrlKeys),hideFromBreadcrumbs:e.state.hideFromBreadcrumbs,parentItem:$h(e.state.getParentPage?e.state.getParentPage():e.parent,t,n)}}function Rh({drilldown:e,parent:t}){const n=l(e.routePath),r=t.getDrilldownPage(e,n);return h().createElement(r.Component,{model:r})}mh.Component=({model:e})=>{const{component:t,props:n,reactNode:r}=e.useState();return t?h().createElement(t,{...n}):r||null};class Ph extends _{constructor(){super(...arguments),this._sceneCache=new Map,this._drilldownCache=new Map}initializeScene(e){this.setState({initializedScene:e})}getScene(e){let t=this._sceneCache.get(e.url);if(t)return t;if(!this.state.getScene)throw new Error("Missing getScene on SceneAppPage "+this.state.title);return t=this.state.getScene(e),this._sceneCache.set(e.url,t),t}getDrilldownPage(e,t){let n=this._drilldownCache.get(t.url);return n||(n=e.getPage(t,this),this._drilldownCache.set(t.url,n),n)}enrichDataRequest(e){if(this.state.getParentPage)return this.state.getParentPage().enrichDataRequest(e);if(!this.parent)return null;const t=this.getRoot();return wn(t)?t.enrichDataRequest(e):null}}Ph.Component=function({model:e}){const{tabs:t,drilldowns:n}=e.useState(),r=[];if(r.push(function(e){var t,n,r;return h().createElement(a.Route,{key:"fallback route",path:"*",element:h().createElement(Sh,{page:null!=(r=null==(n=(t=e.state).getFallbackPage)?void 0:n.call(t))?r:new Ph({url:"",title:Xt("grafana-scenes.components.fallback-page.title","Not found"),subTitle:Xt("grafana-scenes.components.fallback-page.subTitle","The url did not match any page"),routePath:"*",getScene:()=>new md({body:new ah({direction:"column",children:[new ih({body:new mh({component:()=>h().createElement("div",{"data-testid":"default-fallback-content"},h().createElement(Ut,{i18nKey:"grafana-scenes.components.fallback-page.content"},"If you found your way here using a link then there might be a bug in this application."))})})]})})})})})}(e)),t&&t.length>0)for(let n=0;n<t.length;n++){const i=t[n];if(0===n&&r.push(h().createElement(a.Route,{key:e.state.routePath,path:"",element:h().createElement(i.Component,{model:i})})),r.push(h().createElement(a.Route,{key:i.state.url,path:i.state.routePath,element:h().createElement(i.Component,{model:i})})),i.state.drilldowns)for(const e of i.state.drilldowns)r.push(h().createElement(a.Route,{key:e.routePath,path:e.routePath,element:h().createElement(Rh,{drilldown:e,parent:i})}))}if(n)for(const t of n)r.push(h().createElement(a.Route,{key:t.routePath,path:t.routePath,Component:()=>h().createElement(Rh,{drilldown:t,parent:e})}));t||r.push(h().createElement(a.Route,{key:"home route",path:"/",element:h().createElement(Sh,{page:e})}));return h().createElement(a.Routes,null,r)};var Eh=n(4049);const kh={barRadius:0,barWidth:.97,fullHighlight:!1,groupWidth:.7,orientation:Eh.i.Auto,showValue:Eh.V.Auto,stacking:Eh.S.None,xTickLabelRotation:0,xTickLabelSpacing:0},_h={fillOpacity:80,gradientMode:Eh.G.None,lineWidth:1},Ch={displayMode:Eh.f.Gradient,maxVizHeight:300,minVizHeight:16,minVizWidth:8,namePlacement:Eh.g.Auto,showUnfilled:!0,sizing:Eh.e.Auto,valueMode:Eh.h.Color},Th={selectedSeries:0},Dh={minVizHeight:75,minVizWidth:75,showThresholdLabels:!1,showThresholdMarkers:!0,sizing:Eh.e.Auto},Ah={layers:[]};var Ih=n(5938);const Lh={bucketCount:30,bucketOffset:0},Qh={fillOpacity:80,gradientMode:Eh.G.None,lineWidth:1},Nh={showImage:!0};const Vh={displayLabels:[]},zh={colorMode:Eh.B.Value,graphMode:Eh.a.Area,justifyMode:Eh.b.Auto,percentChangeColorMode:Eh.P.Standard,showPercentChange:!1,textMode:Eh.c.Auto,wideLayout:!0},Mh={alignValue:"left",mergeValues:!0,perPage:20,rowHeight:.9,showValue:Eh.V.Auto},jh={fillOpacity:70,lineWidth:0},Fh={colWidth:.9,perPage:20,rowHeight:.9,showValue:Eh.V.Auto},Xh={fillOpacity:70,lineWidth:1},Uh={cellHeight:Eh.T.Sm,footer:{show:!1,countRows:!1,reducer:[]},frameIndex:0,showHeader:!0,showTypeIcons:!1,sortBy:[]};const Bh={content:"# Title\n\nFor markdown syntax help: [commonmark.org/help](https://commonmark.org/help/)",mode:"markdown"};const qh={fillOpacity:50,show:"points"},Wh={series:[]};class Hh{constructor(){this._overrides=[]}overrideColor(e){return this._overrides[this._overrides.length-1].properties.push({id:"color",value:e}),this}overrideDecimals(e){return this._overrides[this._overrides.length-1].properties.push({id:"decimals",value:e}),this}overrideDisplayName(e){return this._overrides[this._overrides.length-1].properties.push({id:"displayName",value:e}),this}overrideFilterable(e){return this._overrides[this._overrides.length-1].properties.push({id:"filterable",value:e}),this}overrideLinks(e){return this._overrides[this._overrides.length-1].properties.push({id:"links",value:e}),this}overrideMappings(e){return this._overrides[this._overrides.length-1].properties.push({id:"mappings",value:e}),this}overrideMax(e){return this._overrides[this._overrides.length-1].properties.push({id:"max",value:e}),this}overrideMin(e){return this._overrides[this._overrides.length-1].properties.push({id:"min",value:e}),this}overrideNoValue(e){return this._overrides[this._overrides.length-1].properties.push({id:"noValue",value:e}),this}overrideThresholds(e){return this._overrides[this._overrides.length-1].properties.push({id:"thresholds",value:e}),this}overrideUnit(e){return this._overrides[this._overrides.length-1].properties.push({id:"unit",value:e}),this}}class Gh extends Hh{match(e){return this._overrides.push({matcher:e,properties:[]}),this}matchFieldsWithName(e){return this._overrides.push({matcher:{id:i.FieldMatcherID.byName,options:e},properties:[]}),this}matchFieldsWithNameByRegex(e){return this._overrides.push({matcher:{id:i.FieldMatcherID.byRegexp,options:e},properties:[]}),this}matchFieldsByType(e){return this._overrides.push({matcher:{id:i.FieldMatcherID.byType,options:e},properties:[]}),this}matchFieldsByQuery(e){return this._overrides.push({matcher:{id:i.FieldMatcherID.byFrameRefID,options:e},properties:[]}),this}matchFieldsByValue(e){return this._overrides.push({matcher:{id:i.FieldMatcherID.byValue,options:e},properties:[]}),this}matchComparisonQuery(e){return this.matchFieldsByQuery(Gd(e))}overrideCustomFieldConfig(e,t){const n=`custom.${String(e)}`;return this._overrides[this._overrides.length-1].properties.push({id:n,value:t}),this}build(){return this._overrides}}class Yh{constructor(e){this.defaultFieldConfig=e,this._fieldConfig={defaults:{},overrides:[]},this._overridesBuilder=new Gh,this.setDefaults()}setDefaults(){const e={defaults:{custom:this.defaultFieldConfig?(0,D.cloneDeep)(this.defaultFieldConfig()):{}},overrides:[]};this._fieldConfig=e}setColor(e){return this.setFieldConfigDefaults("color",e)}setDecimals(e){return this.setFieldConfigDefaults("decimals",e)}setDisplayName(e){return this.setFieldConfigDefaults("displayName",e)}setFilterable(e){return this.setFieldConfigDefaults("filterable",e)}setLinks(e){return this.setFieldConfigDefaults("links",e)}setMappings(e){return this.setFieldConfigDefaults("mappings",e)}setMax(e){return this.setFieldConfigDefaults("max",e)}setMin(e){return this.setFieldConfigDefaults("min",e)}setNoValue(e){return this.setFieldConfigDefaults("noValue",e)}setThresholds(e){return this.setFieldConfigDefaults("thresholds",e)}setUnit(e){return this.setFieldConfigDefaults("unit",e)}setCustomFieldConfig(e,t){return this._fieldConfig.defaults={...this._fieldConfig.defaults,custom:(0,D.merge)(this._fieldConfig.defaults.custom,{[e]:t})},this}setOverrides(e){return e(this._overridesBuilder),this}setFieldConfigDefaults(e,t){return this._fieldConfig.defaults={...this._fieldConfig.defaults,[e]:t},this}build(){return{defaults:this._fieldConfig.defaults,overrides:this._overridesBuilder.build()}}}class Zh{constructor(e){this.defaultOptions=e,this._options={},this.setDefaults()}setDefaults(){this._options=this.defaultOptions?(0,D.cloneDeep)(this.defaultOptions()):{}}setOption(e,t){return this._options=(0,D.merge)(this._options,{[e]:t}),this}build(){return this._options}}class Kh{constructor(e,t,n,r){this._state={},this._state.title="",this._state.description="",this._state.displayMode="default",this._state.hoverHeader=!1,this._state.pluginId=e,this._state.pluginVersion=t,this._fieldConfigBuilder=new Yh(r),this._panelOptionsBuilder=new Zh(n)}setTitle(e){return this._state.title=e,this}setDescription(e){return this._state.description=e,this}setDisplayMode(e){return this._state.displayMode=e,this}setHoverHeader(e){return this._state.hoverHeader=e,this}setShowMenuAlways(e){return this._state.showMenuAlways=e,this}setMenu(e){return this._state.menu=e,this}setHeaderActions(e){return this._state.headerActions=e,this}setCollapsible(e){return this._state.collapsible=e,this}setCollapsed(e){return this._state.collapsed=e,this}setColor(e){return this._fieldConfigBuilder.setColor(e),this}setDecimals(e){return this._fieldConfigBuilder.setDecimals(e),this}setDisplayName(e){return this._fieldConfigBuilder.setDisplayName(e),this}setFilterable(e){return this._fieldConfigBuilder.setFilterable(e),this}setLinks(e){return this._fieldConfigBuilder.setLinks(e),this}setMappings(e){return this._fieldConfigBuilder.setMappings(e),this}setMax(e){return this._fieldConfigBuilder.setMax(e),this}setMin(e){return this._fieldConfigBuilder.setMin(e),this}setNoValue(e){return this._fieldConfigBuilder.setNoValue(e),this}setThresholds(e){return this._fieldConfigBuilder.setThresholds(e),this}setUnit(e){return this._fieldConfigBuilder.setUnit(e),this}setCustomFieldConfig(e,t){return this._fieldConfigBuilder.setCustomFieldConfig(e,t),this}setOverrides(e){return this._fieldConfigBuilder.setOverrides(e),this}setOption(e,t){return this._panelOptionsBuilder.setOption(e,t),this}setData(e){return this._state.$data=e,this}setTimeRange(e){return this._state.$timeRange=e,this}setVariables(e){return this._state.$variables=e,this}setBehaviors(e){return this._state.$behaviors=e,this}setSeriesLimit(e){return this._state.seriesLimit=e,this}applyMixin(e){return e(this),this}build(){return new Du({...this._state,options:this._panelOptionsBuilder.build(),fieldConfig:this._fieldConfigBuilder.build()})}}const Jh={barchart:()=>new Kh("barchart","10.0.0",()=>kh,()=>_h),bargauge:()=>new Kh("bargauge","10.0.0",()=>Ch),datagrid:()=>new Kh("datagrid","10.0.0",()=>Th),flamegraph:()=>new Kh("flamegraph","10.0.0"),gauge:()=>new Kh("gauge","10.0.0",()=>Dh),geomap:()=>new Kh("geomap","10.0.0",()=>Ah),heatmap:()=>new Kh("heatmap","10.0.0",()=>Ih.KQ),histogram:()=>new Kh("histogram","10.0.0",()=>Lh,()=>Qh),logs:()=>new Kh("logs","10.0.0"),news:()=>new Kh("news","10.0.0",()=>Nh),nodegraph:()=>new Kh("nodeGraph","10.0.0"),piechart:()=>new Kh("piechart","10.0.0",()=>Vh),stat:()=>new Kh("stat","10.0.0",()=>zh),statetimeline:()=>new Kh("state-timeline","10.0.0",()=>Mh,()=>jh),statushistory:()=>new Kh("status-history","10.0.0",()=>Fh,()=>Xh),table:()=>new Kh("table","10.0.0",()=>Uh),text:()=>new Kh("text","10.0.0",()=>Bh),timeseries:()=>new Kh("timeseries","10.0.0"),trend:()=>new Kh("trend","10.0.0"),traces:()=>new Kh("traces","10.0.0"),xychart:()=>new Kh("xychart","10.0.0",()=>Wh,()=>qh)};Nt.reduce((e,t)=>(e[t.code]=async()=>await function(e){return"../locales/en-US/grafana-scenes.json"===e?n.e(767).then(n.bind(n,4767)):new Promise(function(t,n){("function"==typeof queueMicrotask?queueMicrotask:setTimeout)(n.bind(null,new Error("Unknown variable dynamic import: "+e)))})}(`../locales/${t.code}/grafana-scenes.json`),e),{});const ep={barchart:()=>new Yh(()=>_h),bargauge:()=>new Yh,datagrid:()=>new Yh,flamegraph:()=>new Yh,gauge:()=>new Yh,geomap:()=>new Yh,heatmap:()=>new Yh,histogram:()=>new Yh(()=>Qh),logs:()=>new Yh,news:()=>new Yh,nodegraph:()=>new Yh,piechart:()=>new Yh,stat:()=>new Yh,statetimeline:()=>new Yh(()=>jh),statushistory:()=>new Yh(()=>Xh),table:()=>new Yh,text:()=>new Yh,timeseries:()=>new Yh,trend:()=>new Yh,traces:()=>new Yh,xychart:()=>new Yh(()=>qh)},tp={getUrlWithAppState:o,registerRuntimePanelPlugin:function({pluginId:e,plugin:t}){if(u.has(e))throw new Error(`A runtime panel plugin with id ${e} has already been registered`);t.meta={...t.meta,id:e,name:e,module:"runtime plugin",baseUrl:"runtime plugin",info:{author:{name:"Runtime plugin "+e},description:"",links:[],logos:{large:"",small:""},screenshots:[],updated:"",version:""}},u.set(e,t)},registerRuntimeDataSource:Q,registerVariableMacro:function(e,t){if(bn.get(e))throw new Error(`Macro already registered ${e}`);return bn.set(e,t),()=>{bn.delete(e)}},cloneSceneObjectState:A,syncStateFromSearchParams:function(e,t,n){iu(e,t,new nu(n))},getUrlState:au,renderPrometheusLabelFilters:fl,escapeLabelValueInRegexSelector:ml,escapeLabelValueInExactSelector:gl,escapeURLDelimiters:function(e){return Ol(yl(e))},isAdHocVariable:function(e){return"adhoc"===e.state.type},isConstantVariable:function(e){return"constant"===e.state.type},isCustomVariable:function(e){return"custom"===e.state.type},isDataSourceVariable:function(e){return"datasource"===e.state.type},isIntervalVariable:function(e){return"interval"===e.state.type},isQueryVariable:function(e){return"query"===e.state.type},isTextBoxVariable:function(e){return"textbox"===e.state.type},isGroupByVariable:function(e){return"groupby"===e.state.type}}},906:(e,t)=>{"use strict";function n(e){var t=e.margin,n=e.containerPadding,r=e.containerWidth,a=e.cols;return(r-t[0]*(a-1)-2*n[0])/a}function r(e,t,n){return Number.isFinite(e)?Math.round(t*e+Math.max(0,e-1)*n):e}function a(e,t,n){return Math.max(Math.min(e,n),t)}Object.defineProperty(t,"__esModule",{value:!0}),t.calcGridColWidth=n,t.calcGridItemPosition=function(e,t,a,i,s,o){var l=e.margin,u=e.containerPadding,c=e.rowHeight,d=n(e),h={};o&&o.resizing?(h.width=Math.round(o.resizing.width),h.height=Math.round(o.resizing.height)):(h.width=r(i,d,l[0]),h.height=r(s,c,l[1]));o&&o.dragging?(h.top=Math.round(o.dragging.top),h.left=Math.round(o.dragging.left)):(h.top=Math.round((c+l[1])*a+u[1]),h.left=Math.round((d+l[0])*t+u[0]));return h},t.calcGridItemWHPx=r,t.calcWH=function(e,t,r,i,s){var o=e.margin,l=e.maxRows,u=e.cols,c=e.rowHeight,d=n(e),h=Math.round((t+o[0])/(d+o[0])),p=Math.round((r+o[1])/(c+o[1]));return h=a(h,0,u-i),p=a(p,0,l-s),{w:h,h:p}},t.calcXY=function(e,t,r,i,s){var o=e.margin,l=e.cols,u=e.rowHeight,c=e.maxRows,d=n(e),h=Math.round((r-o[0])/(d+o[0])),p=Math.round((t-o[1])/(u+o[1]));return h=a(h,0,l-i),p=a(p,0,c-s),{x:h,y:p}},t.clamp=a},936:(e,t,n)=>{"use strict";e.exports=function(){throw new Error("Don't instantiate Resizable directly! Use require('react-resizable').Resizable")},e.exports.Resizable=n(1794).default,e.exports.ResizableBox=n(6609).default},1060:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return function(e,t){if(!t&&e&&e.__esModule)return e;var a,i,s={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return s;if(a=t?r:n){if(a.has(e))return a.get(e);a.set(e,s)}for(const t in e)"default"!==t&&{}.hasOwnProperty.call(e,t)&&((i=(a=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(i.get||i.set)?a(s,t,i):s[t]=e[t]);return s}(e,t)}(n(5959)),a=c(n(2688)),i=c(n(8398)),s=n(2837),o=n(402),l=n(6732),u=c(n(7988));function c(e){return e&&e.__esModule?e:{default:e}}function d(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const h={start:"touchstart",move:"touchmove",stop:"touchend"},p={start:"mousedown",move:"mousemove",stop:"mouseup"};let f=p;class g extends r.Component{constructor(){super(...arguments),d(this,"dragging",!1),d(this,"lastX",NaN),d(this,"lastY",NaN),d(this,"touchIdentifier",null),d(this,"mounted",!1),d(this,"handleDragStart",e=>{if(this.props.onMouseDown(e),!this.props.allowAnyClick&&"number"==typeof e.button&&0!==e.button)return!1;const t=this.findDOMNode();if(!t||!t.ownerDocument||!t.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");const{ownerDocument:n}=t;if(this.props.disabled||!(e.target instanceof n.defaultView.Node)||this.props.handle&&!(0,s.matchesSelectorAndParentsTo)(e.target,this.props.handle,t)||this.props.cancel&&(0,s.matchesSelectorAndParentsTo)(e.target,this.props.cancel,t))return;"touchstart"!==e.type||this.props.allowMobileScroll||e.preventDefault();const r=(0,s.getTouchIdentifier)(e);this.touchIdentifier=r;const a=(0,o.getControlPosition)(e,r,this);if(null==a)return;const{x:i,y:l}=a,c=(0,o.createCoreData)(this,i,l);(0,u.default)("DraggableCore: handleDragStart: %j",c),(0,u.default)("calling",this.props.onStart);!1!==this.props.onStart(e,c)&&!1!==this.mounted&&(this.props.enableUserSelectHack&&(0,s.addUserSelectStyles)(n),this.dragging=!0,this.lastX=i,this.lastY=l,(0,s.addEvent)(n,f.move,this.handleDrag),(0,s.addEvent)(n,f.stop,this.handleDragStop))}),d(this,"handleDrag",e=>{const t=(0,o.getControlPosition)(e,this.touchIdentifier,this);if(null==t)return;let{x:n,y:r}=t;if(Array.isArray(this.props.grid)){let e=n-this.lastX,t=r-this.lastY;if([e,t]=(0,o.snapToGrid)(this.props.grid,e,t),!e&&!t)return;n=this.lastX+e,r=this.lastY+t}const a=(0,o.createCoreData)(this,n,r);(0,u.default)("DraggableCore: handleDrag: %j",a);if(!1!==this.props.onDrag(e,a)&&!1!==this.mounted)this.lastX=n,this.lastY=r;else try{this.handleDragStop(new MouseEvent("mouseup"))}catch(e){const t=document.createEvent("MouseEvents");t.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(t)}}),d(this,"handleDragStop",e=>{if(!this.dragging)return;const t=(0,o.getControlPosition)(e,this.touchIdentifier,this);if(null==t)return;let{x:n,y:r}=t;if(Array.isArray(this.props.grid)){let e=n-this.lastX||0,t=r-this.lastY||0;[e,t]=(0,o.snapToGrid)(this.props.grid,e,t),n=this.lastX+e,r=this.lastY+t}const a=(0,o.createCoreData)(this,n,r);if(!1===this.props.onStop(e,a)||!1===this.mounted)return!1;const i=this.findDOMNode();i&&this.props.enableUserSelectHack&&(0,s.scheduleRemoveUserSelectStyles)(i.ownerDocument),(0,u.default)("DraggableCore: handleDragStop: %j",a),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,i&&((0,u.default)("DraggableCore: Removing handlers"),(0,s.removeEvent)(i.ownerDocument,f.move,this.handleDrag),(0,s.removeEvent)(i.ownerDocument,f.stop,this.handleDragStop))}),d(this,"onMouseDown",e=>(f=p,this.handleDragStart(e))),d(this,"onMouseUp",e=>(f=p,this.handleDragStop(e))),d(this,"onTouchStart",e=>(f=h,this.handleDragStart(e))),d(this,"onTouchEnd",e=>(f=h,this.handleDragStop(e)))}componentDidMount(){this.mounted=!0;const e=this.findDOMNode();e&&(0,s.addEvent)(e,h.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;const e=this.findDOMNode();if(e){const{ownerDocument:t}=e;(0,s.removeEvent)(t,p.move,this.handleDrag),(0,s.removeEvent)(t,h.move,this.handleDrag),(0,s.removeEvent)(t,p.stop,this.handleDragStop),(0,s.removeEvent)(t,h.stop,this.handleDragStop),(0,s.removeEvent)(e,h.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,s.scheduleRemoveUserSelectStyles)(t)}}findDOMNode(){return this.props?.nodeRef?this.props?.nodeRef?.current:i.default.findDOMNode(this)}render(){return r.cloneElement(r.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}}t.default=g,d(g,"displayName","DraggableCore"),d(g,"propTypes",{allowAnyClick:a.default.bool,allowMobileScroll:a.default.bool,children:a.default.node.isRequired,disabled:a.default.bool,enableUserSelectHack:a.default.bool,offsetParent:function(e,t){if(e[t]&&1!==e[t].nodeType)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:a.default.arrayOf(a.default.number),handle:a.default.string,cancel:a.default.string,nodeRef:a.default.object,onStart:a.default.func,onDrag:a.default.func,onStop:a.default.func,onMouseDown:a.default.func,scale:a.default.number,className:l.dontSetMe,style:l.dontSetMe,transform:l.dontSetMe}),d(g,"defaultProps",{allowAnyClick:!1,allowMobileScroll:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1})},1112:(e,t,n)=>{"use strict";const r=n(8395);e.exports=(e,t,n)=>(e=new r(e,n),t=new r(t,n),e.intersects(t,n))},1158:e=>{"use strict";e.exports=class{constructor(){this.max=1e3,this.map=new Map}get(e){const t=this.map.get(e);return void 0===t?void 0:(this.map.delete(e),this.map.set(e,t),t)}delete(e){return this.map.delete(e)}set(e,t){if(!this.delete(e)&&void 0!==t){if(this.map.size>=this.max){const e=this.map.keys().next().value;this.delete(e)}this.map.set(e,t)}return this}}},1465:(e,t,n)=>{"use strict";const r=n(1722),a=n(5380);e.exports=(e,t,n)=>{const i=[];let s=null,o=null;const l=e.sort((e,t)=>a(e,t,n));for(const e of l){r(e,t,n)?(o=e,s||(s=e)):(o&&i.push([s,o]),o=null,s=null)}s&&i.push([s,null]);const u=[];for(const[e,t]of i)e===t?u.push(e):t||e!==l[0]?t?e===l[0]?u.push(`<=${t}`):u.push(`${e} - ${t}`):u.push(`>=${e}`):u.push("*");const c=u.join(" || "),d="string"==typeof t.raw?t.raw:String(t);return c.length<d.length?c:t}},1617:(e,t,n)=>{"use strict";const r=n(7944);e.exports=(e,t)=>new r(e,t).patch},1625:(e,t,n)=>{"use strict";n.d(t,{$N:()=>a,$m:()=>o,ob:()=>s,vp:()=>l,xB:()=>i,yL:()=>r});var r=(e=>(e.Always="always",e.Auto="auto",e.Never="never",e))(r||{});var a=(e=>(e.Multi="multi",e.None="none",e.Single="single",e))(a||{}),i=(e=>(e.Ascending="asc",e.Descending="desc",e.None="none",e))(i||{});var s=(e=>(e.Actions="actions",e.Auto="auto",e.BasicGauge="basic",e.ColorBackground="color-background",e.ColorBackgroundSolid="color-background-solid",e.ColorText="color-text",e.Custom="custom",e.DataLinks="data-links",e.Gauge="gauge",e.GradientGauge="gradient-gauge",e.Image="image",e.JSONView="json-view",e.LcdGauge="lcd-gauge",e.Sparkline="sparkline",e))(s||{});var o=(e=>(e.CSV="csv",e.Date="date",e.Distributed="distributed",e.DoubleQuote="doublequote",e.Glob="glob",e.HTML="html",e.JSON="json",e.Lucene="lucene",e.PercentEncode="percentencode",e.Pipe="pipe",e.QueryParam="queryparam",e.Raw="raw",e.Regex="regex",e.SQLString="sqlstring",e.SingleQuote="singlequote",e.Text="text",e.UriEncode="uriencode",e))(o||{});const l="browser"},1722:(e,t,n)=>{"use strict";const r=n(8395);e.exports=(e,t,n)=>{try{t=new r(t,n)}catch(e){return!1}return t.test(e)}},1792:(e,t,n)=>{"use strict";n.d(t,{A:()=>P});var r=n(5959),a=e=>"string"!=typeof e?{}:e.split(/ ?; ?/).reduce((e,t)=>{const[n,r]=t.split(/ ?: ?/).map((e,t)=>0===t?e.replace(/\s+/g,""):e.trim());if(n&&r){const t=n.replace(/(\w)-(\w)/g,(e,t,n)=>`${t}${n.toUpperCase()}`);let a=r.trim();Number.isNaN(Number(r))||(a=Number(r)),e[n.startsWith("-")?n:t]=a}return e},{});var i=["br","col","colgroup","dl","hr","iframe","img","input","link","menuitem","meta","ol","param","select","table","tbody","tfoot","thead","tr","ul","wbr"],s={"accept-charset":"acceptCharset",acceptcharset:"acceptCharset",accesskey:"accessKey",allowfullscreen:"allowFullScreen",autocapitalize:"autoCapitalize",autocomplete:"autoComplete",autocorrect:"autoCorrect",autofocus:"autoFocus",autoplay:"autoPlay",autosave:"autoSave",cellpadding:"cellPadding",cellspacing:"cellSpacing",charset:"charSet",class:"className",classid:"classID",classname:"className",colspan:"colSpan",contenteditable:"contentEditable",contextmenu:"contextMenu",controlslist:"controlsList",crossorigin:"crossOrigin",dangerouslysetinnerhtml:"dangerouslySetInnerHTML",datetime:"dateTime",defaultchecked:"defaultChecked",defaultvalue:"defaultValue",enctype:"encType",for:"htmlFor",formmethod:"formMethod",formaction:"formAction",formenctype:"formEncType",formnovalidate:"formNoValidate",formtarget:"formTarget",frameborder:"frameBorder",hreflang:"hrefLang",htmlfor:"htmlFor",httpequiv:"httpEquiv","http-equiv":"httpEquiv",icon:"icon",innerhtml:"innerHTML",inputmode:"inputMode",itemid:"itemID",itemprop:"itemProp",itemref:"itemRef",itemscope:"itemScope",itemtype:"itemType",keyparams:"keyParams",keytype:"keyType",marginwidth:"marginWidth",marginheight:"marginHeight",maxlength:"maxLength",mediagroup:"mediaGroup",minlength:"minLength",nomodule:"noModule",novalidate:"noValidate",playsinline:"playsInline",radiogroup:"radioGroup",readonly:"readOnly",referrerpolicy:"referrerPolicy",rowspan:"rowSpan",spellcheck:"spellCheck",srcdoc:"srcDoc",srclang:"srcLang",srcset:"srcSet",tabindex:"tabIndex",typemustmatch:"typeMustMatch",usemap:"useMap",accentheight:"accentHeight","accent-height":"accentHeight",alignmentbaseline:"alignmentBaseline","alignment-baseline":"alignmentBaseline",allowreorder:"allowReorder",arabicform:"arabicForm","arabic-form":"arabicForm",attributename:"attributeName",attributetype:"attributeType",autoreverse:"autoReverse",basefrequency:"baseFrequency",baselineshift:"baselineShift","baseline-shift":"baselineShift",baseprofile:"baseProfile",calcmode:"calcMode",capheight:"capHeight","cap-height":"capHeight",clippath:"clipPath","clip-path":"clipPath",clippathunits:"clipPathUnits",cliprule:"clipRule","clip-rule":"clipRule",colorinterpolation:"colorInterpolation","color-interpolation":"colorInterpolation",colorinterpolationfilters:"colorInterpolationFilters","color-interpolation-filters":"colorInterpolationFilters",colorprofile:"colorProfile","color-profile":"colorProfile",colorrendering:"colorRendering","color-rendering":"colorRendering",contentscripttype:"contentScriptType",contentstyletype:"contentStyleType",diffuseconstant:"diffuseConstant",dominantbaseline:"dominantBaseline","dominant-baseline":"dominantBaseline",edgemode:"edgeMode",enablebackground:"enableBackground","enable-background":"enableBackground",externalresourcesrequired:"externalResourcesRequired",fillopacity:"fillOpacity","fill-opacity":"fillOpacity",fillrule:"fillRule","fill-rule":"fillRule",filterres:"filterRes",filterunits:"filterUnits",floodopacity:"floodOpacity","flood-opacity":"floodOpacity",floodcolor:"floodColor","flood-color":"floodColor",fontfamily:"fontFamily","font-family":"fontFamily",fontsize:"fontSize","font-size":"fontSize",fontsizeadjust:"fontSizeAdjust","font-size-adjust":"fontSizeAdjust",fontstretch:"fontStretch","font-stretch":"fontStretch",fontstyle:"fontStyle","font-style":"fontStyle",fontvariant:"fontVariant","font-variant":"fontVariant",fontweight:"fontWeight","font-weight":"fontWeight",glyphname:"glyphName","glyph-name":"glyphName",glyphorientationhorizontal:"glyphOrientationHorizontal","glyph-orientation-horizontal":"glyphOrientationHorizontal",glyphorientationvertical:"glyphOrientationVertical","glyph-orientation-vertical":"glyphOrientationVertical",glyphref:"glyphRef",gradienttransform:"gradientTransform",gradientunits:"gradientUnits",horizadvx:"horizAdvX","horiz-adv-x":"horizAdvX",horizoriginx:"horizOriginX","horiz-origin-x":"horizOriginX",imagerendering:"imageRendering","image-rendering":"imageRendering",kernelmatrix:"kernelMatrix",kernelunitlength:"kernelUnitLength",keypoints:"keyPoints",keysplines:"keySplines",keytimes:"keyTimes",lengthadjust:"lengthAdjust",letterspacing:"letterSpacing","letter-spacing":"letterSpacing",lightingcolor:"lightingColor","lighting-color":"lightingColor",limitingconeangle:"limitingConeAngle",markerend:"markerEnd","marker-end":"markerEnd",markerheight:"markerHeight",markermid:"markerMid","marker-mid":"markerMid",markerstart:"markerStart","marker-start":"markerStart",markerunits:"markerUnits",markerwidth:"markerWidth",maskcontentunits:"maskContentUnits",maskunits:"maskUnits",numoctaves:"numOctaves",overlineposition:"overlinePosition","overline-position":"overlinePosition",overlinethickness:"overlineThickness","overline-thickness":"overlineThickness",paintorder:"paintOrder","paint-order":"paintOrder","panose-1":"panose1",pathlength:"pathLength",patterncontentunits:"patternContentUnits",patterntransform:"patternTransform",patternunits:"patternUnits",pointerevents:"pointerEvents","pointer-events":"pointerEvents",pointsatx:"pointsAtX",pointsaty:"pointsAtY",pointsatz:"pointsAtZ",preservealpha:"preserveAlpha",preserveaspectratio:"preserveAspectRatio",primitiveunits:"primitiveUnits",refx:"refX",refy:"refY",renderingintent:"renderingIntent","rendering-intent":"renderingIntent",repeatcount:"repeatCount",repeatdur:"repeatDur",requiredextensions:"requiredExtensions",requiredfeatures:"requiredFeatures",shaperendering:"shapeRendering","shape-rendering":"shapeRendering",specularconstant:"specularConstant",specularexponent:"specularExponent",spreadmethod:"spreadMethod",startoffset:"startOffset",stddeviation:"stdDeviation",stitchtiles:"stitchTiles",stopcolor:"stopColor","stop-color":"stopColor",stopopacity:"stopOpacity","stop-opacity":"stopOpacity",strikethroughposition:"strikethroughPosition","strikethrough-position":"strikethroughPosition",strikethroughthickness:"strikethroughThickness","strikethrough-thickness":"strikethroughThickness",strokedasharray:"strokeDasharray","stroke-dasharray":"strokeDasharray",strokedashoffset:"strokeDashoffset","stroke-dashoffset":"strokeDashoffset",strokelinecap:"strokeLinecap","stroke-linecap":"strokeLinecap",strokelinejoin:"strokeLinejoin","stroke-linejoin":"strokeLinejoin",strokemiterlimit:"strokeMiterlimit","stroke-miterlimit":"strokeMiterlimit",strokewidth:"strokeWidth","stroke-width":"strokeWidth",strokeopacity:"strokeOpacity","stroke-opacity":"strokeOpacity",suppresscontenteditablewarning:"suppressContentEditableWarning",suppresshydrationwarning:"suppressHydrationWarning",surfacescale:"surfaceScale",systemlanguage:"systemLanguage",tablevalues:"tableValues",targetx:"targetX",targety:"targetY",textanchor:"textAnchor","text-anchor":"textAnchor",textdecoration:"textDecoration","text-decoration":"textDecoration",textlength:"textLength",textrendering:"textRendering","text-rendering":"textRendering",underlineposition:"underlinePosition","underline-position":"underlinePosition",underlinethickness:"underlineThickness","underline-thickness":"underlineThickness",unicodebidi:"unicodeBidi","unicode-bidi":"unicodeBidi",unicoderange:"unicodeRange","unicode-range":"unicodeRange",unitsperem:"unitsPerEm","units-per-em":"unitsPerEm",unselectable:"unselectable",valphabetic:"vAlphabetic","v-alphabetic":"vAlphabetic",vectoreffect:"vectorEffect","vector-effect":"vectorEffect",vertadvy:"vertAdvY","vert-adv-y":"vertAdvY",vertoriginx:"vertOriginX","vert-origin-x":"vertOriginX",vertoriginy:"vertOriginY","vert-origin-y":"vertOriginY",vhanging:"vHanging","v-hanging":"vHanging",videographic:"vIdeographic","v-ideographic":"vIdeographic",viewbox:"viewBox",viewtarget:"viewTarget",vmathematical:"vMathematical","v-mathematical":"vMathematical",wordspacing:"wordSpacing","word-spacing":"wordSpacing",writingmode:"writingMode","writing-mode":"writingMode",xchannelselector:"xChannelSelector",xheight:"xHeight","x-height":"xHeight",xlinkactuate:"xlinkActuate","xlink:actuate":"xlinkActuate",xlinkarcrole:"xlinkArcrole","xlink:arcrole":"xlinkArcrole",xlinkhref:"xlinkHref","xlink:href":"xlinkHref",xlinkrole:"xlinkRole","xlink:role":"xlinkRole",xlinkshow:"xlinkShow","xlink:show":"xlinkShow",xlinktitle:"xlinkTitle","xlink:title":"xlinkTitle",xlinktype:"xlinkType","xlink:type":"xlinkType",xmlbase:"xmlBase","xml:base":"xmlBase",xmllang:"xmlLang","xml:lang":"xmlLang","xml:space":"xmlSpace",xmlnsxlink:"xmlnsXlink","xmlns:xlink":"xmlnsXlink",xmlspace:"xmlSpace",ychannelselector:"yChannelSelector",zoomandpan:"zoomAndPan",onblur:"onBlur",onchange:"onChange",onclick:"onClick",oncontextmenu:"onContextMenu",ondoubleclick:"onDoubleClick",ondrag:"onDrag",ondragend:"onDragEnd",ondragenter:"onDragEnter",ondragexit:"onDragExit",ondragleave:"onDragLeave",ondragover:"onDragOver",ondragstart:"onDragStart",ondrop:"onDrop",onerror:"onError",onfocus:"onFocus",oninput:"onInput",oninvalid:"onInvalid",onkeydown:"onKeyDown",onkeypress:"onKeyPress",onkeyup:"onKeyUp",onload:"onLoad",onmousedown:"onMouseDown",onmouseenter:"onMouseEnter",onmouseleave:"onMouseLeave",onmousemove:"onMouseMove",onmouseout:"onMouseOut",onmouseover:"onMouseOver",onmouseup:"onMouseUp",onscroll:"onScroll",onsubmit:"onSubmit",ontouchcancel:"onTouchCancel",ontouchend:"onTouchEnd",ontouchmove:"onTouchMove",ontouchstart:"onTouchStart",onwheel:"onWheel"};function o(e,t){const{key:n,level:o,...u}=t;switch(e.nodeType){case 1:return r.createElement(function(e){if(/[a-z]+[A-Z]+[a-z]+/.test(e))return e;return e.toLowerCase()}(e.nodeName),function(e,t){const n={key:t};if(e instanceof Element){const t=e.getAttribute("class");t&&(n.className=t),[...e.attributes].forEach(e=>{switch(e.name){case"class":break;case"style":n[e.name]=a(e.value);break;case"allowfullscreen":case"allowpaymentrequest":case"async":case"autofocus":case"autoplay":case"checked":case"controls":case"default":case"defer":case"disabled":case"formnovalidate":case"hidden":case"ismap":case"itemscope":case"loop":case"multiple":case"muted":case"nomodule":case"novalidate":case"open":case"readonly":case"required":case"reversed":case"selected":case"typemustmatch":n[s[e.name]||e.name]=!0;break;default:n[s[e.name]||e.name]=e.value}})}return n}(e,n),l(e.childNodes,o,u));case 3:{const t=e.nodeValue?.toString()??"";if(!u.allowWhiteSpaces&&/^\s+$/.test(t)&&!/[\u00A0\u202F]/.test(t))return null;if(!e.parentNode)return t;const n=e.parentNode.nodeName.toLowerCase();return i.includes(n)?(/\S/.test(t)&&console.warn(`A textNode is not allowed inside '${n}'. Your text "${t}" will be ignored`),null):t}case 8:default:return null;case 11:return l(e.childNodes,o,t)}}function l(e,t,n){const r=[...e].map((e,r)=>c(e,{...n,index:r,level:t+1})).filter(Boolean);return r.length?r:null}function u(e,t={}){return"string"==typeof e?function(e,t={}){if(!e||"string"!=typeof e)return null;const{includeAllNodes:n=!1,nodeOnly:r=!1,selector:a="body > *",type:i="text/html"}=t;try{const s=(new DOMParser).parseFromString(e,i);if(n){const{childNodes:e}=s.body;return r?e:[...e].map(e=>c(e,t))}const o=s.querySelector(a)||s.body.childNodes[0];if(!(o instanceof Node))throw new TypeError("Error parsing input");return r?o:c(o,t)}catch(e){0}return null}(e,t):e instanceof Node?c(e,t):null}function c(e,t={}){if(!(e&&e instanceof Node))return null;const{actions:n=[],index:r=0,level:a=0,randomKey:i}=t;let s=e,l=`${a}-${r}`;const u=[];return i&&0===a&&(l=`${function(e=6){const t="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";let n="";for(let r=e;r>0;--r)n+=t[Math.round(61*Math.random())];return n}()}-${l}`),Array.isArray(n)&&n.forEach(t=>{t.condition(s,l,a)&&("function"==typeof t.pre&&(s=t.pre(s,l,a),s instanceof Node||(s=e)),"function"==typeof t.post&&u.push(t.post(s,l,a)))}),u.length?u:o(s,{key:l,level:a,...t})}var d=Object.defineProperty,h=(e,t,n)=>((e,t,n)=>t in e?d(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n),p="react-inlinesvg",f={IDLE:"idle",LOADING:"loading",LOADED:"loaded",FAILED:"failed",READY:"ready",UNSUPPORTED:"unsupported"};function g(e){return e[Math.floor(Math.random()*e.length)]}function m(){return!("undefined"==typeof window||!window.document?.createElement)}function v(){return function(){if(!document)return!1;const e=document.createElement("div");e.innerHTML="<svg />";const t=e.firstChild;return!!t&&"http://www.w3.org/2000/svg"===t.namespaceURI}()&&"undefined"!=typeof window&&null!==window}async function b(e,t){const n=await fetch(e,t),r=n.headers.get("content-type"),[a]=(r??"").split(/ ?; ?/);if(n.status>299)throw new Error("Not found");if(!["image/svg+xml","text/plain"].some(e=>a.includes(e)))throw new Error(`Content type isn't valid: ${a}`);return n.text()}function y(e=1){return new Promise(t=>{setTimeout(t,1e3*e)})}var O,w=class{constructor(){h(this,"cacheApi"),h(this,"cacheStore"),h(this,"subscribers",[]),h(this,"isReady",!1),this.cacheStore=new Map;let e=p,t=!1;m()&&(e=window.REACT_INLINESVG_CACHE_NAME??p,t=!!window.REACT_INLINESVG_PERSISTENT_CACHE&&"caches"in window),t?caches.open(e).then(e=>{this.cacheApi=e}).catch(e=>{console.error(`Failed to open cache: ${e.message}`),this.cacheApi=void 0}).finally(()=>{this.isReady=!0;const e=[...this.subscribers];this.subscribers.length=0,e.forEach(e=>{try{e()}catch(e){console.error(`Error in CacheStore subscriber callback: ${e.message}`)}})}):this.isReady=!0}onReady(e){this.isReady?e():this.subscribers.push(e)}async get(e,t){return await(this.cacheApi?this.fetchAndAddToPersistentCache(e,t):this.fetchAndAddToInternalCache(e,t)),this.cacheStore.get(e)?.content??""}set(e,t){this.cacheStore.set(e,t)}isCached(e){return this.cacheStore.get(e)?.status===f.LOADED}async fetchAndAddToInternalCache(e,t){const n=this.cacheStore.get(e);if(n?.status!==f.LOADING){if(!n?.content){this.cacheStore.set(e,{content:"",status:f.LOADING});try{const n=await b(e,t);this.cacheStore.set(e,{content:n,status:f.LOADED})}catch(t){throw this.cacheStore.set(e,{content:"",status:f.FAILED}),t}}}else await this.handleLoading(e,async()=>{this.cacheStore.set(e,{content:"",status:f.IDLE}),await this.fetchAndAddToInternalCache(e,t)})}async fetchAndAddToPersistentCache(e,t){const n=this.cacheStore.get(e);if(n?.status===f.LOADED)return;if(n?.status===f.LOADING)return void await this.handleLoading(e,async()=>{this.cacheStore.set(e,{content:"",status:f.IDLE}),await this.fetchAndAddToPersistentCache(e,t)});this.cacheStore.set(e,{content:"",status:f.LOADING});const r=await(this.cacheApi?.match(e));if(r){const t=await r.text();return void this.cacheStore.set(e,{content:t,status:f.LOADED})}try{await(this.cacheApi?.add(new Request(e,t)));const n=await(this.cacheApi?.match(e)),r=await(n?.text())??"";this.cacheStore.set(e,{content:r,status:f.LOADED})}catch(t){throw this.cacheStore.set(e,{content:"",status:f.FAILED}),t}}async handleLoading(e,t){for(let t=0;t<10;t++){if(this.cacheStore.get(e)?.status!==f.LOADING)return;await y(.1)}await t()}keys(){return[...this.cacheStore.keys()]}data(){return[...this.cacheStore.entries()].map(([e,t])=>({[e]:t}))}async delete(e){this.cacheApi&&await this.cacheApi.delete(e),this.cacheStore.delete(e)}async clear(){if(this.cacheApi){const e=await this.cacheApi.keys();await Promise.allSettled(e.map(e=>this.cacheApi.delete(e)))}this.cacheStore.clear()}};function x(e){const t=(0,r.useRef)(void 0);return(0,r.useEffect)(()=>{t.current=e}),t.current}function S(e){const{baseURL:t,content:n,description:r,handleError:a,hash:i,preProcessor:s,title:o,uniquifyIDs:l=!1}=e;try{const e=function(e,t){if(t)return t(e);return e}(n,s),a=u(e,{nodeOnly:!0});if(!(a&&a instanceof SVGSVGElement))throw new Error("Could not convert the src to a DOM Node");const c=$(a,{baseURL:t,hash:i,uniquifyIDs:l});if(r){const e=c.querySelector("desc");e?.parentNode&&e.parentNode.removeChild(e);const t=document.createElementNS("http://www.w3.org/2000/svg","desc");t.innerHTML=r,c.prepend(t)}if(void 0!==o){const e=c.querySelector("title");if(e?.parentNode&&e.parentNode.removeChild(e),o){const e=document.createElementNS("http://www.w3.org/2000/svg","title");e.innerHTML=o,c.prepend(e)}}return c}catch(e){return a(e)}}function $(e,t){const{baseURL:n="",hash:r,uniquifyIDs:a}=t,i=["id","href","xlink:href","xlink:role","xlink:arcrole"],s=["href","xlink:href"];return a?([...e.children].forEach(e=>{if(e.attributes?.length){const t=Object.values(e.attributes).map(e=>{const t=e,a=/url\((.*?)\)/.exec(e.value);return a?.[1]&&(t.value=e.value.replace(a[0],`url(${n}${a[1]}__${r})`)),t});i.forEach(e=>{const n=t.find(t=>t.name===e);var a,i;n&&(a=e,i=n.value,!s.includes(a)||!i||i.includes("#"))&&(n.value=`${n.value}__${r}`)})}return e.children.length?$(e,t):e}),e):e}function R(e){const{cacheRequests:t=!0,children:n=null,description:a,fetchOptions:i,innerRef:s,loader:o=null,onError:l,onLoad:c,src:d,title:h,uniqueHash:p}=e,[y,w]=(0,r.useReducer)((e,t)=>({...e,...t}),{content:"",element:null,isCached:t&&O.isCached(e.src),status:f.IDLE}),{content:$,element:R,isCached:P,status:E}=y,k=x(e),_=x(y),C=(0,r.useRef)(p??function(e){const t="abcdefghijklmnopqrstuvwxyz",n=`${t}${t.toUpperCase()}1234567890`;let r="";for(let t=0;t<e;t++)r+=g(n);return r}(8)),T=(0,r.useRef)(!1),D=(0,r.useRef)(!1),A=(0,r.useCallback)(e=>{T.current&&(w({status:"Browser does not support SVG"===e.message?f.UNSUPPORTED:f.FAILED}),l?.(e))},[l]),I=(0,r.useCallback)((e,t=!1)=>{T.current&&w({content:e,isCached:t,status:f.LOADED})},[]),L=(0,r.useCallback)(async()=>{const e=await b(d,i);I(e)},[i,I,d]),Q=(0,r.useCallback)(()=>{try{const t=u(S({...e,handleError:A,hash:C.current,content:$}));if(!t||!(0,r.isValidElement)(t))throw new Error("Could not convert the src to a React element");w({element:t,status:f.READY})}catch(e){A(e)}},[$,A,e]),N=(0,r.useCallback)(async()=>{const e=/^data:image\/svg[^,]*?(;base64)?,(.*)/u.exec(d);let n;if(e?n=e[1]?window.atob(e[2]):decodeURIComponent(e[2]):d.includes("<svg")&&(n=d),n)I(n);else try{if(t){const e=await O.get(d,i);I(e,!0)}else await L()}catch(e){A(e)}},[t,L,i,A,I,d]),V=(0,r.useCallback)(async()=>{T.current&&w({content:"",element:null,isCached:!1,status:f.LOADING})},[]);(0,r.useEffect)(()=>{if(T.current=!0,m()&&!D.current){try{if(E===f.IDLE){if(!v())throw new Error("Browser does not support SVG");if(!d)throw new Error("Missing src");V()}}catch(e){A(e)}return D.current=!0,()=>{T.current=!1}}},[]),(0,r.useEffect)(()=>{if(m()&&k&&k.src!==d){if(!d)return void A(new Error("Missing src"));V()}},[A,V,k,d]),(0,r.useEffect)(()=>{E===f.LOADED&&Q()},[E,Q]),(0,r.useEffect)(()=>{m()&&k&&k.src===d&&(k.title===h&&k.description===a||Q())},[a,Q,k,d,h]),(0,r.useEffect)(()=>{if(_)switch(E){case f.LOADING:_.status!==f.LOADING&&N();break;case f.LOADED:_.status!==f.LOADED&&Q();break;case f.READY:_.status!==f.READY&&c?.(d,P)}},[N,Q,P,c,_,d,E]);const z=function(e,...t){const n={};for(const r in e)({}).hasOwnProperty.call(e,r)&&(t.includes(r)||(n[r]=e[r]));return n}(e,"baseURL","cacheRequests","children","description","fetchOptions","innerRef","loader","onError","onLoad","preProcessor","src","title","uniqueHash","uniquifyIDs");return m()?R?(0,r.cloneElement)(R,{ref:s,...z}):[f.UNSUPPORTED,f.FAILED].includes(E)?n:o:o}function P(e){O||(O=new w);const{loader:t}=e,[n,a]=(0,r.useState)(O.isReady);return(0,r.useEffect)(()=>{n||O.onReady(()=>{a(!0)})},[n]),n?r.createElement(R,{...e}):t}},1794:(e,t,n)=>{"use strict";t.__esModule=!0,t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=a?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(r,i,s):r[i]=e[i]}r.default=e,n&&n.set(e,r);return r}(n(5959)),a=n(8230),i=n(9954),s=n(6333),o=["children","className","draggableOpts","width","height","handle","handleSize","lockAspectRatio","axis","minConstraints","maxConstraints","onResize","onResizeStop","onResizeStart","resizeHandles","transformScale"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function u(){return u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u.apply(this,arguments)}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach(function(t){h(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function h(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e,t){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},p(e,t)}var f=function(e){var t,n;function s(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleRefs={},t.lastHandleRect=null,t.slack=null,t}n=e,(t=s).prototype=Object.create(n.prototype),t.prototype.constructor=t,p(t,n);var l=s.prototype;return l.componentWillUnmount=function(){this.resetData()},l.resetData=function(){this.lastHandleRect=this.slack=null},l.runConstraints=function(e,t){var n=this.props,r=n.minConstraints,a=n.maxConstraints,i=n.lockAspectRatio;if(!r&&!a&&!i)return[e,t];if(i){var s=this.props.width/this.props.height,o=e-this.props.width,l=t-this.props.height;Math.abs(o)>Math.abs(l*s)?t=e/s:e=t*s}var u=e,c=t,d=this.slack||[0,0],h=d[0],p=d[1];return e+=h,t+=p,r&&(e=Math.max(r[0],e),t=Math.max(r[1],t)),a&&(e=Math.min(a[0],e),t=Math.min(a[1],t)),this.slack=[h+(u-e),p+(c-t)],[e,t]},l.resizeHandler=function(e,t){var n=this;return function(r,a){var i=a.node,s=a.deltaX,o=a.deltaY;"onResizeStart"===e&&n.resetData();var l=("both"===n.props.axis||"x"===n.props.axis)&&"n"!==t&&"s"!==t,u=("both"===n.props.axis||"y"===n.props.axis)&&"e"!==t&&"w"!==t;if(l||u){var c=t[0],d=t[t.length-1],h=i.getBoundingClientRect();if(null!=n.lastHandleRect){if("w"===d)s+=h.left-n.lastHandleRect.left;if("n"===c)o+=h.top-n.lastHandleRect.top}n.lastHandleRect=h,"w"===d&&(s=-s),"n"===c&&(o=-o);var p=n.props.width+(l?s/n.props.transformScale:0),f=n.props.height+(u?o/n.props.transformScale:0),g=n.runConstraints(p,f);p=g[0],f=g[1];var m=p!==n.props.width||f!==n.props.height,v="function"==typeof n.props[e]?n.props[e]:null;v&&!("onResize"===e&&!m)&&(null==r.persist||r.persist(),v(r,{node:i,size:{width:p,height:f},handle:t})),"onResizeStop"===e&&n.resetData()}}},l.renderResizeHandle=function(e,t){var n=this.props.handle;if(!n)return r.createElement("span",{className:"react-resizable-handle react-resizable-handle-"+e,ref:t});if("function"==typeof n)return n(e,t);var a=d({ref:t},"string"==typeof n.type?{}:{handleAxis:e});return r.cloneElement(n,a)},l.render=function(){var e=this,t=this.props,n=t.children,s=t.className,l=t.draggableOpts,c=(t.width,t.height,t.handle,t.handleSize,t.lockAspectRatio,t.axis,t.minConstraints,t.maxConstraints,t.onResize,t.onResizeStop,t.onResizeStart,t.resizeHandles),h=(t.transformScale,function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(t,o));return(0,i.cloneElement)(n,d(d({},h),{},{className:(s?s+" ":"")+"react-resizable",children:[].concat(n.props.children,c.map(function(t){var n,i=null!=(n=e.handleRefs[t])?n:e.handleRefs[t]=r.createRef();return r.createElement(a.DraggableCore,u({},l,{nodeRef:i,key:"resizableHandle-"+t,onStop:e.resizeHandler("onResizeStop",t),onStart:e.resizeHandler("onResizeStart",t),onDrag:e.resizeHandler("onResize",t)}),e.renderResizeHandle(t,i))}))}))},s}(r.Component);t.default=f,f.propTypes=s.resizableProps,f.defaultProps={axis:"both",handleSize:[20,20],lockAspectRatio:!1,minConstraints:[20,20],maxConstraints:[1/0,1/0],resizeHandles:["se"],transformScale:1}},1932:(e,t,n)=>{"use strict";n.d(t,{Nc:()=>r,Rq:()=>a});const r=e=>{if(""===e)return e;return a(e)?e:`"${e}"`},a=e=>{if(0===e.length)return!1;for(let t=0;t<e.length;t++){const n=e[t];if(!i(n,t))return!1}return!0},i=(e,t)=>{const n=e.codePointAt(0);return void 0!==n&&(n>=97&&n<=122||n>=65&&n<=90||95===n||58===n||n>=48&&n<=57&&t>0)}},2077:(e,t,n)=>{"use strict";const r=n(5380);e.exports=(e,t,n)=>r(e,t,n)>=0},2192:(e,t,n)=>{"use strict";var r=n(5959),a=Symbol.for("react.element"),i=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(e,t,n){var r,i={},u=null,c=null;for(r in void 0!==n&&(u=""+n),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(c=t.ref),t)s.call(t,r)&&!l.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===i[r]&&(i[r]=t[r]);return{$$typeof:a,type:e,key:u,ref:c,props:i,_owner:o.current}}t.jsx=u},2245:(e,t,n)=>{"use strict";n.d(t,{zL:()=>a});var r=n(6145),a=(e=>(e[e.dontHide=0]="dontHide",e[e.hideLabel=1]="hideLabel",e[e.hideVariable=2]="hideVariable",e))(a||{});r.rw},2540:(e,t,n)=>{"use strict";e.exports=n(2192)},2548:(e,t,n)=>{e.exports=n(9482).default,e.exports.utils=n(414),e.exports.Responsive=n(4636).default,e.exports.Responsive.utils=n(544),e.exports.WidthProvider=n(6805).default},2688:(e,t,n)=>{e.exports=n(362)()},2801:(e,t,n)=>{"use strict";const r=n(7944);e.exports=(e,t,n)=>{const a=new r(e,n),i=new r(t,n);return a.compare(i)||a.compareBuild(i)}},2837:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addClassName=u,t.addEvent=function(e,t,n,r){if(!e)return;const a={capture:!0,...r};e.addEventListener?e.addEventListener(t,n,a):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n},t.addUserSelectStyles=function(e){if(!e)return;let t=e.getElementById("react-draggable-style-el");t||(t=e.createElement("style"),t.type="text/css",t.id="react-draggable-style-el",t.innerHTML=".react-draggable-transparent-selection *::-moz-selection {all: inherit;}\n",t.innerHTML+=".react-draggable-transparent-selection *::selection {all: inherit;}\n",e.getElementsByTagName("head")[0].appendChild(t));e.body&&u(e.body,"react-draggable-transparent-selection")},t.createCSSTransform=function(e,t){const n=o(e,t,"px");return{[(0,a.browserPrefixToKey)("transform",a.default)]:n}},t.createSVGTransform=function(e,t){return o(e,t,"")},t.getTouch=function(e,t){return e.targetTouches&&(0,r.findInArray)(e.targetTouches,e=>t===e.identifier)||e.changedTouches&&(0,r.findInArray)(e.changedTouches,e=>t===e.identifier)},t.getTouchIdentifier=function(e){if(e.targetTouches&&e.targetTouches[0])return e.targetTouches[0].identifier;if(e.changedTouches&&e.changedTouches[0])return e.changedTouches[0].identifier},t.getTranslation=o,t.innerHeight=function(e){let t=e.clientHeight;const n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,r.int)(n.paddingTop),t-=(0,r.int)(n.paddingBottom),t},t.innerWidth=function(e){let t=e.clientWidth;const n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,r.int)(n.paddingLeft),t-=(0,r.int)(n.paddingRight),t},t.matchesSelector=s,t.matchesSelectorAndParentsTo=function(e,t,n){let r=e;do{if(s(r,t))return!0;if(r===n)return!1;r=r.parentNode}while(r);return!1},t.offsetXYFromParent=function(e,t,n){const r=t===t.ownerDocument.body?{left:0,top:0}:t.getBoundingClientRect(),a=(e.clientX+t.scrollLeft-r.left)/n,i=(e.clientY+t.scrollTop-r.top)/n;return{x:a,y:i}},t.outerHeight=function(e){let t=e.clientHeight;const n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,r.int)(n.borderTopWidth),t+=(0,r.int)(n.borderBottomWidth),t},t.outerWidth=function(e){let t=e.clientWidth;const n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,r.int)(n.borderLeftWidth),t+=(0,r.int)(n.borderRightWidth),t},t.removeClassName=c,t.removeEvent=function(e,t,n,r){if(!e)return;const a={capture:!0,...r};e.removeEventListener?e.removeEventListener(t,n,a):e.detachEvent?e.detachEvent("on"+t,n):e["on"+t]=null},t.scheduleRemoveUserSelectStyles=function(e){window.requestAnimationFrame?window.requestAnimationFrame(()=>{l(e)}):l(e)};var r=n(6732),a=function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return function(e,t){if(!t&&e&&e.__esModule)return e;var a,i,s={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return s;if(a=t?r:n){if(a.has(e))return a.get(e);a.set(e,s)}for(const t in e)"default"!==t&&{}.hasOwnProperty.call(e,t)&&((i=(a=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(i.get||i.set)?a(s,t,i):s[t]=e[t]);return s}(e,t)}(n(7350));let i="";function s(e,t){return i||(i=(0,r.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(t){return(0,r.isFunction)(e[t])})),!!(0,r.isFunction)(e[i])&&e[i](t)}function o(e,t,n){let{x:r,y:a}=e,i=`translate(${r}${n},${a}${n})`;if(t){i=`translate(${`${"string"==typeof t.x?t.x:t.x+n}`}, ${`${"string"==typeof t.y?t.y:t.y+n}`})`+i}return i}function l(e){if(e)try{if(e.body&&c(e.body,"react-draggable-transparent-selection"),e.selection)e.selection.empty();else{const t=(e.defaultView||window).getSelection();t&&"Caret"!==t.type&&t.removeAllRanges()}}catch(e){}}function u(e,t){e.classList?e.classList.add(t):e.className.match(new RegExp(`(?:^|\\s)${t}(?!\\S)`))||(e.className+=` ${t}`)}function c(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp(`(?:^|\\s)${t}(?!\\S)`,"g"),"")}},2862:(e,t,n)=>{"use strict";const r=n(5380);e.exports=(e,t,n)=>r(t,e,n)},2966:(e,t,n)=>{"use strict";const r=n(7944);e.exports=(e,t)=>new r(e,t).major},3489:(e,t,n)=>{"use strict";const r=n(7944),a=n(8395),i=n(144);e.exports=(e,t)=>{e=new a(e,t);let n=new r("0.0.0");if(e.test(n))return n;if(n=new r("0.0.0-0"),e.test(n))return n;n=null;for(let t=0;t<e.set.length;++t){const a=e.set[t];let s=null;a.forEach(e=>{const t=new r(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":s&&!i(t,s)||(s=t);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${e.operator}`)}}),!s||n&&!i(n,s)||(n=s)}return n&&e.test(n)?n:null}},3811:(e,t,n)=>{"use strict";const r=n(6909),a=n(7659),i=n(144),s=n(2077),o=n(599),l=n(7092);e.exports=(e,t,n,u)=>{switch(t){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof n&&(n=n.version),e===n;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof n&&(n=n.version),e!==n;case"":case"=":case"==":return r(e,n,u);case"!=":return a(e,n,u);case">":return i(e,n,u);case">=":return s(e,n,u);case"<":return o(e,n,u);case"<=":return l(e,n,u);default:throw new TypeError(`Invalid operator: ${t}`)}}},3823:e=>{"use strict";const t=[],n=[],r=(e,r)=>{if(e===r)return 0;const a=e;e.length>r.length&&(e=r,r=a);let i=e.length,s=r.length;for(;i>0&&e.charCodeAt(~-i)===r.charCodeAt(~-s);)i--,s--;let o,l,u,c,d=0;for(;d<i&&e.charCodeAt(d)===r.charCodeAt(d);)d++;if(i-=d,s-=d,0===i)return s;let h=0,p=0;for(;h<i;)n[h]=e.charCodeAt(d+h),t[h]=++h;for(;p<s;)for(o=r.charCodeAt(d+p),u=p++,l=p,h=0;h<i;h++)c=o===n[h]?u:u+1,u=t[h],l=t[h]=u>l?c>l?l+1:c:c>u?u+1:c;return l};e.exports=r,e.exports.default=r},4031:e=>{"use strict";const t=/^[0-9]+$/,n=(e,n)=>{const r=t.test(e),a=t.test(n);return r&&a&&(e=+e,n=+n),e===n?0:r&&!a?-1:a&&!r?1:e<n?-1:1};e.exports={compareIdentifiers:n,rcompareIdentifiers:(e,t)=>n(t,e)}},4049:(e,t,n)=>{"use strict";n.d(t,{B:()=>o,G:()=>a,P:()=>d,S:()=>i,T:()=>v,V:()=>r,a:()=>l,b:()=>u,c:()=>c,d:()=>h,e:()=>m,f:()=>p,g:()=>g,h:()=>f,i:()=>s});var r=(e=>(e.Always="always",e.Auto="auto",e.Never="never",e))(r||{}),a=(e=>(e.Hue="hue",e.None="none",e.Opacity="opacity",e.Scheme="scheme",e))(a||{}),i=(e=>(e.None="none",e.Normal="normal",e.Percent="percent",e))(i||{}),s=(e=>(e.Auto="auto",e.Horizontal="horizontal",e.Vertical="vertical",e))(s||{}),o=(e=>(e.Background="background",e.BackgroundSolid="background_solid",e.None="none",e.Value="value",e))(o||{}),l=(e=>(e.Area="area",e.Line="line",e.None="none",e))(l||{}),u=(e=>(e.Auto="auto",e.Center="center",e))(u||{}),c=(e=>(e.Auto="auto",e.Name="name",e.None="none",e.Value="value",e.ValueAndName="value_and_name",e))(c||{}),d=(e=>(e.Inverted="inverted",e.SameAsValue="same_as_value",e.Standard="standard",e))(d||{}),h=(e=>(e.Multi="multi",e.None="none",e.Single="single",e))(h||{}),p=(e=>(e.Basic="basic",e.Gradient="gradient",e.Lcd="lcd",e))(p||{}),f=(e=>(e.Color="color",e.Hidden="hidden",e.Text="text",e))(f||{}),g=(e=>(e.Auto="auto",e.Hidden="hidden",e.Left="left",e.Top="top",e))(g||{}),m=(e=>(e.Auto="auto",e.Manual="manual",e))(m||{}),v=(e=>(e.Auto="auto",e.Lg="lg",e.Md="md",e.Sm="sm",e))(v||{})},4266:(e,t,n)=>{"use strict";const r=n(5463);e.exports=(e,t,n)=>r(e,t,"<",n)},4636:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}t.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var a={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=i?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(a,s,o):a[s]=e[s]}a.default=e,n&&n.set(e,a);return a}(n(5959)),i=d(n(2688)),s=d(n(7842)),o=n(414),l=n(544),u=d(n(9482)),c=["breakpoint","breakpoints","cols","layouts","margin","containerPadding","onBreakpointChange","onLayoutChange","onWidthChange"];function d(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function p(){return p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p.apply(this,arguments)}function f(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach(function(t){x(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t){return b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},b(e,t)}function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=w(e);if(t){var i=w(this).constructor;n=Reflect.construct(a,arguments,i)}else n=a.apply(this,arguments);return function(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return O(e)}(this,n)}}function O(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e){return w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},w(e)}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var S=function(e){return Object.prototype.toString.call(e)};function $(e,t){return null==e?null:Array.isArray(e)?e:e[t]}var R=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&b(e,t)}(d,e);var t,n,r,i=y(d);function d(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,d);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return x(O(e=i.call.apply(i,[this].concat(n))),"state",e.generateInitialState()),x(O(e),"onLayoutChange",function(t){e.props.onLayoutChange(t,m(m({},e.props.layouts),{},x({},e.state.breakpoint,t)))}),e}return t=d,r=[{key:"getDerivedStateFromProps",value:function(e,t){if(!(0,s.default)(e.layouts,t.layouts)){var n=t.breakpoint,r=t.cols;return{layout:(0,l.findOrGenerateResponsiveLayout)(e.layouts,e.breakpoints,n,n,r,e.compactType),layouts:e.layouts}}return null}}],(n=[{key:"generateInitialState",value:function(){var e=this.props,t=e.width,n=e.breakpoints,r=e.layouts,a=e.cols,i=(0,l.getBreakpointFromWidth)(n,t),s=(0,l.getColsFromBreakpoint)(i,a),o=!1===this.props.verticalCompact?null:this.props.compactType;return{layout:(0,l.findOrGenerateResponsiveLayout)(r,n,i,i,s,o),breakpoint:i,cols:s}}},{key:"componentDidUpdate",value:function(e){this.props.width==e.width&&this.props.breakpoint===e.breakpoint&&(0,s.default)(this.props.breakpoints,e.breakpoints)&&(0,s.default)(this.props.cols,e.cols)||this.onWidthChange(e)}},{key:"onWidthChange",value:function(e){var t=this.props,n=t.breakpoints,r=t.cols,a=t.layouts,i=t.compactType,s=this.props.breakpoint||(0,l.getBreakpointFromWidth)(this.props.breakpoints,this.props.width),u=this.state.breakpoint,c=(0,l.getColsFromBreakpoint)(s,r),d=m({},a);if(u!==s||e.breakpoints!==n||e.cols!==r){u in d||(d[u]=(0,o.cloneLayout)(this.state.layout));var h=(0,l.findOrGenerateResponsiveLayout)(d,n,s,u,c,i);h=(0,o.synchronizeLayoutWithChildren)(h,this.props.children,c,i,this.props.allowOverlap),d[s]=h,this.props.onLayoutChange(h,d),this.props.onBreakpointChange(s,c),this.setState({breakpoint:s,layout:h,cols:c})}var p=$(this.props.margin,s),f=$(this.props.containerPadding,s);this.props.onWidthChange(this.props.width,p,c,f)}},{key:"render",value:function(){var e=this.props,t=(e.breakpoint,e.breakpoints,e.cols,e.layouts,e.margin),n=e.containerPadding,r=(e.onBreakpointChange,e.onLayoutChange,e.onWidthChange,f(e,c));return a.createElement(u.default,p({},r,{margin:$(t,this.state.breakpoint),containerPadding:$(n,this.state.breakpoint),onLayoutChange:this.onLayoutChange,layout:this.state.layout,cols:this.state.cols}))}}])&&v(t.prototype,n),r&&v(t,r),Object.defineProperty(t,"prototype",{writable:!1}),d}(a.Component);t.default=R,x(R,"propTypes",{breakpoint:i.default.string,breakpoints:i.default.object,allowOverlap:i.default.bool,cols:i.default.object,margin:i.default.oneOfType([i.default.array,i.default.object]),containerPadding:i.default.oneOfType([i.default.array,i.default.object]),layouts:function(e,t){if("[object Object]"!==S(e[t]))throw new Error("Layout property must be an object. Received: "+S(e[t]));Object.keys(e[t]).forEach(function(t){if(!(t in e.breakpoints))throw new Error("Each key in layouts must align with a key in breakpoints.");(0,o.validateLayout)(e.layouts[t],"layouts."+t)})},width:i.default.number.isRequired,onBreakpointChange:i.default.func,onLayoutChange:i.default.func,onWidthChange:i.default.func}),x(R,"defaultProps",{breakpoints:{lg:1200,md:996,sm:768,xs:480,xxs:0},cols:{lg:12,md:10,sm:6,xs:4,xxs:2},containerPadding:{lg:null,md:null,sm:null,xs:null,xxs:null},layouts:{},margin:[10,10],allowOverlap:!1,onBreakpointChange:o.noop,onLayoutChange:o.noop,onWidthChange:o.noop})},5334:(e,t,n)=>{"use strict";const r=n(7944),a=n(5860),{safeRe:i,t:s}=n(6850);e.exports=(e,t)=>{if(e instanceof r)return e;if("number"==typeof e&&(e=String(e)),"string"!=typeof e)return null;let n=null;if((t=t||{}).rtl){const r=t.includePrerelease?i[s.COERCERTLFULL]:i[s.COERCERTL];let a;for(;(a=r.exec(e))&&(!n||n.index+n[0].length!==e.length);)n&&a.index+a[0].length===n.index+n[0].length||(n=a),r.lastIndex=a.index+a[1].length+a[2].length;r.lastIndex=-1}else n=e.match(t.includePrerelease?i[s.COERCEFULL]:i[s.COERCE]);if(null===n)return null;const o=n[2],l=n[3]||"0",u=n[4]||"0",c=t.includePrerelease&&n[5]?`-${n[5]}`:"",d=t.includePrerelease&&n[6]?`+${n[6]}`:"";return a(`${o}.${l}.${u}${c}${d}`,t)}},5380:(e,t,n)=>{"use strict";const r=n(7944);e.exports=(e,t,n)=>new r(e,n).compare(new r(t,n))},5463:(e,t,n)=>{"use strict";const r=n(7944),a=n(9524),{ANY:i}=a,s=n(8395),o=n(1722),l=n(144),u=n(599),c=n(7092),d=n(2077);e.exports=(e,t,n,h)=>{let p,f,g,m,v;switch(e=new r(e,h),t=new s(t,h),n){case">":p=l,f=c,g=u,m=">",v=">=";break;case"<":p=u,f=d,g=l,m="<",v="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(o(e,t,h))return!1;for(let n=0;n<t.set.length;++n){const r=t.set[n];let s=null,o=null;if(r.forEach(e=>{e.semver===i&&(e=new a(">=0.0.0")),s=s||e,o=o||e,p(e.semver,s.semver,h)?s=e:g(e.semver,o.semver,h)&&(o=e)}),s.operator===m||s.operator===v)return!1;if((!o.operator||o.operator===m)&&f(e,o.semver))return!1;if(o.operator===v&&g(e,o.semver))return!1}return!0}},5860:(e,t,n)=>{"use strict";const r=n(7944);e.exports=(e,t,n=!1)=>{if(e instanceof r)return e;try{return new r(e,t)}catch(e){if(!n)return null;throw e}}},5938:(e,t,n)=>{"use strict";n.d(t,{KQ:()=>i,P7:()=>a});var r=n(4049);var a=(e=>(e.Opacity="opacity",e.Scheme="scheme",e))(a||{});const i={calculate:!1,cellGap:1,cellValues:{},color:{scheme:"Oranges",fill:"dark-orange",reverse:!1,exponent:.5,steps:64},exemplars:{color:"rgba(255,0,255,0.7)"},filterValues:{le:1e-9},legend:{show:!0},selectionMode:"x",showValue:r.V.Auto,tooltip:{mode:r.d.Single,yHistogram:!1,showColorScale:!1}}},5955:(e,t,n)=>{"use strict";const r=n(7944);e.exports=(e,t,n,a,i)=>{"string"==typeof n&&(i=a,a=n,n=void 0);try{return new r(e instanceof r?e.version:e,n).inc(t,a,i).version}catch(e){return null}}},5986:(e,t,n)=>{"use strict";const r=n(7944);e.exports=(e,t)=>new r(e,t).minor},6033:(e,t,n)=>{"use strict";const r=n(2801);e.exports=(e,t)=>e.sort((e,n)=>r(n,e,t))},6145:(e,t,n)=>{"use strict";n.d(t,{CO:()=>a,Ol:()=>i,dM:()=>s,rw:()=>r,yV:()=>o});const r={allowCustomValue:!0,includeAll:!1,multi:!1,options:[],skipUrlSync:!1};var a=(e=>(e[e.never=0]="never",e[e.onDashboardLoad=1]="onDashboardLoad",e[e.onTimeRangeChanged=2]="onTimeRangeChanged",e))(a||{});var i=(e=>(e.Absolute="absolute",e.Percentage="percentage",e))(i||{});var s=(e=>(e.RangeToText="range",e.RegexToText="regex",e.SpecialValue="special",e.ValueToText="value",e))(s||{});var o=(e=>(e[e.Crosshair=1]="Crosshair",e[e.Off=0]="Off",e[e.Tooltip=2]="Tooltip",e))(o||{})},6333:(e,t,n)=>{"use strict";t.__esModule=!0,t.resizableProps=void 0;var r,a=(r=n(2688))&&r.__esModule?r:{default:r};n(8230);var i={axis:a.default.oneOf(["both","x","y","none"]),className:a.default.string,children:a.default.element.isRequired,draggableOpts:a.default.shape({allowAnyClick:a.default.bool,cancel:a.default.string,children:a.default.node,disabled:a.default.bool,enableUserSelectHack:a.default.bool,offsetParent:a.default.node,grid:a.default.arrayOf(a.default.number),handle:a.default.string,nodeRef:a.default.object,onStart:a.default.func,onDrag:a.default.func,onStop:a.default.func,onMouseDown:a.default.func,scale:a.default.number}),height:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,i=t[0];return"both"===i.axis||"y"===i.axis?(r=a.default.number).isRequired.apply(r,t):a.default.number.apply(a.default,t)},handle:a.default.oneOfType([a.default.node,a.default.func]),handleSize:a.default.arrayOf(a.default.number),lockAspectRatio:a.default.bool,maxConstraints:a.default.arrayOf(a.default.number),minConstraints:a.default.arrayOf(a.default.number),onResizeStop:a.default.func,onResizeStart:a.default.func,onResize:a.default.func,resizeHandles:a.default.arrayOf(a.default.oneOf(["s","w","e","n","sw","nw","se","ne"])),transformScale:a.default.number,width:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,i=t[0];return"both"===i.axis||"x"===i.axis?(r=a.default.number).isRequired.apply(r,t):a.default.number.apply(a.default,t)}};t.resizableProps=i},6365:(e,t,n)=>{"use strict";n.d(t,{AL:()=>u,K3:()=>o,MD:()=>l,Yw:()=>c});var r=n(782);const a={json:1,logfmt:2,unpack:3,pattern:4,regexp:5,label_format:7,line_format:8,label_replace:9,vector:10,offset:11,bool:12,on:13,ignoring:14,group_left:15,group_right:16,unwrap:6,decolorize:17,drop:18,keep:19},i={by:20,without:21,and:22,or:23,unless:24,sum:25,avg:26,count:27,max:28,min:29,stddev:30,stdvar:31,bottomk:32,topk:33,sort:34,sort_desc:35},s={__proto__:null,ip:295,count_over_time:301,rate:303,rate_counter:305,bytes_over_time:307,bytes_rate:309,avg_over_time:311,sum_over_time:313,min_over_time:315,max_over_time:317,stddev_over_time:319,stdvar_over_time:321,quantile_over_time:323,first_over_time:325,last_over_time:327,absent_over_time:329,bytes:335,duration:337,duration_seconds:339},o=r.U1.deserialize({version:14,states:"EtOYQPOOO#cQPO'#DUOOQO'#ER'#ERO#hQPO'#ERO$}QPO'#DTOYQPO'#DTOOQO'#Ed'#EdO%[QPO'#EcOOQO'#FP'#FPO%aQPO'#FOQ%lQPOOO&mQPO'#F]O&rQPO'#F^OOQO'#Eb'#EbOOQO'#DS'#DSOOQO'#Ee'#EeOOQO'#Ef'#EfOOQO'#Eg'#EgOOQO'#Eh'#EhOOQO'#Ei'#EiOOQO'#Ej'#EjOOQO'#Ek'#EkOOQO'#El'#ElOOQO'#Em'#EmOOQO'#En'#EnOOQO'#Eo'#EoOOQO'#Ep'#EpOOQO'#Eq'#EqOOQO'#Er'#ErOOQO'#Es'#EsO&wQPO'#DWOOQO'#DV'#DVO'VQPO,59pOOQO,5:m,5:mOOQO'#Dc'#DcO'_QPO'#DbO'gQPO'#DaO)lQPO'#D`O*{QPO'#D`OOQO'#D_'#D_O+sQPO,59oO-}QPO,59oO.UQPO,5:|O.]QPO,5:}O.hQPO'#E|O0sQPO,5;jO0zQPO,5;jO1PQPO,5;lO1PQPO,5;lO1PQPO,5;lO1PQPO,5;lO1PQPO,5;lO1PQPO,5;lOYQPO,5;wO3cQPO,5;xO3hQPO,59rO#cQPO,59qOOQO1G/[1G/[OOQO'#Dh'#DhO3mQPO,59|O5^QPO,59|OOQO'#Di'#DiO5cQPO,59{OOQO,59{,59{O5kQPO'#DWO6YQPO'#DlO8PQPO'#DoO9sQPO'#DoOOQO'#Do'#DoOOQO'#Dv'#DvOOQO'#Dt'#DtO+kQPO'#DtO9xQPO,59zO;iQPO'#EVO;nQPO'#EWOOQO'#EZ'#EZO;sQPO'#E[O;xQPO'#E_OOQO,59z,59zOOQO,59y,59yOOQO1G/Z1G/ZOOQO1G0h1G0hO;}QPO'#EtO.`QPO'#EtO<XQPO1G0iO<^QPO1G0iO<cQPO,5;hO=oQPO1G1UO=vQPO1G1UO=}QPO1G1UO>UQPO'#FSO@dQPO'#FRO@nQPO'#FROYQPO1G1WOYQPO1G1WOYQPO1G1WOYQPO1G1WOYQPO1G1WOYQPO1G1WO@xQPO1G1cOAPQPO1G1dOOQO1G/^1G/^OOQO1G/]1G/]O5cQPO1G/hOAUQPO1G/hOAZQPO'#DjOBzQPO'#DjOOQO1G/g1G/gOCbQPO,59rOCPQPO,5:cOOQO'#Dm'#DmOClQPO,5:WOEcQPO'#DrOOQO'#Dq'#DqOGVQPO,5:_OHvQPO,5:[OOQO,5:Z,5:ZOJgQPO,5:`O+kQPO,5:`O+kQPO,5:`OOQO,5:q,5:qOJuQPO'#EYOOQO'#EX'#EXOJzQPO,5:rOLkQPO'#E^OOQO'#E^'#E^OOQO'#E]'#E]ONbQPO,5:vO!!RQPO'#EaOOQO'#Ea'#EaOOQO'#E`'#E`O!#xQPO,5:yO!%iQPO'#D`O;}QPO,5;`O!%pQPO'#EuO!%uQPO,5;`O!%}QPO,5;`O!&[QPO,5;`O!&iQPO,5;`O!&nQPO7+&TO.`QPO7+&TOOQO'#E}'#E}O!(OQPO1G1SOOQO1G1S1G1SOYQPO7+&pO!(WQPO7+&pO!)hQPO7+&pO!)oQPO7+&pO!)vQQO'#FTOOQO,5;n,5;nO!,UQPO,5;mO!,]QPO,5;mO!-nQPO7+&rO!-uQPO7+&rOOQO7+&r7+&rO!.SQPO7+&rO!.ZQPO7+&rO!/`QPO7+&rO!/pQPO7+&}OOQO7+'O7+'OOOQO7+%S7+%SO!/uQPO7+%SO5cQPO,5:UO!/zQPO,5:UO!0PQPO1G/{OOQO1G/}1G/}OOQO1G0U1G0UOOQO1G0W1G0WOOQO,5:X,5:XO!0UQPO1G/yO!1uQPO,5:^O!1zQPO,5:]OOQO1G/z1G/zO!2PQPO1G/zO!3pQPO,5:tO;nQPO,5:sO;sQPO,5:wO;xQPO,5:zO!3xQPO,5;cO!%uQPO1G0zO!4WQPO1G0zO!4`QPO,5;aO+kQPO,5;cO!4eQPO1G0zO!4oQPO'#EvO!4tQPO1G0zO!4eQPO1G0zO!4|QPO1G0zO!5ZQPO1G0zO!%xQPO1G0zOOQO1G0z1G0zOOQO<<Io<<IoO!5fQPO<<IoO!5kQPO,5;iOOQO7+&n7+&nO!5pQPO<<J[OOQO<<J[<<J[OYQPO<<J[OOQO'#FV'#FVO!5wQPO,5;oOOQO'#FU'#FUOOQO,5;o,5;oOOQO1G1X1G1XO!6PQPO1G1XO!8YQPO<<JiOOQO<<Hn<<HnOOQO1G/p1G/pO!8_QPO1G/pO!8dQPO7+%gOOQO1G/x1G/xOOQO1G/w1G/wOOQO1G0`1G0`OOQO1G0_1G0_OOQO1G0c1G0cOOQO1G0f1G0fOOQO'#Ex'#ExOOQO1G0}1G0}O!8iQPO1G0}OOQO'#Ey'#EyOOQO'#Ez'#EzOOQO'#E{'#E{OOQO7+&f7+&fOOQO1G0{1G0{O!8nQPO1G0}O!9SQPO7+&fOOQO,5;b,5;bO!9[QPO7+&fO!%xQPO7+&fO!9fQPO7+&fO!9qQPOAN?ZOOQO1G1T1G1TO!;RQPOAN?vO!<cQPOAN?vO!<jQQO1G1ZOOQO1G1Z1G1ZOOQO7+&s7+&sO!<rQPOAN@TOOQO7+%[7+%[O!<wQPO<<IRO!<|QPO7+&iO!=RQPO<<JQO!=ZQPO<<JQO!=cQPO'#EwO!=hQPO<<JQOOQOG24uG24uOOQOG25bG25bOOQO1G1[1G1[OOQO7+&u7+&uO!=pQPOG25oOOQOAN>mAN>mO!=uQPO<<JTOOQOAN?lAN?lO!=zQPOAN?lO!>SQPOLD+ZOOQOAN?oAN?oOOQO,5:r,5:rO!>XQPO!$'NuO!>^QPO!)9DaO!>cQPO!.K9{OOQO!4//g!4//gO;nQPO'#EWO!>hQPO'#D`O!?`QPO,59oO!@fQPO'#DTOYQPO1G1WOYQPO1G1WOYQPO1G1WOYQPO1G1WOYQPO1G1WOYQPO1G1WO1PQPO,5;lO1PQPO,5;lO1PQPO,5;lO1PQPO,5;lO1PQPO,5;lO1PQPO,5;lO!AqQPO7+&rO!AxQPO7+&rO!BVQPO7+&rO!C_QPO7+&rO!CfQPO7+&rO!B^QPO'#FQ",stateData:"!Cs~O$TOStOS~OXZOY[OiWOjWOkWOlWOmWOnWOoWOpWOqWOrWOsWO!vQO!wRO!xRO$UPO$YTO$[_O$]`O$^aO$_bO$`cO$adO$beO$cfO$dgO$ehO$fiO$gjO$hkO$ilO$jmO~O{nO~O!vqO~O!OrO!QrO!WrO!XrO!YrO!ZrOfwXgwXhwX!lwX!nwX!owX!pwX!qwX!wwX!xwX#{wX#|wX#}wX$OwX~O!_vO$RwX$ZwX~P#mO$Y{O~Od|Oe|O$Y}O~Of!QOg!POh!QO!O!UO!l!UO!n!UO!o!UO!p!UO!q!UO!w!RO!x!RO#{!SO#|!SO#}!SO$O!TO~O$Y!VO~O$Y!WO~O|!XO!O!XO!P!XO!Q!XO~O$V!YO$W!ZO~O}!]O$X!_O~Og!`Of!TXh!TX!O!TX!Q!TX!W!TX!X!TX!Y!TX!Z!TX!_!TX!l!TX!n!TX!o!TX!p!TX!q!TX!w!TX!x!TX#{!TX#|!TX#}!TX$O!TX$R!TX$Z!TX$k!TX$V!TX~O!OrO!QrO!WrO!XrO!YrO!ZrO~Of!SXg!SXh!SX!_!SX!l!SX!n!SX!o!SX!p!SX!q!SX!w!SX!x!SX#{!SX#|!SX#}!SX$O!SX$R!SX$Z!SX$k!SX$V!SX~P)WOP!dOQ!cOR!fOS!eOT!eOV!lOW!kOa!mOb!nOc!oO{!bO$Y!iO~O!_vOfwagwahwa!lwa!nwa!owa!pwa!qwa!wwa!xwa#{wa#|wa#}wa$Owa$Rwa$Zwa~P)WOfvXgvXhvX!OvX!lvX!nvX!ovX!pvX!qvX!wvX!xvX#{vX#|vX#}vX$OvX~O$Z!rO~P,|O$Z!sO~P,|O!v!wO$UPO$Y!uO~O$Y!xO~OXZOY[OiWOjWOkWOlWOmWOnWOoWOpWOqWOrWOsWO!wRO!xRO$UPO$YTO$[_O$]`O$^aO$_bO$`cO$adO$beO$cfO$dgO$ehO$fiO$gjO$hkO$ilO$jmO~O!v!yO~P.mO$Y!{O~O[#OO]!|O^!|OX#uPY#uPi#uPj#uPk#uPl#uPm#uPn#uPo#uPp#uPq#uPr#uPs#uP!v#uP!w#uP!x#uP$U#uP$Y#uP$[#uP$]#uP$^#uP$_#uP$`#uP$a#uP$b#uP$c#uP$d#uP$e#uP$f#uP$g#uP$h#uP$i#uP$j#uP~O!v#WO~O}#XO~Og#ZOf!Uah!Ua!O!Ua!Q!Ua!W!Ua!X!Ua!Y!Ua!Z!Ua!_!Ua!l!Ua!n!Ua!o!Ua!p!Ua!q!Ua!w!Ua!x!Ua#{!Ua#|!Ua#}!Ua$O!Ua$R!Ua$Z!Ua$k!Ua$V!Ua~O$Y#[O~O}#]O$X!_O~O|#`O!O#`O!P!XO!Q!XO!l#aO!n#aO!o#aO!p#aO!q#aO~O{#dO!b#bOf!`Xg!`Xh!`X!O!`X!Q!`X!W!`X!X!`X!Y!`X!Z!`X!_!`X!l!`X!n!`X!o!`X!p!`X!q!`X!w!`X!x!`X#{!`X#|!`X#}!`X$O!`X$R!`X$Z!`X$k!`X$V!`X~O{#dOf!cXg!cXh!cX!O!cX!Q!cX!W!cX!X!cX!Y!cX!Z!cX!_!cX!l!cX!n!cX!o!cX!p!cX!q!cX!w!cX!x!cX#{!cX#|!cX#}!cX$O!cX$R!cX$Z!cX$k!cX$V!cX~O}#hO~Of#jOg#kO$V#jOh!Sa!O!Sa!Q!Sa!W!Sa!X!Sa!Y!Sa!Z!Sa!_!Sa!l!Sa!n!Sa!o!Sa!p!Sa!q!Sa!w!Sa!x!Sa#{!Sa#|!Sa#}!Sa$O!Sa$R!Sa$Z!Sa$k!Sa~O}#lO~O{#mO~O{#pO~O{#tO~O!_#xO$k#zO~P)WO$Z$PO~O$V$QO~O{$RO$Z$TO~Of!uXg!uXh!uX!O!uX!l!uX!n!uX!o!uX!p!uX!q!uX!w!uX!x!uX#{!uX#|!uX#}!uX$O!uX$Z!uX~O$V$UO~P<kO$Z$VO~P,|O!v$WO~P.mO$Y$YO~OX#uXY#uXi#uXj#uXk#uXl#uXm#uXn#uXo#uXp#uXq#uXr#uXs#uX!v#uX!w#uX!x#uX$U#uX$Y#uX$[#uX$]#uX$^#uX$_#uX$`#uX$a#uX$b#uX$c#uX$d#uX$e#uX$f#uX$g#uX$h#uX$i#uX$j#uX~O_$[O`$[O~P>ZO]!|O^!|O~P>ZO$V$dO~P,|O$Z$eO~O}$gO~Og$hOf!^Xh!^X!O!^X!Q!^X!W!^X!X!^X!Y!^X!Z!^X!_!^X!l!^X!n!^X!o!^X!p!^X!q!^X!w!^X!x!^X#{!^X#|!^X#}!^X$O!^X$R!^X$Z!^X$k!^X$V!^X~O$Y$iO~O!m$kO!s$lO!vQO!wRO!xRO~O}#XO$X!_O~PCPO{#dO!b$nOf!`ag!`ah!`a!O!`a!Q!`a!W!`a!X!`a!Y!`a!Z!`a!_!`a!l!`a!n!`a!o!`a!p!`a!q!`a!w!`a!x!`a#{!`a#|!`a#}!`a$O!`a$R!`a$Z!`a$k!`a$V!`a~O|$pOf!fXg!fXh!fX!O!fX!Q!fX!W!fX!X!fX!Y!fX!Z!fX!_!fX!l!fX!n!fX!o!fX!p!fX!q!fX!w!fX!x!fX#{!fX#|!fX#}!fX$O!fX$R!fX$V!fX$Z!fX$k!fX~O$V$qOf!gag!gah!ga!O!ga!Q!ga!W!ga!X!ga!Y!ga!Z!ga!_!ga!l!ga!n!ga!o!ga!p!ga!q!ga!w!ga!x!ga#{!ga#|!ga#}!ga$O!ga$R!ga$Z!ga$k!ga~O$V$qOf!dag!dah!da!O!da!Q!da!W!da!X!da!Y!da!Z!da!_!da!l!da!n!da!o!da!p!da!q!da!w!da!x!da#{!da#|!da#}!da$O!da$R!da$Z!da$k!da~Of#jOg#kO$V#jO$Z$rO~O|$tO~O$V$uOf!zag!zah!za!O!za!Q!za!W!za!X!za!Y!za!Z!za!_!za!l!za!n!za!o!za!p!za!q!za!w!za!x!za#{!za#|!za#}!za$O!za$R!za$Z!za$k!za~O|!XO!O!XO!P!XO!Q!XOf#QXg#QXh#QX!W#QX!X#QX!Y#QX!Z#QX!_#QX!l#QX!n#QX!o#QX!p#QX!q#QX!w#QX!x#QX#{#QX#|#QX#}#QX$O#QX$R#QX$V#QX$Z#QX$k#QX~O$V$vOf#Oag#Oah#Oa!O#Oa!Q#Oa!W#Oa!X#Oa!Y#Oa!Z#Oa!_#Oa!l#Oa!n#Oa!o#Oa!p#Oa!q#Oa!w#Oa!x#Oa#{#Oa#|#Oa#}#Oa$O#Oa$R#Oa$Z#Oa$k#Oa~O|!XO!O!XO!P!XO!Q!XOf#TXg#TXh#TX!W#TX!X#TX!Y#TX!Z#TX!_#TX!l#TX!n#TX!o#TX!p#TX!q#TX!w#TX!x#TX#{#TX#|#TX#}#TX$O#TX$R#TX$V#TX$Z#TX$k#TX~O$V$wOf#Rag#Rah#Ra!O#Ra!Q#Ra!W#Ra!X#Ra!Y#Ra!Z#Ra!_#Ra!l#Ra!n#Ra!o#Ra!p#Ra!q#Ra!w#Ra!x#Ra#{#Ra#|#Ra#}#Ra$O#Ra$R#Ra$Z#Ra$k#Ra~OU$xO~P*{O!m${O~O!_$|O$k#zO~OZ%OO!_#xO$Z#ha~P)WO!_#xO$Z%TO$k#zO~P)WO$Z%UO~Od|Oe|Of#Vqg#Vqh#Vq!O#Vq!l#Vq!n#Vq!o#Vq!p#Vq!q#Vq!w#Vq!x#Vq#{#Vq#|#Vq#}#Vq$O#Vq$R#Vq$Z#Vq$V#Vq~O$V%XO$Z%YO~Od|Oe|Of#rqg#rqh#rq!O#rq!l#rq!n#rq!o#rq!p#rq!q#rq!w#rq!x#rq#{#rq#|#rq#}#rq$O#rq$R#rq$Z#rq$V#rq~O$V%]O~P<kO$Z%[O~P,|O#z%^O$Z%aO~OX#uaY#uai#uaj#uak#ual#uam#uan#uao#uap#uaq#uar#uas#ua!v#ua!w#ua!x#ua$U#ua$[#ua$]#ua$^#ua$_#ua$`#ua$a#ua$b#ua$c#ua$d#ua$e#ua$f#ua$g#ua$h#ua$i#ua$j#ua~O$Y$YO~P!*OO_%cO`%cO$Y#ua~P!*OOf!QOh!QO!O!UO!l!UO!n!UO!o!UO!p!UO!q!UO!w!RO!x!RO#{#tq#|#tq#}#tq$O#tq$R#tq$Z#tq~Og#tq~P!,jOf#tqg#tqh#tq~P!,pOg!PO~P!,jO$R#tq$Z#tq~P%lOf#tqg#tqh#tq!O#tq!l#tq!n#tq!o#tq!p#tq!q#tq#{#tq#|#tq#}#tq$O#tq~O!w!RO!x!RO$R#tq$Z#tq~P!.eO}%dO~O$Z%eO~O}%gO~O$Y%hO~O$V$qOf!gig!gih!gi!O!gi!Q!gi!W!gi!X!gi!Y!gi!Z!gi!_!gi!l!gi!n!gi!o!gi!p!gi!q!gi!w!gi!x!gi#{!gi#|!gi#}!gi$O!gi$R!gi$Z!gi$k!gi~O}%iO~O{#dO~Of#jO$V#jOg!hih!hi!O!hi!Q!hi!W!hi!X!hi!Y!hi!Z!hi!_!hi!l!hi!n!hi!o!hi!p!hi!q!hi!w!hi!x!hi#{!hi#|!hi#}!hi$O!hi$R!hi$Z!hi$k!hi~O{%kO}%kO~O{%pO$m%rO$n%sO$o%tO~OZ%OO$Z#hi~O$l%vO~O!_#xO$Z#hi~P)WO!m%yO~O!_$|O$Z#hi~O!_#xO$Z%{O$k#zO~P)WO!_$|O$Z%{O$k#zO~O$Z%}O~O{&OO~O$Z&PO~P,|O$V&RO$Z&SO~O$Y$YOX#uiY#uii#uij#uik#uil#uim#uin#uio#uip#uiq#uir#uis#ui!v#ui!w#ui!x#ui$U#ui$[#ui$]#ui$^#ui$_#ui$`#ui$a#ui$b#ui$c#ui$d#ui$e#ui$f#ui$g#ui$h#ui$i#ui$j#ui~O$V&UO~O$Z&VO~O}&WO~O$Y&XO~Of#jOg#kO$V#jO!_#ki$k#ki$Z#ki~O!_$|O$Z#hq~O!_#xO$Z#hq~P)WOZ%OO!_&[O$Z#hq~Od|Oe|Of#V!Rg#V!Rh#V!R!O#V!R!l#V!R!n#V!R!o#V!R!p#V!R!q#V!R!w#V!R!x#V!R#{#V!R#|#V!R#}#V!R$O#V!R$R#V!R$Z#V!R$V#V!R~Od|Oe|Of#r!Rg#r!Rh#r!R!O#r!R!l#r!R!n#r!R!o#r!R!p#r!R!q#r!R!w#r!R!x#r!R#{#r!R#|#r!R#}#r!R$O#r!R$R#r!R$Z#r!R$V#r!R~O$Z&_O~P,|O#z%^O$Z&aO~O}&bO~O$Z&cO~O{&dO~O!_$|O$Z#hy~OZ%OO$Z#hy~OU$xO~O!_&[O$Z#hy~O$V&gO~O$Z&hO~O!_$|O$Z#h!R~O}&jO~O$V&kO~O}&lO~O$Z&mO~OP!dOQ!cOR!fOS!eOT!eOV&nOW!kOa!mOb!nOc!oO{!bO$Y!iO~O!_&oOfwagwahwa!lwa!nwa!owa!pwa!qwa!wwa!xwa#{wa#|wa#}wa$Owa$Vwa~P)WO!_&oO$VwX~P#mOf&yOh&yO!O&}O!l&}O!n&}O!o&}O!p&}O!q&}O!w&zO!x&zO#{#tq#|#tq#}#tq$O#tq$V#tq~Og#tq~P!@pOf#tqg#tqh#tq~P!@vOg&xO~P!@pOf&yOg&xOh&yO!O&}O!l&}O!n&}O!o&}O!p&}O!q&}O!w&zO!x&zO#{&{O#|&{O#}&{O$O&|O~O$V#tq~P!B^O!w&zO!x&zO$V#tq~P!.eO",goto:"1l$RPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPP$S%R%j&Y&]PPPPPP&t'W'h'v(XPPPP(h(p(yP)S)XP)S)S)[)e)S)m*O*O*XPPPPPP*XP*O*bPPP)S)S*{+R)S)S+Y+])S+c+f+l,_,t-Z-Z-Z-Z-Z-Z-Z-Z-Z-Z-Z-Z-Z-Z-Z-p-y.^.j/S/V/V/V/Y/i,_/l,_0R0w1Y1c1fPPPPP,_,_[YOT}!{$U%]Q$^#PQ$_#QS$`#R&tQ$a#SQ$b#TQ$c#UQ'O&rQ'P&sQ'Q&uQ'R&vQ'S&wR'T!Vt^O}!V!{#P#Q#R#S#T#U$U%]&r&s&t&u&v&wRyTjSOT}!V!{#P#Q#R#S#T#U$U%]S!t{$QQ#}!u]&q&r&s&t&u&v&wRpPQoP^!hv!i#j#k#x$|&oQ#Y!YS#q!n$vT#u!o$wQxSQ#y!tQ$}#|Q%R#}Q%z%QR&p&q[wS!t#|#}%Q&q]!qx#y$}%R%z&piuSx!t#y#|#}$}%Q%R%z&p&qhtSx!t#y#|#}$}%Q%R%z&p&qR!auksSux!t#y#|#}$}%Q%R%z&p&qQ!^sV#^!`#Z$hW![s!`#Z$hR$j#`Q#_!`Q$f#ZR%f$hV!pv#x&oR#c!cQ#f!cQ#g!dR$o#cU#e!c!d#cR%j$qU!jv#x&oQ#i!iQ$r#jQ$s#kR%w$|_!hv!i#j#k#x$|&o_!gv!i#j#k#x$|&ov]OT}!V!{#P#Q#R#S#T#U$U%]&r&s&t&u&v&wT$m#`#aQ#o!lR&i&nS#n!l&nR%l$uR#s!nQ#r!nR%m$vR#w!oQ#v!oR%n$wj^O#P#Q#R#S#T#U&r&s&t&u&v&wQzTQ!z}Q#V!VQ$X!{Q%Z$UR&Q%]w]OT}!V!{#P#Q#R#S#T#U$U%]&r&s&t&u&v&wwVOT}!V!{#P#Q#R#S#T#U$U%]&r&s&t&u&v&wwUOT}!V!{#P#Q#R#S#T#U$U%]&r&s&t&u&v&wQ!v{Q$O!uR%W$QS#|!t#}W$z#y#{%R%SQ%u$yQ%|%TR&Z%{Q%Q#|Q%u$zQ&]%|R&e&ZQ#{!tS$y#y%RQ%P#|Q%S#}S%x$}%QS&Y%z%|R&f&]R%q$xR%o$xQ!OXQ%V$PQ%[$VQ&^%}R&_&PR$S!xwXOT}!V!{#P#Q#R#S#T#U$U%]&r&s&t&u&v&wQ#P!PQ#Q!QQ#R!RQ#S!SQ#T!TQ#U!UQ&r&xQ&s&yQ&t&zQ&u&{Q&v&|R&w&}h!}!P!Q!R!S!T!U&x&y&z&{&|&}R$]#OQ$Z!|Q%b$[R&T%cR%_$YQ%`$YR&`&R",nodeNames:"⚠ Json Logfmt Unpack Pattern Regexp Unwrap LabelFormat LineFormat LabelReplace Vector Offset Bool On Ignoring GroupLeft GroupRight Decolorize Drop Keep By Without And Or Unless Sum Avg Count Max Min Stddev Stdvar Bottomk Topk Sort Sort_Desc LineComment LogQL Expr LogExpr Selector Matchers Matcher Identifier Eq String Neq Re Nre PipelineExpr PipelineStage LineFilters LineFilter Filter PipeExact PipeMatch PipePattern Npa FilterOp Ip OrFilter Pipe LogfmtParser LogfmtParserFlags ParserFlag LabelParser JsonExpressionParser LabelExtractionExpressionList LabelExtractionExpression LogfmtExpressionParser LabelFilter IpLabelFilter UnitFilter DurationFilter Gtr Duration Gte Lss Lte Eql BytesFilter Bytes NumberFilter LiteralExpr Number Add Sub LineFormatExpr LabelFormatExpr LabelsFormat LabelFormatMatcher DecolorizeExpr DropLabelsExpr DropLabels DropLabel KeepLabelsExpr KeepLabels KeepLabel MetricExpr RangeAggregationExpr RangeOp CountOverTime Rate RateCounter BytesOverTime BytesRate AvgOverTime SumOverTime MinOverTime MaxOverTime StddevOverTime StdvarOverTime QuantileOverTime FirstOverTime LastOverTime AbsentOverTime LogRangeExpr Range OffsetExpr UnwrapExpr ConvOp BytesConv DurationConv DurationSecondsConv Grouping Labels VectorAggregationExpr VectorOp BinOpExpr BinOpModifier OnOrIgnoringModifier GroupingLabels GroupingLabelList GroupingLabel LabelName Mul Div Mod Pow LabelReplaceExpr VectorExpr",maxTerm:169,skippedNodes:[0,36],repeatNodeCount:0,tokenData:"<n~RvX^#ipq#iqr$^rs$yst%kuv%vxy%{yz&Qz{&V{|&[|}&a}!O&f!O!P2v!P!Q3v!Q!R3{!R![7^![!]9]!^!_9q!_!`:O!`!a:e!c!}:r!}#O;Y#P#Q;_#Q#R;d#R#S:r#S#T;i#T#o:r#o#p;u#p#q;z#q#r<i#y#z#i$f$g#i#BY#BZ#i$IS$I_#i$I|$JO#i$JT$JU#i$KV$KW#i&FU&FV#i~#nY$T~X^#ipq#i#y#z#i$f$g#i#BY#BZ#i$IS$I_#i$I|$JO#i$JT$JU#i$KV$KW#i&FU&FV#i~$aR!_!`$j!`!a$o#r#s$t~$oO!O~~$tO!Z~~$yO!Q~~$|UOY$yZr$yrs%`s#O$y#O#P%e#P~$y~%eO}~~%hPO~$y~%pQt~OY%kZ~%k~%{O#}~~&QO$Y~~&VO$Z~~&[O#{~~&aO!w~~&fO$V~~&kQ!x~}!O&q!Q![(w~&tQ#_#`&z#g#h(X~&}P#X#Y'Q~'TP#X#Y'W~'ZP#d#e'^~'aP}!O'd~'gP#X#Y'j~'mP#a#b'p~'sP#d#e'v~'yP#h#i'|~(PP#m#n(S~(XO!b~~([P#h#i(_~(bP#f#g(e~(hP#]#^(k~(nP#V#W(q~(tP#h#i(S~(zZ!O!P)m!Q![(w#W#X0`#[#]*]#a#b+j#b#c.R#g#h/X#i#j.^#k#l1T#m#n1{${$|.^~)pP!Q![)s~)vV!Q![)s#[#]*]#a#b+j#b#c.R#g#h/X#i#j.^${$|.^~*bP!m~!Q![*e~*hV!O!P*}!Q![*e#a#b+j#b#c.R#g#h/X#i#j.^${$|.^~+QP!Q![+T~+WU!Q![+T#a#b+j#b#c.R#g#h/X#i#j.^${$|.^~+oQ!m~!Q![+u#g#h-Q~+xV!O!P,_!Q![+u#a#b,z#b#c.R#g#h/X#i#j.^${$|.^~,bP!Q![,e~,hU!Q![,e#a#b,z#b#c.R#g#h/X#i#j.^${$|.^~,}P#g#h-Q~-VP!m~!Q![-Y~-]T!O!P-l!Q![-Y#b#c.R#i#j.^${$|.^~-oP!Q![-r~-uS!Q![-r#b#c.R#i#j.^${$|.^~.UP#g#h.X~.^O!m~~.aP#g#h.d~.iP!m~!Q![.l~.oR!O!P.x!Q![.l#b#c.R~.{P!Q![/O~/RQ!Q![/O#b#c.R~/^P!m~!Q![/a~/dU!O!P/v!Q![/a#a#b,z#b#c.R#i#j.^${$|.^~/yP!Q![/|~0PT!Q![/|#a#b,z#b#c.R#i#j.^${$|.^~0eP!m~!Q![0h~0kW!O!P)m!Q![0h#[#]*]#a#b+j#b#c.R#g#h/X#i#j.^${$|.^~1YP!m~!Q![1]~1`X!O!P)m!Q![1]#W#X0`#[#]*]#a#b+j#b#c.R#g#h/X#i#j.^${$|.^~2QP!m~!Q![2T~2WY!O!P)m!Q![2T#W#X0`#[#]*]#a#b+j#b#c.R#g#h/X#i#j.^#k#l1T${$|.^~2yP!Q![2|~3RR!v~!Q![2|!g!h3[#X#Y3[~3_R{|3h}!O3h!Q![3n~3kP!Q![3n~3sP!v~!Q![3n~3{O#|~~4Qe!v~!O!P5c!Q![7^!d!e6x!g!h3[!i!j6}!m!n6}!o!p6}!r!s6}!v!w6}#W#X0`#X#Y3[#[#]*]#_#`7W#a#b+j#b#c.R#g#h/X#i#j.^#k#l1T#l#m8q#m#n1{${$|.^~5hR!v~!Q![5q!g!h3[#X#Y3[~5v`!v~!Q![5q!d!e6x!g!h3[!i!j6}!m!n6}!o!p6}!r!s6}!v!w6}#X#Y3[#[#]*]#_#`7W#a#b+j#b#c.R#g#h/X#i#j.^${$|.^~6}O!s~~7QQ!d!e6x#]#^7W~7ZP!d!e6x~7cd!v~!O!P5c!Q![7^!d!e6x!g!h3[!i!j6}!m!n6}!o!p6}!r!s6}!v!w6}#W#X0`#X#Y3[#[#]*]#_#`7W#a#b+j#b#c.R#g#h/X#i#j.^#k#l1T#m#n1{${$|.^~8tR!Q![8}!c!i8}#T#Z8}~9SR!v~!Q![8}!c!i8}#T#Z8}P9bT{P!Q![9]![!]9]!c!}9]#R#S9]#T#o9]~9vP!o~!_!`9y~:OO!p~~:TQ|~!_!`:Z#r#s:`~:`O!q~~:eO!P~~:jP!l~!_!`:m~:rO!n~R:yT{P#zQ!Q![:r![!]9]!c!}:r#R#S:r#T#o:r~;_O$k~~;dO$l~~;iO$O~~;lRO#S;i#S#T%`#T~;i~;zO$U~~<PR!_~!_!`<Y!`!a<_#r#s<d~<_O!W~~<dO!Y~~<iO!X~~<nO$W~",tokenizers:[0,1],topRules:{LogQL:[0,37]},specialized:[{term:43,get:(e,t)=>(e=>a[e.toLowerCase()]||-1)(e)<<1},{term:43,get:(e,t)=>(e=>i[e.toLowerCase()]||-1)(e)<<1|1},{term:43,get:e=>s[e]||-1}],tokenPrec:0}),l=40,u=49,c=98},6441:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},6609:(e,t,n)=>{"use strict";t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=a?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(r,i,s):r[i]=e[i]}r.default=e,n&&n.set(e,r);return r}(n(5959)),a=l(n(2688)),i=l(n(1794)),s=n(6333),o=["handle","handleSize","onResize","onResizeStart","onResizeStop","draggableOpts","minConstraints","maxConstraints","lockAspectRatio","axis","width","height","resizeHandles","style","transformScale"];function l(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach(function(t){p(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function p(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e,t){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},f(e,t)}var g=function(e){var t,n;function a(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={width:t.props.width,height:t.props.height,propsWidth:t.props.width,propsHeight:t.props.height},t.onResize=function(e,n){var r=n.size;t.props.onResize?(null==e.persist||e.persist(),t.setState(r,function(){return t.props.onResize&&t.props.onResize(e,n)})):t.setState(r)},t}return n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,f(t,n),a.getDerivedStateFromProps=function(e,t){return t.propsWidth!==e.width||t.propsHeight!==e.height?{width:e.width,height:e.height,propsWidth:e.width,propsHeight:e.height}:null},a.prototype.render=function(){var e=this.props,t=e.handle,n=e.handleSize,a=(e.onResize,e.onResizeStart),s=e.onResizeStop,l=e.draggableOpts,u=e.minConstraints,d=e.maxConstraints,p=e.lockAspectRatio,f=e.axis,g=(e.width,e.height,e.resizeHandles),m=e.style,v=e.transformScale,b=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,o);return r.createElement(i.default,{axis:f,draggableOpts:l,handle:t,handleSize:n,height:this.state.height,lockAspectRatio:p,maxConstraints:d,minConstraints:u,onResizeStart:a,onResize:this.onResize,onResizeStop:s,resizeHandles:g,transformScale:v,width:this.state.width},r.createElement("div",c({},b,{style:h(h({},m),{},{width:this.state.width+"px",height:this.state.height+"px"})})))},a}(r.Component);t.default=g,g.propTypes=h(h({},s.resizableProps),{},{children:a.default.element})},6732:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dontSetMe=function(e,t,n){if(e[t])return new Error(`Invalid prop ${t} passed to ${n} - do not set this, set it on the child.`)},t.findInArray=function(e,t){for(let n=0,r=e.length;n<r;n++)if(t.apply(t,[e[n],n,e]))return e[n]},t.int=function(e){return parseInt(e,10)},t.isFunction=function(e){return"function"==typeof e||"[object Function]"===Object.prototype.toString.call(e)},t.isNum=function(e){return"number"==typeof e&&!isNaN(e)}},6805:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}t.default=function(e){var t;return t=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h(e,t)}(u,t);var n,i,l=(n=u,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t=f(n);if(i){var a=f(this).constructor;e=Reflect.construct(t,arguments,a)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return p(e)}(this,e)});function u(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return g(p(e=l.call.apply(l,[this].concat(n))),"state",{width:1280}),g(p(e),"elementRef",a.createRef()),g(p(e),"mounted",!1),g(p(e),"onWindowResize",function(){if(e.mounted){var t=e.elementRef.current;t instanceof HTMLElement&&t.offsetWidth&&e.setState({width:t.offsetWidth})}}),e}return function(e,t,n){t&&d(e.prototype,t);n&&d(e,n);Object.defineProperty(e,"prototype",{writable:!1})}(u,[{key:"componentDidMount",value:function(){this.mounted=!0,window.addEventListener("resize",this.onWindowResize),this.onWindowResize()}},{key:"componentWillUnmount",value:function(){this.mounted=!1,window.removeEventListener("resize",this.onWindowResize)}},{key:"render",value:function(){var t=this.props,n=t.measureBeforeMount,r=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(t,o);return n&&!this.mounted?a.createElement("div",{className:(0,s.default)(this.props.className,m),style:this.props.style,ref:this.elementRef}):a.createElement(e,c({innerRef:this.elementRef},r,this.state))}}]),u}(a.Component),g(t,"defaultProps",{measureBeforeMount:!1}),g(t,"propTypes",{measureBeforeMount:i.default.bool}),t};var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var a={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=i?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(a,s,o):a[s]=e[s]}a.default=e,n&&n.set(e,a);return a}(n(5959)),i=l(n(2688)),s=l(n(7256)),o=["measureBeforeMount"];function l(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function c(){return c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t){return h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},h(e,t)}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){return f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},f(e)}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m="react-grid-layout"},6850:(e,t,n)=>{"use strict";const{MAX_SAFE_COMPONENT_LENGTH:r,MAX_SAFE_BUILD_LENGTH:a,MAX_LENGTH:i}=n(9630),s=n(9796),o=(t=e.exports={}).re=[],l=t.safeRe=[],u=t.src=[],c=t.safeSrc=[],d=t.t={};let h=0;const p="[a-zA-Z0-9-]",f=[["\\s",1],["\\d",i],[p,a]],g=(e,t,n)=>{const r=(e=>{for(const[t,n]of f)e=e.split(`${t}*`).join(`${t}{0,${n}}`).split(`${t}+`).join(`${t}{1,${n}}`);return e})(t),a=h++;s(e,a,t),d[e]=a,u[a]=t,c[a]=r,o[a]=new RegExp(t,n?"g":void 0),l[a]=new RegExp(r,n?"g":void 0)};g("NUMERICIDENTIFIER","0|[1-9]\\d*"),g("NUMERICIDENTIFIERLOOSE","\\d+"),g("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${p}*`),g("MAINVERSION",`(${u[d.NUMERICIDENTIFIER]})\\.(${u[d.NUMERICIDENTIFIER]})\\.(${u[d.NUMERICIDENTIFIER]})`),g("MAINVERSIONLOOSE",`(${u[d.NUMERICIDENTIFIERLOOSE]})\\.(${u[d.NUMERICIDENTIFIERLOOSE]})\\.(${u[d.NUMERICIDENTIFIERLOOSE]})`),g("PRERELEASEIDENTIFIER",`(?:${u[d.NONNUMERICIDENTIFIER]}|${u[d.NUMERICIDENTIFIER]})`),g("PRERELEASEIDENTIFIERLOOSE",`(?:${u[d.NONNUMERICIDENTIFIER]}|${u[d.NUMERICIDENTIFIERLOOSE]})`),g("PRERELEASE",`(?:-(${u[d.PRERELEASEIDENTIFIER]}(?:\\.${u[d.PRERELEASEIDENTIFIER]})*))`),g("PRERELEASELOOSE",`(?:-?(${u[d.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${u[d.PRERELEASEIDENTIFIERLOOSE]})*))`),g("BUILDIDENTIFIER",`${p}+`),g("BUILD",`(?:\\+(${u[d.BUILDIDENTIFIER]}(?:\\.${u[d.BUILDIDENTIFIER]})*))`),g("FULLPLAIN",`v?${u[d.MAINVERSION]}${u[d.PRERELEASE]}?${u[d.BUILD]}?`),g("FULL",`^${u[d.FULLPLAIN]}$`),g("LOOSEPLAIN",`[v=\\s]*${u[d.MAINVERSIONLOOSE]}${u[d.PRERELEASELOOSE]}?${u[d.BUILD]}?`),g("LOOSE",`^${u[d.LOOSEPLAIN]}$`),g("GTLT","((?:<|>)?=?)"),g("XRANGEIDENTIFIERLOOSE",`${u[d.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),g("XRANGEIDENTIFIER",`${u[d.NUMERICIDENTIFIER]}|x|X|\\*`),g("XRANGEPLAIN",`[v=\\s]*(${u[d.XRANGEIDENTIFIER]})(?:\\.(${u[d.XRANGEIDENTIFIER]})(?:\\.(${u[d.XRANGEIDENTIFIER]})(?:${u[d.PRERELEASE]})?${u[d.BUILD]}?)?)?`),g("XRANGEPLAINLOOSE",`[v=\\s]*(${u[d.XRANGEIDENTIFIERLOOSE]})(?:\\.(${u[d.XRANGEIDENTIFIERLOOSE]})(?:\\.(${u[d.XRANGEIDENTIFIERLOOSE]})(?:${u[d.PRERELEASELOOSE]})?${u[d.BUILD]}?)?)?`),g("XRANGE",`^${u[d.GTLT]}\\s*${u[d.XRANGEPLAIN]}$`),g("XRANGELOOSE",`^${u[d.GTLT]}\\s*${u[d.XRANGEPLAINLOOSE]}$`),g("COERCEPLAIN",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?`),g("COERCE",`${u[d.COERCEPLAIN]}(?:$|[^\\d])`),g("COERCEFULL",u[d.COERCEPLAIN]+`(?:${u[d.PRERELEASE]})?`+`(?:${u[d.BUILD]})?(?:$|[^\\d])`),g("COERCERTL",u[d.COERCE],!0),g("COERCERTLFULL",u[d.COERCEFULL],!0),g("LONETILDE","(?:~>?)"),g("TILDETRIM",`(\\s*)${u[d.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",g("TILDE",`^${u[d.LONETILDE]}${u[d.XRANGEPLAIN]}$`),g("TILDELOOSE",`^${u[d.LONETILDE]}${u[d.XRANGEPLAINLOOSE]}$`),g("LONECARET","(?:\\^)"),g("CARETTRIM",`(\\s*)${u[d.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",g("CARET",`^${u[d.LONECARET]}${u[d.XRANGEPLAIN]}$`),g("CARETLOOSE",`^${u[d.LONECARET]}${u[d.XRANGEPLAINLOOSE]}$`),g("COMPARATORLOOSE",`^${u[d.GTLT]}\\s*(${u[d.LOOSEPLAIN]})$|^$`),g("COMPARATOR",`^${u[d.GTLT]}\\s*(${u[d.FULLPLAIN]})$|^$`),g("COMPARATORTRIM",`(\\s*)${u[d.GTLT]}\\s*(${u[d.LOOSEPLAIN]}|${u[d.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",g("HYPHENRANGE",`^\\s*(${u[d.XRANGEPLAIN]})\\s+-\\s+(${u[d.XRANGEPLAIN]})\\s*$`),g("HYPHENRANGELOOSE",`^\\s*(${u[d.XRANGEPLAINLOOSE]})\\s+-\\s+(${u[d.XRANGEPLAINLOOSE]})\\s*$`),g("STAR","(<|>)?=?\\s*\\*"),g("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),g("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")},6909:(e,t,n)=>{"use strict";const r=n(5380);e.exports=(e,t,n)=>0===r(e,t,n)},7023:(e,t,n)=>{"use strict";const r=n(5380);e.exports=(e,t)=>r(e,t,!0)},7092:(e,t,n)=>{"use strict";const r=n(5380);e.exports=(e,t,n)=>r(e,t,n)<=0},7095:e=>{"use strict";const t=Object.freeze({loose:!0}),n=Object.freeze({});e.exports=e=>e?"object"!=typeof e?t:e:n},7151:e=>{e.exports={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}},7203:(e,t,n)=>{"use strict";n.d(t,{PH:()=>f,Qj:()=>p,Z6:()=>u,cF:()=>r,fI:()=>c,iX:()=>D,uY:()=>s});const r=1024;let a=0;class i{constructor(e,t){this.from=e,this.to=t}}class s{constructor(e={}){this.id=a++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return"function"!=typeof e&&(e=u.match(e)),t=>{let n=e(t);return void 0===n?null:[this,n]}}}s.closedBy=new s({deserialize:e=>e.split(" ")}),s.openedBy=new s({deserialize:e=>e.split(" ")}),s.group=new s({deserialize:e=>e.split(" ")}),s.isolate=new s({deserialize:e=>{if(e&&"rtl"!=e&&"ltr"!=e&&"auto"!=e)throw new RangeError("Invalid value for isolate: "+e);return e||"auto"}}),s.contextHash=new s({perNode:!0}),s.lookAhead=new s({perNode:!0}),s.mounted=new s({perNode:!0});class o{constructor(e,t,n){this.tree=e,this.overlay=t,this.parser=n}static get(e){return e&&e.props&&e.props[s.mounted.id]}}const l=Object.create(null);class u{constructor(e,t,n,r=0){this.name=e,this.props=t,this.id=n,this.flags=r}static define(e){let t=e.props&&e.props.length?Object.create(null):l,n=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(null==e.name?8:0),r=new u(e.name||"",t,e.id,n);if(e.props)for(let n of e.props)if(Array.isArray(n)||(n=n(r)),n){if(n[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");t[n[0].id]=n[1]}return r}prop(e){return this.props[e.id]}get isTop(){return(1&this.flags)>0}get isSkipped(){return(2&this.flags)>0}get isError(){return(4&this.flags)>0}get isAnonymous(){return(8&this.flags)>0}is(e){if("string"==typeof e){if(this.name==e)return!0;let t=this.prop(s.group);return!!t&&t.indexOf(e)>-1}return this.id==e}static match(e){let t=Object.create(null);for(let n in e)for(let r of n.split(" "))t[r]=e[n];return e=>{for(let n=e.prop(s.group),r=-1;r<(n?n.length:0);r++){let a=t[r<0?e.name:n[r]];if(a)return a}}}}u.none=new u("",Object.create(null),0,8);class c{constructor(e){this.types=e;for(let t=0;t<e.length;t++)if(e[t].id!=t)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...e){let t=[];for(let n of this.types){let r=null;for(let t of e){let e=t(n);e&&(r||(r=Object.assign({},n.props)),r[e[0].id]=e[1])}t.push(r?new u(n.name,r,n.id,n.flags):n)}return new c(t)}}const d=new WeakMap,h=new WeakMap;var p;!function(e){e[e.ExcludeBuffers=1]="ExcludeBuffers",e[e.IncludeAnonymous=2]="IncludeAnonymous",e[e.IgnoreMounts=4]="IgnoreMounts",e[e.IgnoreOverlays=8]="IgnoreOverlays"}(p||(p={}));class f{constructor(e,t,n,r,a){if(this.type=e,this.children=t,this.positions=n,this.length=r,this.props=null,a&&a.length){this.props=Object.create(null);for(let[e,t]of a)this.props["number"==typeof e?e:e.id]=t}}toString(){let e=o.get(this);if(e&&!e.overlay)return e.tree.toString();let t="";for(let e of this.children){let n=e.toString();n&&(t&&(t+=","),t+=n)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(t.length?"("+t+")":""):t}cursor(e=0){return new E(this.topNode,e)}cursorAt(e,t=0,n=0){let r=d.get(this)||this.topNode,a=new E(r);return a.moveTo(e,t),d.set(this,a._tree),a}get topNode(){return new O(this,0,0,null)}resolve(e,t=0){let n=b(d.get(this)||this.topNode,e,t,!1);return d.set(this,n),n}resolveInner(e,t=0){let n=b(h.get(this)||this.topNode,e,t,!0);return h.set(this,n),n}resolveStack(e,t=0){return function(e,t,n){let r=e.resolveInner(t,n),a=null;for(let e=r instanceof O?r:r.context.parent;e;e=e.parent)if(e.index<0){let i=e.parent;(a||(a=[r])).push(i.resolve(t,n)),e=i}else{let i=o.get(e.tree);if(i&&i.overlay&&i.overlay[0].from<=t&&i.overlay[i.overlay.length-1].to>=t){let s=new O(i.tree,i.overlay[0].from+e.from,-1,e);(a||(a=[r])).push(b(s,t,n,!1))}}return a?R(a):r}(this,e,t)}iterate(e){let{enter:t,leave:n,from:r=0,to:a=this.length}=e,i=e.mode||0,s=(i&p.IncludeAnonymous)>0;for(let e=this.cursor(i|p.IncludeAnonymous);;){let i=!1;if(e.from<=a&&e.to>=r&&(!s&&e.type.isAnonymous||!1!==t(e))){if(e.firstChild())continue;i=!0}for(;i&&n&&(s||!e.type.isAnonymous)&&n(e),!e.nextSibling();){if(!e.parent())return;i=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let t in this.props)e.push([+t,this.props[t]]);return e}balance(e={}){return this.children.length<=8?this:T(u.none,this.children,this.positions,0,this.children.length,0,this.length,(e,t,n)=>new f(this.type,e,t,n,this.propValues),e.makeTree||((e,t,n)=>new f(u.none,e,t,n)))}static build(e){return function(e){var t;let{buffer:n,nodeSet:a,maxBufferLength:i=r,reused:o=[],minRepeatType:l=a.types.length}=e,u=Array.isArray(n)?new g(n,n.length):n,c=a.types,d=0,h=0;function p(e,t,n,r,s,f){let{id:g,start:S,end:$,size:R}=u,P=h,E=d;for(;R<0;){if(u.next(),-1==R){let t=o[g];return n.push(t),void r.push(S-e)}if(-3==R)return void(d=g);if(-4==R)return void(h=g);throw new RangeError(`Unrecognized record size: ${R}`)}let k,_,C=c[g],D=S-e;if($-S<=i&&(_=w(u.pos-t,s))){let t=new Uint16Array(_.size-_.skip),n=u.pos-_.size,r=t.length;for(;u.pos>n;)r=x(_.start,t,r);k=new m(t,$-_.start,a),D=_.start-e}else{let e=u.pos-R;u.next();let t=[],n=[],r=g>=l?g:-1,a=0,s=$;for(;u.pos>e;)r>=0&&u.id==r&&u.size>=0?(u.end<=s-i&&(y(t,n,S,a,u.end,s,r,P,E),a=t.length,s=u.end),u.next()):f>2500?v(S,e,t,n):p(S,e,t,n,r,f+1);if(r>=0&&a>0&&a<t.length&&y(t,n,S,a,S,s,r,P,E),t.reverse(),n.reverse(),r>-1&&a>0){let e=b(C,E);k=T(C,t,n,0,t.length,0,$-S,e,e)}else k=O(C,t,n,$-S,P-$,E)}n.push(k),r.push(D)}function v(e,t,n,r){let s=[],o=0,l=-1;for(;u.pos>t;){let{id:e,start:t,end:n,size:r}=u;if(r>4)u.next();else{if(l>-1&&t<l)break;l<0&&(l=n-i),s.push(e,t,n),o++,u.next()}}if(o){let t=new Uint16Array(4*o),i=s[s.length-2];for(let e=s.length-3,n=0;e>=0;e-=3)t[n++]=s[e],t[n++]=s[e+1]-i,t[n++]=s[e+2]-i,t[n++]=n;n.push(new m(t,s[2]-i,a)),r.push(i-e)}}function b(e,t){return(n,r,a)=>{let i,o,l=0,u=n.length-1;if(u>=0&&(i=n[u])instanceof f){if(!u&&i.type==e&&i.length==a)return i;(o=i.prop(s.lookAhead))&&(l=r[u]+i.length+o)}return O(e,n,r,a,l,t)}}function y(e,t,n,r,i,s,o,l,u){let c=[],d=[];for(;e.length>r;)c.push(e.pop()),d.push(t.pop()+n-i);e.push(O(a.types[o],c,d,s-i,l-s,u)),t.push(i-n)}function O(e,t,n,r,a,i,o){if(i){let e=[s.contextHash,i];o=o?[e].concat(o):[e]}if(a>25){let e=[s.lookAhead,a];o=o?[e].concat(o):[e]}return new f(e,t,n,r,o)}function w(e,t){let n=u.fork(),r=0,a=0,s=0,o=n.end-i,c={size:0,start:0,skip:0};e:for(let i=n.pos-e;n.pos>i;){let e=n.size;if(n.id==t&&e>=0){c.size=r,c.start=a,c.skip=s,s+=4,r+=4,n.next();continue}let u=n.pos-e;if(e<0||u<i||n.start<o)break;let d=n.id>=l?4:0,h=n.start;for(n.next();n.pos>u;){if(n.size<0){if(-3!=n.size)break e;d+=4}else n.id>=l&&(d+=4);n.next()}a=h,r+=e,s+=d}return(t<0||r==e)&&(c.size=r,c.start=a,c.skip=s),c.size>4?c:void 0}function x(e,t,n){let{id:r,start:a,end:i,size:s}=u;if(u.next(),s>=0&&r<l){let o=n;if(s>4){let r=u.pos-(s-4);for(;u.pos>r;)n=x(e,t,n)}t[--n]=o,t[--n]=i-e,t[--n]=a-e,t[--n]=r}else-3==s?d=r:-4==s&&(h=r);return n}let S=[],$=[];for(;u.pos>0;)p(e.start||0,e.bufferStart||0,S,$,-1,0);let R=null!==(t=e.length)&&void 0!==t?t:S.length?$[0]+S[0].length:0;return new f(c[e.topID],S.reverse(),$.reverse(),R)}(e)}}f.empty=new f(u.none,[],[],0);class g{constructor(e,t){this.buffer=e,this.index=t}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new g(this.buffer,this.index)}}class m{constructor(e,t,n){this.buffer=e,this.length=t,this.set=n}get type(){return u.none}toString(){let e=[];for(let t=0;t<this.buffer.length;)e.push(this.childString(t)),t=this.buffer[t+3];return e.join(",")}childString(e){let t=this.buffer[e],n=this.buffer[e+3],r=this.set.types[t],a=r.name;if(/\W/.test(a)&&!r.isError&&(a=JSON.stringify(a)),n==(e+=4))return a;let i=[];for(;e<n;)i.push(this.childString(e)),e=this.buffer[e+3];return a+"("+i.join(",")+")"}findChild(e,t,n,r,a){let{buffer:i}=this,s=-1;for(let o=e;o!=t&&!(v(a,r,i[o+1],i[o+2])&&(s=o,n>0));o=i[o+3]);return s}slice(e,t,n){let r=this.buffer,a=new Uint16Array(t-e),i=0;for(let s=e,o=0;s<t;){a[o++]=r[s++],a[o++]=r[s++]-n;let t=a[o++]=r[s++]-n;a[o++]=r[s++]-e,i=Math.max(i,t)}return new m(a,i,this.set)}}function v(e,t,n,r){switch(e){case-2:return n<t;case-1:return r>=t&&n<t;case 0:return n<t&&r>t;case 1:return n<=t&&r>t;case 2:return r>t;case 4:return!0}}function b(e,t,n,r){for(var a;e.from==e.to||(n<1?e.from>=t:e.from>t)||(n>-1?e.to<=t:e.to<t);){let t=!r&&e instanceof O&&e.index<0?null:e.parent;if(!t)return e;e=t}let i=r?0:p.IgnoreOverlays;if(r)for(let r=e,s=r.parent;s;r=s,s=r.parent)r instanceof O&&r.index<0&&(null===(a=s.enter(t,n,i))||void 0===a?void 0:a.from)!=r.from&&(e=s);for(;;){let r=e.enter(t,n,i);if(!r)return e;e=r}}class y{cursor(e=0){return new E(this,e)}getChild(e,t=null,n=null){let r=w(this,e,t,n);return r.length?r[0]:null}getChildren(e,t=null,n=null){return w(this,e,t,n)}resolve(e,t=0){return b(this,e,t,!1)}resolveInner(e,t=0){return b(this,e,t,!0)}matchContext(e){return x(this.parent,e)}enterUnfinishedNodesBefore(e){let t=this.childBefore(e),n=this;for(;t;){let e=t.lastChild;if(!e||e.to!=t.to)break;e.type.isError&&e.from==e.to?(n=t,t=e.prevSibling):t=e}return n}get node(){return this}get next(){return this.parent}}class O extends y{constructor(e,t,n,r){super(),this._tree=e,this.from=t,this.index=n,this._parent=r}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,t,n,r,a=0){for(let i=this;;){for(let{children:s,positions:l}=i._tree,u=t>0?s.length:-1;e!=u;e+=t){let u=s[e],c=l[e]+i.from;if(v(r,n,c,c+u.length))if(u instanceof m){if(a&p.ExcludeBuffers)continue;let s=u.findChild(0,u.buffer.length,t,n-c,r);if(s>-1)return new $(new S(i,u,e,c),null,s)}else if(a&p.IncludeAnonymous||!u.type.isAnonymous||k(u)){let s;if(!(a&p.IgnoreMounts)&&(s=o.get(u))&&!s.overlay)return new O(s.tree,c,e,i);let l=new O(u,c,e,i);return a&p.IncludeAnonymous||!l.type.isAnonymous?l:l.nextChild(t<0?u.children.length-1:0,t,n,r)}}if(a&p.IncludeAnonymous||!i.type.isAnonymous)return null;if(e=i.index>=0?i.index+t:t<0?-1:i._parent._tree.children.length,i=i._parent,!i)return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,t,n=0){let r;if(!(n&p.IgnoreOverlays)&&(r=o.get(this._tree))&&r.overlay){let n=e-this.from;for(let{from:e,to:a}of r.overlay)if((t>0?e<=n:e<n)&&(t<0?a>=n:a>n))return new O(r.tree,r.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,t,n)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function w(e,t,n,r){let a=e.cursor(),i=[];if(!a.firstChild())return i;if(null!=n)for(let e=!1;!e;)if(e=a.type.is(n),!a.nextSibling())return i;for(;;){if(null!=r&&a.type.is(r))return i;if(a.type.is(t)&&i.push(a.node),!a.nextSibling())return null==r?i:[]}}function x(e,t,n=t.length-1){for(let r=e;n>=0;r=r.parent){if(!r)return!1;if(!r.type.isAnonymous){if(t[n]&&t[n]!=r.name)return!1;n--}}return!0}class S{constructor(e,t,n,r){this.parent=e,this.buffer=t,this.index=n,this.start=r}}class $ extends y{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,t,n){super(),this.context=e,this._parent=t,this.index=n,this.type=e.buffer.set.types[e.buffer.buffer[n]]}child(e,t,n){let{buffer:r}=this.context,a=r.findChild(this.index+4,r.buffer[this.index+3],e,t-this.context.start,n);return a<0?null:new $(this.context,this,a)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,t,n=0){if(n&p.ExcludeBuffers)return null;let{buffer:r}=this.context,a=r.findChild(this.index+4,r.buffer[this.index+3],t>0?1:-1,e-this.context.start,t);return a<0?null:new $(this.context,this,a)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,t=e.buffer[this.index+3];return t<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new $(this.context,this._parent,t):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,t=this._parent?this._parent.index+4:0;return this.index==t?this.externalSibling(-1):new $(this.context,this._parent,e.findChild(t,this.index,-1,0,4))}get tree(){return null}toTree(){let e=[],t=[],{buffer:n}=this.context,r=this.index+4,a=n.buffer[this.index+3];if(a>r){let i=n.buffer[this.index+1];e.push(n.slice(r,a,i)),t.push(0)}return new f(this.type,e,t,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function R(e){if(!e.length)return null;let t=0,n=e[0];for(let r=1;r<e.length;r++){let a=e[r];(a.from>n.from||a.to<n.to)&&(n=a,t=r)}let r=n instanceof O&&n.index<0?null:n.parent,a=e.slice();return r?a[t]=r:a.splice(t,1),new P(a,n)}class P{constructor(e,t){this.heads=e,this.node=t}get next(){return R(this.heads)}}class E{get name(){return this.type.name}constructor(e,t=0){if(this.mode=t,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof O)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let t=e._parent;t;t=t._parent)this.stack.unshift(t.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return!!e&&(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0)}yieldBuf(e,t){this.index=e;let{start:n,buffer:r}=this.buffer;return this.type=t||r.set.types[r.buffer[e]],this.from=n+r.buffer[e+1],this.to=n+r.buffer[e+2],!0}yield(e){return!!e&&(e instanceof O?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)))}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,t,n){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,t,n,this.mode));let{buffer:r}=this.buffer,a=r.findChild(this.index+4,r.buffer[this.index+3],e,t-this.buffer.start,n);return!(a<0)&&(this.stack.push(this.index),this.yieldBuf(a))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,t,n=this.mode){return this.buffer?!(n&p.ExcludeBuffers)&&this.enterChild(1,e,t):this.yield(this._tree.enter(e,t,n))}parent(){if(!this.buffer)return this.yieldNode(this.mode&p.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&p.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return!!this._tree._parent&&this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode));let{buffer:t}=this.buffer,n=this.stack.length-1;if(e<0){let e=n<0?0:this.stack[n]+4;if(this.index!=e)return this.yieldBuf(t.findChild(e,this.index,-1,0,4))}else{let e=t.buffer[this.index+3];if(e<(n<0?t.buffer.length:t.buffer[this.stack[n]+3]))return this.yieldBuf(e)}return n<0&&this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode))}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let t,n,{buffer:r}=this;if(r){if(e>0){if(this.index<r.buffer.buffer.length)return!1}else for(let e=0;e<this.index;e++)if(r.buffer.buffer[e+3]<this.index)return!1;({index:t,parent:n}=r)}else({index:t,_parent:n}=this._tree);for(;n;({index:t,_parent:n}=n))if(t>-1)for(let r=t+e,a=e<0?-1:n._tree.children.length;r!=a;r+=e){let e=n._tree.children[r];if(this.mode&p.IncludeAnonymous||e instanceof m||!e.type.isAnonymous||k(e))return!1}return!0}move(e,t){if(t&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,t=0){for(;(this.from==this.to||(t<1?this.from>=e:this.from>e)||(t>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,t););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,t=null,n=0;if(e&&e.context==this.buffer)e:for(let r=this.index,a=this.stack.length;a>=0;){for(let i=e;i;i=i._parent)if(i.index==r){if(r==this.index)return i;t=i,n=a+1;break e}r=this.stack[--a]}for(let e=n;e<this.stack.length;e++)t=new $(this.buffer,t,this.stack[e]);return this.bufferNode=new $(this.buffer,t,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,t){for(let n=0;;){let r=!1;if(this.type.isAnonymous||!1!==e(this)){if(this.firstChild()){n++;continue}this.type.isAnonymous||(r=!0)}for(;;){if(r&&t&&t(this),r=this.type.isAnonymous,!n)return;if(this.nextSibling())break;this.parent(),n--,r=!0}}}matchContext(e){if(!this.buffer)return x(this.node.parent,e);let{buffer:t}=this.buffer,{types:n}=t.set;for(let r=e.length-1,a=this.stack.length-1;r>=0;a--){if(a<0)return x(this._tree,e,r);let i=n[t.buffer[this.stack[a]]];if(!i.isAnonymous){if(e[r]&&e[r]!=i.name)return!1;r--}}return!0}}function k(e){return e.children.some(e=>e instanceof m||!e.type.isAnonymous||k(e))}const _=new WeakMap;function C(e,t){if(!e.isAnonymous||t instanceof m||t.type!=e)return 1;let n=_.get(t);if(null==n){n=1;for(let r of t.children){if(r.type!=e||!(r instanceof f)){n=1;break}n+=C(e,r)}_.set(t,n)}return n}function T(e,t,n,r,a,i,s,o,l){let u=0;for(let n=r;n<a;n++)u+=C(e,t[n]);let c=Math.ceil(1.5*u/8),d=[],h=[];return function t(n,r,a,s,o){for(let u=a;u<s;){let a=u,p=r[u],f=C(e,n[u]);for(u++;u<s;u++){let t=C(e,n[u]);if(f+t>=c)break;f+=t}if(u==a+1){if(f>c){let e=n[a];t(e.children,e.positions,0,e.children.length,r[a]+o);continue}d.push(n[a])}else{let t=r[u-1]+n[u-1].length-p;d.push(T(e,n,r,a,u,p,t,null,l))}h.push(p+o-i)}}(t,n,r,a,0),(o||l)(d,h,s)}class D{startParse(e,t,n){return"string"==typeof e&&(e=new A(e)),n=n?n.length?n.map(e=>new i(e.from,e.to)):[new i(0,0)]:[new i(0,e.length)],this.createParse(e,t||[],n)}parse(e,t,n){let r=this.startParse(e,t,n);for(;;){let e=r.advance();if(e)return e}}}class A{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,t){return this.string.slice(e,t)}}new s({perNode:!0})},7222:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resizeHandleType=t.resizeHandleAxesType=t.default=void 0;var r=i(n(2688)),a=i(n(5959));function i(e){return e&&e.__esModule?e:{default:e}}var s=r.default.arrayOf(r.default.oneOf(["s","w","e","n","sw","nw","se","ne"]));t.resizeHandleAxesType=s;var o=r.default.oneOfType([r.default.node,r.default.func]);t.resizeHandleType=o;var l={className:r.default.string,style:r.default.object,width:r.default.number,autoSize:r.default.bool,cols:r.default.number,draggableCancel:r.default.string,draggableHandle:r.default.string,verticalCompact:function(e){e.verticalCompact,0},compactType:r.default.oneOf(["vertical","horizontal"]),layout:function(e){var t=e.layout;void 0!==t&&n(414).validateLayout(t,"layout")},margin:r.default.arrayOf(r.default.number),containerPadding:r.default.arrayOf(r.default.number),rowHeight:r.default.number,maxRows:r.default.number,isBounded:r.default.bool,isDraggable:r.default.bool,isResizable:r.default.bool,allowOverlap:r.default.bool,preventCollision:r.default.bool,useCSSTransforms:r.default.bool,transformScale:r.default.number,isDroppable:r.default.bool,resizeHandles:s,resizeHandle:o,onLayoutChange:r.default.func,onDragStart:r.default.func,onDrag:r.default.func,onDragStop:r.default.func,onResizeStart:r.default.func,onResize:r.default.func,onResizeStop:r.default.func,onDrop:r.default.func,droppingItem:r.default.shape({i:r.default.string.isRequired,w:r.default.number.isRequired,h:r.default.number.isRequired}),children:function(e,t){var n=e[t],r={};a.default.Children.forEach(n,function(e){if(null!=(null==e?void 0:e.key)){if(r[e.key])throw new Error('Duplicate child key "'+e.key+'" found! This will cause problems in ReactGridLayout.');r[e.key]=!0}})},innerRef:r.default.any};t.default=l},7256:(e,t,n)=>{"use strict";function r(e){var t,n,a="";if("string"==typeof e||"number"==typeof e)a+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=r(e[t]))&&(a&&(a+=" "),a+=n);else for(t in e)e[t]&&(a&&(a+=" "),a+=t);return a}function a(){for(var e,t,n=0,a="";n<arguments.length;)(e=arguments[n++])&&(t=r(e))&&(a&&(a+=" "),a+=t);return a}n.r(t),n.d(t,{clsx:()=>a,default:()=>i});const i=a},7348:(e,t,n)=>{"use strict";n.d(t,{g:()=>s});class r{value;next;constructor(e){this.value=e}}class a{#e;#t;#n;constructor(){this.clear()}enqueue(e){const t=new r(e);this.#e?(this.#t.next=t,this.#t=t):(this.#e=t,this.#t=t),this.#n++}dequeue(){const e=this.#e;if(e)return this.#e=this.#e.next,this.#n--,e.value}peek(){if(this.#e)return this.#e.value}clear(){this.#e=void 0,this.#t=void 0,this.#n=0}get size(){return this.#n}*[Symbol.iterator](){let e=this.#e;for(;e;)yield e.value,e=e.next}*drain(){for(;this.#e;)yield this.dequeue()}}function i(e){o(e);const t=new a;let n=0;const r=()=>{n<e&&t.size>0&&(t.dequeue()(),n++)},i=async(e,t,a)=>{const i=(async()=>e(...a))();t(i);try{await i}catch{}n--,r()},s=(a,...s)=>new Promise(o=>{((a,s,o)=>{new Promise(e=>{t.enqueue(e)}).then(i.bind(void 0,a,s,o)),(async()=>{await Promise.resolve(),n<e&&r()})()})(a,o,s)});return Object.defineProperties(s,{activeCount:{get:()=>n},pendingCount:{get:()=>t.size},clearQueue:{value(){t.clear()}},concurrency:{get:()=>e,set(a){o(a),e=a,queueMicrotask(()=>{for(;n<e&&t.size>0;)r()})}}}),s}function s(e,t){const{concurrency:n}=t,r=i(n);return(...t)=>r(()=>e(...t))}function o(e){if(!Number.isInteger(e)&&e!==Number.POSITIVE_INFINITY||!(e>0))throw new TypeError("Expected `concurrency` to be a number from 1 and up")}},7350:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.browserPrefixToKey=a,t.browserPrefixToStyle=function(e,t){return t?`-${t.toLowerCase()}-${e}`:e},t.default=void 0,t.getPrefix=r;const n=["Moz","Webkit","O","ms"];function r(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"transform";if("undefined"==typeof window)return"";const t=window.document?.documentElement?.style;if(!t)return"";if(e in t)return"";for(let r=0;r<n.length;r++)if(a(e,n[r])in t)return n[r];return""}function a(e,t){return t?`${t}${function(e){let t="",n=!0;for(let r=0;r<e.length;r++)n?(t+=e[r].toUpperCase(),n=!1):"-"===e[r]?n=!0:t+=e[r];return t}(e)}`:e}t.default=r()},7434:e=>{e.exports=function(e,t,n){return e===t||e.className===t.className&&n(e.style,t.style)&&e.width===t.width&&e.autoSize===t.autoSize&&e.cols===t.cols&&e.draggableCancel===t.draggableCancel&&e.draggableHandle===t.draggableHandle&&n(e.verticalCompact,t.verticalCompact)&&n(e.compactType,t.compactType)&&n(e.layout,t.layout)&&n(e.margin,t.margin)&&n(e.containerPadding,t.containerPadding)&&e.rowHeight===t.rowHeight&&e.maxRows===t.maxRows&&e.isBounded===t.isBounded&&e.isDraggable===t.isDraggable&&e.isResizable===t.isResizable&&e.allowOverlap===t.allowOverlap&&e.preventCollision===t.preventCollision&&e.useCSSTransforms===t.useCSSTransforms&&e.transformScale===t.transformScale&&e.isDroppable===t.isDroppable&&n(e.resizeHandles,t.resizeHandles)&&n(e.resizeHandle,t.resizeHandle)&&e.onLayoutChange===t.onLayoutChange&&e.onDragStart===t.onDragStart&&e.onDrag===t.onDrag&&e.onDragStop===t.onDragStop&&e.onResizeStart===t.onResizeStart&&e.onResize===t.onResize&&e.onResizeStop===t.onResizeStop&&e.onDrop===t.onDrop&&n(e.droppingItem,t.droppingItem)&&n(e.innerRef,t.innerRef)}},7494:(e,t,n)=>{"use strict";const r=n(8395);e.exports=(e,t)=>{try{return new r(e,t).range||"*"}catch(e){return null}}},7645:(e,t,n)=>{"use strict";const r=n(5860);e.exports=(e,t)=>{const n=r(e,t);return n?n.version:null}},7659:(e,t,n)=>{"use strict";const r=n(5380);e.exports=(e,t,n)=>0!==r(e,t,n)},7840:(e,t,n)=>{"use strict";const r=n(7944),a=n(8395);e.exports=(e,t,n)=>{let i=null,s=null,o=null;try{o=new a(t,n)}catch(e){return null}return e.forEach(e=>{o.test(e)&&(i&&-1!==s.compare(e)||(i=e,s=new r(i,n)))}),i}},7842:(e,t,n)=>{e=n.nmd(e);var r="__lodash_hash_undefined__",a=9007199254740991,i="[object Arguments]",s="[object Array]",o="[object Boolean]",l="[object Date]",u="[object Error]",c="[object Function]",d="[object Map]",h="[object Number]",p="[object Object]",f="[object Promise]",g="[object RegExp]",m="[object Set]",v="[object String]",b="[object Symbol]",y="[object WeakMap]",O="[object ArrayBuffer]",w="[object DataView]",x=/^\[object .+?Constructor\]$/,S=/^(?:0|[1-9]\d*)$/,$={};$["[object Float32Array]"]=$["[object Float64Array]"]=$["[object Int8Array]"]=$["[object Int16Array]"]=$["[object Int32Array]"]=$["[object Uint8Array]"]=$["[object Uint8ClampedArray]"]=$["[object Uint16Array]"]=$["[object Uint32Array]"]=!0,$[i]=$[s]=$[O]=$[o]=$[w]=$[l]=$[u]=$[c]=$[d]=$[h]=$[p]=$[g]=$[m]=$[v]=$[y]=!1;var R="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,P="object"==typeof self&&self&&self.Object===Object&&self,E=R||P||Function("return this")(),k=t&&!t.nodeType&&t,_=k&&e&&!e.nodeType&&e,C=_&&_.exports===k,T=C&&R.process,D=function(){try{return T&&T.binding&&T.binding("util")}catch(e){}}(),A=D&&D.isTypedArray;function I(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function L(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}function Q(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}var N,V,z,M=Array.prototype,j=Function.prototype,F=Object.prototype,X=E["__core-js_shared__"],U=j.toString,B=F.hasOwnProperty,q=(N=/[^.]+$/.exec(X&&X.keys&&X.keys.IE_PROTO||""))?"Symbol(src)_1."+N:"",W=F.toString,H=RegExp("^"+U.call(B).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),G=C?E.Buffer:void 0,Y=E.Symbol,Z=E.Uint8Array,K=F.propertyIsEnumerable,J=M.splice,ee=Y?Y.toStringTag:void 0,te=Object.getOwnPropertySymbols,ne=G?G.isBuffer:void 0,re=(V=Object.keys,z=Object,function(e){return V(z(e))}),ae=De(E,"DataView"),ie=De(E,"Map"),se=De(E,"Promise"),oe=De(E,"Set"),le=De(E,"WeakMap"),ue=De(Object,"create"),ce=Qe(ae),de=Qe(ie),he=Qe(se),pe=Qe(oe),fe=Qe(le),ge=Y?Y.prototype:void 0,me=ge?ge.valueOf:void 0;function ve(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function be(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function ye(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Oe(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new ye;++t<n;)this.add(e[t])}function we(e){var t=this.__data__=new be(e);this.size=t.size}function xe(e,t){var n=ze(e),r=!n&&Ve(e),a=!n&&!r&&Me(e),i=!n&&!r&&!a&&Be(e),s=n||r||a||i,o=s?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],l=o.length;for(var u in e)!t&&!B.call(e,u)||s&&("length"==u||a&&("offset"==u||"parent"==u)||i&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||Le(u,l))||o.push(u);return o}function Se(e,t){for(var n=e.length;n--;)if(Ne(e[n][0],t))return n;return-1}function $e(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":ee&&ee in Object(e)?function(e){var t=B.call(e,ee),n=e[ee];try{e[ee]=void 0;var r=!0}catch(e){}var a=W.call(e);r&&(t?e[ee]=n:delete e[ee]);return a}(e):function(e){return W.call(e)}(e)}function Re(e){return Ue(e)&&$e(e)==i}function Pe(e,t,n,r,a){return e===t||(null==e||null==t||!Ue(e)&&!Ue(t)?e!=e&&t!=t:function(e,t,n,r,a,c){var f=ze(e),y=ze(t),x=f?s:Ie(e),S=y?s:Ie(t),$=(x=x==i?p:x)==p,R=(S=S==i?p:S)==p,P=x==S;if(P&&Me(e)){if(!Me(t))return!1;f=!0,$=!1}if(P&&!$)return c||(c=new we),f||Be(e)?_e(e,t,n,r,a,c):function(e,t,n,r,a,i,s){switch(n){case w:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case O:return!(e.byteLength!=t.byteLength||!i(new Z(e),new Z(t)));case o:case l:case h:return Ne(+e,+t);case u:return e.name==t.name&&e.message==t.message;case g:case v:return e==t+"";case d:var c=L;case m:var p=1&r;if(c||(c=Q),e.size!=t.size&&!p)return!1;var f=s.get(e);if(f)return f==t;r|=2,s.set(e,t);var y=_e(c(e),c(t),r,a,i,s);return s.delete(e),y;case b:if(me)return me.call(e)==me.call(t)}return!1}(e,t,x,n,r,a,c);if(!(1&n)){var E=$&&B.call(e,"__wrapped__"),k=R&&B.call(t,"__wrapped__");if(E||k){var _=E?e.value():e,C=k?t.value():t;return c||(c=new we),a(_,C,n,r,c)}}if(!P)return!1;return c||(c=new we),function(e,t,n,r,a,i){var s=1&n,o=Ce(e),l=o.length,u=Ce(t),c=u.length;if(l!=c&&!s)return!1;var d=l;for(;d--;){var h=o[d];if(!(s?h in t:B.call(t,h)))return!1}var p=i.get(e);if(p&&i.get(t))return p==t;var f=!0;i.set(e,t),i.set(t,e);var g=s;for(;++d<l;){var m=e[h=o[d]],v=t[h];if(r)var b=s?r(v,m,h,t,e,i):r(m,v,h,e,t,i);if(!(void 0===b?m===v||a(m,v,n,r,i):b)){f=!1;break}g||(g="constructor"==h)}if(f&&!g){var y=e.constructor,O=t.constructor;y==O||!("constructor"in e)||!("constructor"in t)||"function"==typeof y&&y instanceof y&&"function"==typeof O&&O instanceof O||(f=!1)}return i.delete(e),i.delete(t),f}(e,t,n,r,a,c)}(e,t,n,r,Pe,a))}function Ee(e){return!(!Xe(e)||function(e){return!!q&&q in e}(e))&&(je(e)?H:x).test(Qe(e))}function ke(e){if(n=(t=e)&&t.constructor,r="function"==typeof n&&n.prototype||F,t!==r)return re(e);var t,n,r,a=[];for(var i in Object(e))B.call(e,i)&&"constructor"!=i&&a.push(i);return a}function _e(e,t,n,r,a,i){var s=1&n,o=e.length,l=t.length;if(o!=l&&!(s&&l>o))return!1;var u=i.get(e);if(u&&i.get(t))return u==t;var c=-1,d=!0,h=2&n?new Oe:void 0;for(i.set(e,t),i.set(t,e);++c<o;){var p=e[c],f=t[c];if(r)var g=s?r(f,p,c,t,e,i):r(p,f,c,e,t,i);if(void 0!==g){if(g)continue;d=!1;break}if(h){if(!I(t,function(e,t){if(s=t,!h.has(s)&&(p===e||a(p,e,n,r,i)))return h.push(t);var s})){d=!1;break}}else if(p!==f&&!a(p,f,n,r,i)){d=!1;break}}return i.delete(e),i.delete(t),d}function Ce(e){return function(e,t,n){var r=t(e);return ze(e)?r:function(e,t){for(var n=-1,r=t.length,a=e.length;++n<r;)e[a+n]=t[n];return e}(r,n(e))}(e,qe,Ae)}function Te(e,t){var n,r,a=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?a["string"==typeof t?"string":"hash"]:a.map}function De(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return Ee(n)?n:void 0}ve.prototype.clear=function(){this.__data__=ue?ue(null):{},this.size=0},ve.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},ve.prototype.get=function(e){var t=this.__data__;if(ue){var n=t[e];return n===r?void 0:n}return B.call(t,e)?t[e]:void 0},ve.prototype.has=function(e){var t=this.__data__;return ue?void 0!==t[e]:B.call(t,e)},ve.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=ue&&void 0===t?r:t,this},be.prototype.clear=function(){this.__data__=[],this.size=0},be.prototype.delete=function(e){var t=this.__data__,n=Se(t,e);return!(n<0)&&(n==t.length-1?t.pop():J.call(t,n,1),--this.size,!0)},be.prototype.get=function(e){var t=this.__data__,n=Se(t,e);return n<0?void 0:t[n][1]},be.prototype.has=function(e){return Se(this.__data__,e)>-1},be.prototype.set=function(e,t){var n=this.__data__,r=Se(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},ye.prototype.clear=function(){this.size=0,this.__data__={hash:new ve,map:new(ie||be),string:new ve}},ye.prototype.delete=function(e){var t=Te(this,e).delete(e);return this.size-=t?1:0,t},ye.prototype.get=function(e){return Te(this,e).get(e)},ye.prototype.has=function(e){return Te(this,e).has(e)},ye.prototype.set=function(e,t){var n=Te(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Oe.prototype.add=Oe.prototype.push=function(e){return this.__data__.set(e,r),this},Oe.prototype.has=function(e){return this.__data__.has(e)},we.prototype.clear=function(){this.__data__=new be,this.size=0},we.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},we.prototype.get=function(e){return this.__data__.get(e)},we.prototype.has=function(e){return this.__data__.has(e)},we.prototype.set=function(e,t){var n=this.__data__;if(n instanceof be){var r=n.__data__;if(!ie||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new ye(r)}return n.set(e,t),this.size=n.size,this};var Ae=te?function(e){return null==e?[]:(e=Object(e),function(e,t){for(var n=-1,r=null==e?0:e.length,a=0,i=[];++n<r;){var s=e[n];t(s,n,e)&&(i[a++]=s)}return i}(te(e),function(t){return K.call(e,t)}))}:function(){return[]},Ie=$e;function Le(e,t){return!!(t=null==t?a:t)&&("number"==typeof e||S.test(e))&&e>-1&&e%1==0&&e<t}function Qe(e){if(null!=e){try{return U.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Ne(e,t){return e===t||e!=e&&t!=t}(ae&&Ie(new ae(new ArrayBuffer(1)))!=w||ie&&Ie(new ie)!=d||se&&Ie(se.resolve())!=f||oe&&Ie(new oe)!=m||le&&Ie(new le)!=y)&&(Ie=function(e){var t=$e(e),n=t==p?e.constructor:void 0,r=n?Qe(n):"";if(r)switch(r){case ce:return w;case de:return d;case he:return f;case pe:return m;case fe:return y}return t});var Ve=Re(function(){return arguments}())?Re:function(e){return Ue(e)&&B.call(e,"callee")&&!K.call(e,"callee")},ze=Array.isArray;var Me=ne||function(){return!1};function je(e){if(!Xe(e))return!1;var t=$e(e);return t==c||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Fe(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=a}function Xe(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Ue(e){return null!=e&&"object"==typeof e}var Be=A?function(e){return function(t){return e(t)}}(A):function(e){return Ue(e)&&Fe(e.length)&&!!$[$e(e)]};function qe(e){return null!=(t=e)&&Fe(t.length)&&!je(t)?xe(e):ke(e);var t}e.exports=function(e,t){return Pe(e,t)}},7871:(e,t,n)=>{"use strict";const r=n(5463);e.exports=(e,t,n)=>r(e,t,">",n)},7930:(e,t,n)=>{"use strict";const r=n(7944),a=n(8395);e.exports=(e,t,n)=>{let i=null,s=null,o=null;try{o=new a(t,n)}catch(e){return null}return e.forEach(e=>{o.test(e)&&(i&&1!==s.compare(e)||(i=e,s=new r(i,n)))}),i}},7944:(e,t,n)=>{"use strict";const r=n(9796),{MAX_LENGTH:a,MAX_SAFE_INTEGER:i}=n(9630),{safeRe:s,t:o}=n(6850),l=n(7095),{compareIdentifiers:u}=n(4031);class c{constructor(e,t){if(t=l(t),e instanceof c){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease)return e;e=e.version}else if("string"!=typeof e)throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>a)throw new TypeError(`version is longer than ${a} characters`);r("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;const n=e.trim().match(t.loose?s[o.LOOSE]:s[o.FULL]);if(!n)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>i||this.major<0)throw new TypeError("Invalid major version");if(this.minor>i||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>i||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(e=>{if(/^[0-9]+$/.test(e)){const t=+e;if(t>=0&&t<i)return t}return e}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(r("SemVer.compare",this.version,this.options,e),!(e instanceof c)){if("string"==typeof e&&e===this.version)return 0;e=new c(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof c||(e=new c(e,this.options)),u(this.major,e.major)||u(this.minor,e.minor)||u(this.patch,e.patch)}comparePre(e){if(e instanceof c||(e=new c(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{const n=this.prerelease[t],a=e.prerelease[t];if(r("prerelease compare",t,n,a),void 0===n&&void 0===a)return 0;if(void 0===a)return 1;if(void 0===n)return-1;if(n!==a)return u(n,a)}while(++t)}compareBuild(e){e instanceof c||(e=new c(e,this.options));let t=0;do{const n=this.build[t],a=e.build[t];if(r("build compare",t,n,a),void 0===n&&void 0===a)return 0;if(void 0===a)return 1;if(void 0===n)return-1;if(n!==a)return u(n,a)}while(++t)}inc(e,t,n){if(e.startsWith("pre")){if(!t&&!1===n)throw new Error("invalid increment argument: identifier is empty");if(t){const e=`-${t}`.match(this.options.loose?s[o.PRERELEASELOOSE]:s[o.PRERELEASE]);if(!e||e[1]!==t)throw new Error(`invalid identifier: ${t}`)}}switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t,n),this.inc("pre",t,n);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t,n),this.inc("pre",t,n);break;case"release":if(0===this.prerelease.length)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":{const e=Number(n)?1:0;if(0===this.prerelease.length)this.prerelease=[e];else{let r=this.prerelease.length;for(;--r>=0;)"number"==typeof this.prerelease[r]&&(this.prerelease[r]++,r=-2);if(-1===r){if(t===this.prerelease.join(".")&&!1===n)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(e)}}if(t){let r=[t,e];!1===n&&(r=[t]),0===u(this.prerelease[0],t)?isNaN(this.prerelease[1])&&(this.prerelease=r):this.prerelease=r}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}e.exports=c},7988:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){0}},7993:(e,t,n)=>{"use strict";n.d(t,{A:()=>p});const r=(e,t)=>e>t?1:e<t?-1:0,a=1/0,i=e=>e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),s="eexxaacctt",o=/\p{P}/gu,l=["en",{numeric:!0,sensitivity:"base"}],u=(e,t,n)=>e.replace("A-Z",t).replace("a-z",n),c={unicode:!1,alpha:null,interSplit:"[^A-Za-z\\d']+",intraSplit:"[a-z][A-Z]",interBound:"[^A-Za-z\\d]",intraBound:"[A-Za-z]\\d|\\d[A-Za-z]|[a-z][A-Z]",interLft:0,interRgt:0,interChars:".",interIns:a,intraChars:"[a-z\\d']",intraIns:null,intraContr:"'[a-z]{1,2}\\b",intraMode:0,intraSlice:[1,a],intraSub:null,intraTrn:null,intraDel:null,intraFilt:(e,t,n)=>!0,toUpper:e=>e.toLocaleUpperCase(),toLower:e=>e.toLocaleLowerCase(),compare:null,sort:(e,t,n,a=r)=>{let{idx:i,chars:s,terms:o,interLft2:l,interLft1:u,start:c,intraIns:d,interIns:h,cases:p}=e;return i.map((e,t)=>t).sort((e,n)=>s[n]-s[e]||d[e]-d[n]||o[n]+l[n]+.5*u[n]-(o[e]+l[e]+.5*u[e])||h[e]-h[n]||c[e]-c[n]||p[n]-p[e]||a(t[i[e]],t[i[n]]))}},d=(e,t)=>0==t?"":1==t?e+"??":t==a?e+"*?":e+`{0,${t}}?`,h="(?:\\b|_)";function p(e){e=Object.assign({},c,e);let{unicode:t,interLft:n,interRgt:a,intraMode:p,intraSlice:f,intraIns:m,intraSub:v,intraTrn:b,intraDel:y,intraContr:O,intraSplit:w,interSplit:x,intraBound:S,interBound:$,intraChars:R,toUpper:P,toLower:E,compare:k}=e;m??=p,v??=p,b??=p,y??=p,k??="undefined"==typeof Intl?r:new Intl.Collator(...l).compare;let _=e.letters??e.alpha;if(null!=_){let e=P(_),t=E(_);x=u(x,e,t),w=u(w,e,t),$=u($,e,t),S=u(S,e,t),R=u(R,e,t),O=u(O,e,t)}let C=t?"u":"";const T='".+?"',D=new RegExp(T,"gi"+C),A=new RegExp(`(?:\\s+|^)-(?:${R}+|${T})`,"gi"+C);let{intraRules:I}=e;null==I&&(I=e=>{let t=c.intraSlice,n=0,r=0,a=0,i=0;if(/[^\d]/.test(e)){let s=e.length;s<=4?s>=3&&(a=Math.min(b,1),4==s&&(n=Math.min(m,1))):(t=f,n=m,r=v,a=b,i=y)}return{intraSlice:t,intraIns:n,intraSub:r,intraTrn:a,intraDel:i}});let L=!!w,Q=new RegExp(w,"g"+C),N=new RegExp(x,"g"+C),V=new RegExp("^"+x+"|"+x+"$","g"+C),z=new RegExp(O,"gi"+C);const M=(e,t=!1)=>{let n=[];e=(e=e.replace(D,e=>(n.push(e),s))).replace(V,""),t||(e=E(e)),L&&(e=e.replace(Q,e=>e[0]+" "+e[1]));let r=0;return e.split(N).filter(e=>""!=e).map(e=>e===s?n[r++]:e)},j=/[^\d]+|\d+/g,F=(t,r=0,s=!1)=>{let o=M(t);if(0==o.length)return[];let l,u=Array(o.length).fill("");if(o=o.map((e,t)=>e.replace(z,e=>(u[t]=e,""))),1==p)l=o.map((e,t)=>{if('"'===e[0])return i(e.slice(1,-1));let n="";for(let r of e.matchAll(j)){let e=r[0],{intraSlice:a,intraIns:i,intraSub:s,intraTrn:o,intraDel:l}=I(e);if(i+s+o+l==0)n+=e+u[t];else{let[r,c]=a,h=e.slice(0,r),p=e.slice(c),f=e.slice(r,c);1==i&&1==h.length&&h!=f[0]&&(h+="(?!"+h+")");let g=f.length,m=[e];if(s)for(let e=0;e<g;e++)m.push(h+f.slice(0,e)+R+f.slice(e+1)+p);if(o)for(let e=0;e<g-1;e++)f[e]!=f[e+1]&&m.push(h+f.slice(0,e)+f[e+1]+f[e]+f.slice(e+2)+p);if(l)for(let e=0;e<g;e++)m.push(h+f.slice(0,e+1)+"?"+f.slice(e+1)+p);if(i){let e=d(R,1);for(let t=0;t<g;t++)m.push(h+f.slice(0,t)+e+f.slice(t)+p)}n+="(?:"+m.join("|")+")"+u[t]}}return n});else{let e=d(R,m);2==r&&m>0&&(e=")("+e+")("),l=o.map((t,n)=>'"'===t[0]?i(t.slice(1,-1)):t.split("").map((e,t,n)=>(1==m&&0==t&&n.length>1&&e!=n[t+1]&&(e+="(?!"+e+")"),e)).join(e)+u[n])}let c=2==n?h:"",f=2==a?h:"",g=f+d(e.interChars,e.interIns)+c;return r>0?s?l=c+"("+l.join(")"+f+"|"+c+"(")+")"+f:(l="("+l.join(")("+g+")(")+")",l="(.??"+c+")"+l+"("+f+".*)"):(l=l.join(g),l=c+l+f),[new RegExp(l,"i"+C),o,u]},X=(e,t,n)=>{let[r]=F(t);if(null==r)return null;let a=[];if(null!=n)for(let t=0;t<n.length;t++){let i=n[t];r.test(e[i])&&a.push(i)}else for(let t=0;t<e.length;t++)r.test(e[t])&&a.push(t);return a};let U=!!S,B=new RegExp($,C),q=new RegExp(S,C);const W=(t,r,i)=>{let[s,o,l]=F(i,1),u=M(i,!0),[c]=F(i,2),d=o.length,h=Array(d),p=Array(d);for(let e=0;e<d;e++){let t=o[e],n=u[e],r='"'==t[0]?t.slice(1,-1):t+l[e],a='"'==n[0]?n.slice(1,-1):n+l[e];h[e]=r,p[e]=a}let f=t.length,g=Array(f).fill(0),m={idx:Array(f),start:g.slice(),chars:g.slice(),cases:g.slice(),terms:g.slice(),interIns:g.slice(),intraIns:g.slice(),interLft2:g.slice(),interRgt2:g.slice(),interLft1:g.slice(),interRgt1:g.slice(),ranges:Array(f)},v=1==n||1==a,b=0;for(let i=0;i<t.length;i++){let o=r[t[i]],l=o.match(s),u=l.index+l[1].length,f=u,g=!1,y=0,O=0,w=0,x=0,S=0,$=0,R=0,P=0,k=0,_=[];for(let t=0,r=2;t<d;t++,r+=2){let i=E(l[r]),s=h[t],c=p[t],m=s.length,b=i.length,T=i==s;if(l[r]==c&&R++,!T&&l[r+1].length>=m){let e=E(l[r+1]).indexOf(s);e>-1&&(_.push(f,b,e,m),f+=H(l,r,e,m),i=s,b=m,T=!0,0==t&&(u=f))}if(v||T){let e=f-1,c=f+b,d=!1,h=!1;if(-1==e||B.test(o[e]))T&&y++,d=!0;else{if(2==n){g=!0;break}if(U&&q.test(o[e]+o[e+1]))T&&O++,d=!0;else if(1==n){let e=l[r+1],n=f+b;if(e.length>=m){let a,c=0,h=!1,p=new RegExp(s,"ig"+C);for(;a=p.exec(e);){c=a.index;let e=n+c,t=e-1;if(-1==t||B.test(o[t])){y++,h=!0;break}if(q.test(o[t]+o[e])){O++,h=!0;break}}h&&(d=!0,_.push(f,b,c,m),f+=H(l,r,c,m),i=s,b=m,T=!0,0==t&&(u=f))}if(!d){g=!0;break}}}if(c==o.length||B.test(o[c]))T&&w++,h=!0;else{if(2==a){g=!0;break}if(U&&q.test(o[c-1]+o[c]))T&&x++,h=!0;else if(1==a){g=!0;break}}T&&(S+=m,d&&h&&$++)}if(b>m&&(k+=b-m),t>0&&(P+=l[r-1].length),!e.intraFilt(s,i,f)){g=!0;break}t<d-1&&(f+=b+l[r+1].length)}if(!g){m.idx[b]=t[i],m.interLft2[b]=y,m.interLft1[b]=O,m.interRgt2[b]=w,m.interRgt1[b]=x,m.chars[b]=S,m.terms[b]=$,m.cases[b]=R,m.interIns[b]=P,m.intraIns[b]=k,m.start[b]=u;let e=o.match(c),n=e.index+e[1].length,r=_.length,a=r>0?0:1/0,s=r-4;for(let t=2;t<e.length;){let r=e[t].length;if(a<=s&&_[a]==n){let r=_[a+1],i=_[a+2],s=_[a+3],o=t,l="";for(let t=0;t<r;o++)l+=e[o],t+=e[o].length;e.splice(t,o-t,l),n+=H(e,t,i,s),a+=4}else n+=r,t++}n=e.index+e[1].length;let l=m.ranges[b]=[],d=n,h=n;for(let t=2;t<e.length;t++){let r=e[t].length;n+=r,t%2==0?h=n:r>0&&(l.push(d,h),d=h=n)}h>d&&l.push(d,h),b++}}if(b<t.length)for(let e in m)m[e]=m[e].slice(0,b);return m},H=(e,t,n,r)=>{let a=e[t]+e[t+1].slice(0,n);return e[t-1]+=a,e[t]=e[t+1].slice(n,n+r),e[t+1]=e[t+1].slice(n+r),a.length};return{search:(...t)=>((t,n,r,a=1e3,s)=>{r=r?!0===r?5:r:0;let l=null,u=null,c=[];n=n.replace(A,e=>{let t=e.trim().slice(1);return t='"'===t[0]?i(t.slice(1,-1)):t.replace(o,""),""!=t&&c.push(t),""});let d,h=M(n);if(c.length>0){if(d=new RegExp(c.join("|"),"i"+C),0==h.length){let e=[];for(let n=0;n<t.length;n++)d.test(t[n])||e.push(n);return[e,null,null]}}else if(0==h.length)return[null,null,null];if(r>0){let e=M(n);if(e.length>1){let n=e.slice().sort((e,t)=>t.length-e.length);for(let e=0;e<n.length;e++){if(0==s?.length)return[[],null,null];s=X(t,n[e],s)}if(e.length>r)return[s,null,null];l=g(e).map(e=>e.join(" ")),u=[];let a=new Set;for(let e=0;e<l.length;e++)if(a.size<s.length){let n=s.filter(e=>!a.has(e)),r=X(t,l[e],n);for(let e=0;e<r.length;e++)a.add(r[e]);u.push(r)}else u.push([])}}null==l&&(l=[n],u=[s?.length>0?s:X(t,n)]);let p=null,f=null;if(c.length>0&&(u=u.map(e=>e.filter(e=>!d.test(t[e])))),u.reduce((e,t)=>e+t.length,0)<=a){p={},f=[];for(let n=0;n<u.length;n++){let r=u[n];if(null==r||0==r.length)continue;let a=l[n],i=W(r,t,a),s=e.sort(i,t,a,k);if(n>0)for(let e=0;e<s.length;e++)s[e]+=f.length;for(let e in i)p[e]=(p[e]??[]).concat(i[e]);f=f.concat(s)}}return[[].concat(...u),p,f]})(...t),split:M,filter:X,info:W,sort:e.sort}}const f=(()=>{let e={A:"ÁÀÃÂÄĄ",a:"áàãâäą",E:"ÉÈÊËĖ",e:"éèêëę",I:"ÍÌÎÏĮ",i:"íìîïį",O:"ÓÒÔÕÖ",o:"óòôõö",U:"ÚÙÛÜŪŲ",u:"úùûüūų",C:"ÇČĆ",c:"çčć",L:"Ł",l:"ł",N:"ÑŃ",n:"ñń",S:"ŠŚ",s:"šś",Z:"ŻŹ",z:"żź"},t=new Map,n="";for(let r in e)e[r].split("").forEach(e=>{n+=e,t.set(e,r)});let r=new RegExp(`[${n}]`,"g"),a=e=>t.get(e);return e=>{if("string"==typeof e)return e.replace(r,a);let t=Array(e.length);for(let n=0;n<e.length;n++)t[n]=e[n].replace(r,a);return t}})();function g(e){let t,n,r=(e=e.slice()).length,a=[e.slice()],i=new Array(r).fill(0),s=1;for(;s<r;)i[s]<s?(t=s%2&&i[s],n=e[s],e[s]=e[t],e[t]=n,++i[s],s=1,a.push(e.slice())):(i[s]=0,++s);return a}const m=(e,t)=>t?`<mark>${e}</mark>`:e,v=(e,t)=>e+t;p.latinize=f,p.permute=e=>g([...Array(e.length).keys()]).sort((e,t)=>{for(let n=0;n<e.length;n++)if(e[n]!=t[n])return e[n]-t[n];return 0}).map(t=>t.map(t=>e[t])),p.highlight=function(e,t,n=m,r="",a=v){r=a(r,n(e.substring(0,t[0]),!1))??r;for(let i=0;i<t.length;i+=2){let s=t[i],o=t[i+1];r=a(r,n(e.substring(s,o),!0))??r,i<t.length-3&&(r=a(r,n(e.substring(t[i+1],t[i+2]),!1))??r)}return r=a(r,n(e.substring(t[t.length-1]),!1))??r}},7994:(e,t,n)=>{"use strict";const r=n(5860);e.exports=(e,t)=>{const n=r(e.trim().replace(/^[=v]+/,""),t);return n?n.version:null}},8100:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=h(n(5959)),i=h(n(2688)),s=n(8230),o=n(936),l=n(414),u=n(906),c=n(7222),d=h(n(7256));function h(e){return e&&e.__esModule?e:{default:e}}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach(function(t){O(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t){return m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},m(e,t)}function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=y(e);if(t){var i=y(this).constructor;n=Reflect.construct(a,arguments,i)}else n=a.apply(this,arguments);return function(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return b(e)}(this,n)}}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var w=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m(e,t)}(c,e);var t,n,r,i=v(c);function c(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return O(b(e=i.call.apply(i,[this].concat(n))),"state",{resizing:null,dragging:null,className:""}),O(b(e),"elementRef",a.default.createRef()),O(b(e),"onDragStart",function(t,n){var r=n.node,a=e.props,i=a.onDragStart,s=a.transformScale;if(i){var o={top:0,left:0},l=r.offsetParent;if(l){var c=l.getBoundingClientRect(),d=r.getBoundingClientRect(),h=d.left/s,p=c.left/s,f=d.top/s,g=c.top/s;o.left=h-p+l.scrollLeft,o.top=f-g+l.scrollTop,e.setState({dragging:o});var m=(0,u.calcXY)(e.getPositionParams(),o.top,o.left,e.props.w,e.props.h),v=m.x,y=m.y;return i.call(b(e),e.props.i,v,y,{e:t,node:r,newPosition:o})}}}),O(b(e),"onDrag",function(t,n){var r=n.node,a=n.deltaX,i=n.deltaY,s=e.props.onDrag;if(s){if(!e.state.dragging)throw new Error("onDrag called before onDragStart.");var o=e.state.dragging.top+i,l=e.state.dragging.left+a,c=e.props,d=c.isBounded,h=c.i,p=c.w,f=c.h,g=c.containerWidth,m=e.getPositionParams();if(d){var v=r.offsetParent;if(v){var y=e.props,O=y.margin,w=y.rowHeight,x=v.clientHeight-(0,u.calcGridItemWHPx)(f,w,O[1]);o=(0,u.clamp)(o,0,x);var S=(0,u.calcGridColWidth)(m),$=g-(0,u.calcGridItemWHPx)(p,S,O[0]);l=(0,u.clamp)(l,0,$)}}var R={top:o,left:l};e.setState({dragging:R});var P=(0,u.calcXY)(m,o,l,p,f),E=P.x,k=P.y;return s.call(b(e),h,E,k,{e:t,node:r,newPosition:R})}}),O(b(e),"onDragStop",function(t,n){var r=n.node,a=e.props.onDragStop;if(a){if(!e.state.dragging)throw new Error("onDragEnd called before onDragStart.");var i=e.props,s=i.w,o=i.h,l=i.i,c=e.state.dragging,d=c.left,h=c.top,p={top:h,left:d};e.setState({dragging:null});var f=(0,u.calcXY)(e.getPositionParams(),h,d,s,o),g=f.x,m=f.y;return a.call(b(e),l,g,m,{e:t,node:r,newPosition:p})}}),O(b(e),"onResizeStop",function(t,n){e.onResizeHandler(t,n,"onResizeStop")}),O(b(e),"onResizeStart",function(t,n){e.onResizeHandler(t,n,"onResizeStart")}),O(b(e),"onResize",function(t,n){e.onResizeHandler(t,n,"onResize")}),e}return t=c,n=[{key:"shouldComponentUpdate",value:function(e,t){if(this.props.children!==e.children)return!0;if(this.props.droppingPosition!==e.droppingPosition)return!0;var n=(0,u.calcGridItemPosition)(this.getPositionParams(this.props),this.props.x,this.props.y,this.props.w,this.props.h,this.state),r=(0,u.calcGridItemPosition)(this.getPositionParams(e),e.x,e.y,e.w,e.h,t);return!(0,l.fastPositionEqual)(n,r)||this.props.useCSSTransforms!==e.useCSSTransforms}},{key:"componentDidMount",value:function(){this.moveDroppingItem({})}},{key:"componentDidUpdate",value:function(e){this.moveDroppingItem(e)}},{key:"moveDroppingItem",value:function(e){var t=this.props.droppingPosition;if(t){var n=this.elementRef.current;if(n){var r=e.droppingPosition||{left:0,top:0},a=this.state.dragging,i=a&&t.left!==r.left||t.top!==r.top;if(a){if(i){var s=t.left-a.left,o=t.top-a.top;this.onDrag(t.e,{node:n,deltaX:s,deltaY:o})}}else this.onDragStart(t.e,{node:n,deltaX:t.left,deltaY:t.top})}}}},{key:"getPositionParams",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;return{cols:e.cols,containerPadding:e.containerPadding,containerWidth:e.containerWidth,margin:e.margin,maxRows:e.maxRows,rowHeight:e.rowHeight}}},{key:"createStyle",value:function(e){var t,n=this.props,r=n.usePercentages,a=n.containerWidth;return n.useCSSTransforms?t=(0,l.setTransform)(e):(t=(0,l.setTopLeft)(e),r&&(t.left=(0,l.perc)(e.left/a),t.width=(0,l.perc)(e.width/a))),t}},{key:"mixinDraggable",value:function(e,t){return a.default.createElement(s.DraggableCore,{disabled:!t,onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop,handle:this.props.handle,cancel:".react-resizable-handle"+(this.props.cancel?","+this.props.cancel:""),scale:this.props.transformScale,nodeRef:this.elementRef},e)}},{key:"mixinResizable",value:function(e,t,n){var r=this.props,i=r.cols,s=r.x,l=r.minW,c=r.minH,d=r.maxW,h=r.maxH,p=r.transformScale,f=r.resizeHandles,g=r.resizeHandle,m=this.getPositionParams(),v=(0,u.calcGridItemPosition)(m,0,0,i-s,0).width,b=(0,u.calcGridItemPosition)(m,0,0,l,c),y=(0,u.calcGridItemPosition)(m,0,0,d,h),O=[b.width,b.height],w=[Math.min(y.width,v),Math.min(y.height,1/0)];return a.default.createElement(o.Resizable,{draggableOpts:{disabled:!n},className:n?void 0:"react-resizable-hide",width:t.width,height:t.height,minConstraints:O,maxConstraints:w,onResizeStop:this.onResizeStop,onResizeStart:this.onResizeStart,onResize:this.onResize,transformScale:p,resizeHandles:f,handle:g},e)}},{key:"onResizeHandler",value:function(e,t,n){var r=t.node,a=t.size,i=this.props[n];if(i){var s=this.props,o=s.cols,l=s.x,c=s.y,d=s.i,h=s.maxH,p=s.minH,f=this.props,g=f.minW,m=f.maxW,v=(0,u.calcWH)(this.getPositionParams(),a.width,a.height,l,c),b=v.w,y=v.h;g=Math.max(g,1),m=Math.min(m,o-l),b=(0,u.clamp)(b,g,m),y=(0,u.clamp)(y,p,h),this.setState({resizing:"onResizeStop"===n?null:a}),i.call(this,d,b,y,{e,node:r,size:a})}}},{key:"render",value:function(){var e=this.props,t=e.x,n=e.y,r=e.w,i=e.h,s=e.isDraggable,o=e.isResizable,l=e.droppingPosition,c=e.useCSSTransforms,h=(0,u.calcGridItemPosition)(this.getPositionParams(),t,n,r,i,this.state),p=a.default.Children.only(this.props.children),g=a.default.cloneElement(p,{ref:this.elementRef,className:(0,d.default)("react-grid-item",p.props.className,this.props.className,{static:this.props.static,resizing:Boolean(this.state.resizing),"react-draggable":s,"react-draggable-dragging":Boolean(this.state.dragging),dropping:Boolean(l),cssTransforms:c}),style:f(f(f({},this.props.style),p.props.style),this.createStyle(h))});return g=this.mixinResizable(g,h,o),g=this.mixinDraggable(g,s)}}],n&&g(t.prototype,n),r&&g(t,r),Object.defineProperty(t,"prototype",{writable:!1}),c}(a.default.Component);t.default=w,O(w,"propTypes",{children:i.default.element,cols:i.default.number.isRequired,containerWidth:i.default.number.isRequired,rowHeight:i.default.number.isRequired,margin:i.default.array.isRequired,maxRows:i.default.number.isRequired,containerPadding:i.default.array.isRequired,x:i.default.number.isRequired,y:i.default.number.isRequired,w:i.default.number.isRequired,h:i.default.number.isRequired,minW:function(e,t){var n=e[t];return"number"!=typeof n?new Error("minWidth not Number"):n>e.w||n>e.maxW?new Error("minWidth larger than item width/maxWidth"):void 0},maxW:function(e,t){var n=e[t];return"number"!=typeof n?new Error("maxWidth not Number"):n<e.w||n<e.minW?new Error("maxWidth smaller than item width/minWidth"):void 0},minH:function(e,t){var n=e[t];return"number"!=typeof n?new Error("minHeight not Number"):n>e.h||n>e.maxH?new Error("minHeight larger than item height/maxHeight"):void 0},maxH:function(e,t){var n=e[t];return"number"!=typeof n?new Error("maxHeight not Number"):n<e.h||n<e.minH?new Error("maxHeight smaller than item height/minHeight"):void 0},i:i.default.string.isRequired,resizeHandles:c.resizeHandleAxesType,resizeHandle:c.resizeHandleType,onDragStop:i.default.func,onDragStart:i.default.func,onDrag:i.default.func,onResizeStop:i.default.func,onResizeStart:i.default.func,onResize:i.default.func,isDraggable:i.default.bool.isRequired,isResizable:i.default.bool.isRequired,isBounded:i.default.bool.isRequired,static:i.default.bool,useCSSTransforms:i.default.bool.isRequired,transformScale:i.default.number,className:i.default.string,handle:i.default.string,cancel:i.default.string,droppingPosition:i.default.shape({e:i.default.object.isRequired,left:i.default.number.isRequired,top:i.default.number.isRequired})}),O(w,"defaultProps",{className:"",cancel:"",handle:"",minH:1,minW:1,maxH:1/0,maxW:1/0,transformScale:1})},8162:(e,t,n)=>{"use strict";n.d(t,{r4:()=>a,md:()=>i,GH:()=>r});const r={x_over_time:(e,t,n="$__range",r="")=>`${e}_over_time((${t})[${n}:${r}])`,avg_over_time:({expr:e,range:t,interval:n})=>r.x_over_time("avg",e,t,n),count_over_time:({expr:e,range:t,interval:n})=>r.x_over_time("count",e,t,n),last_over_time:({expr:e,range:t,interval:n})=>r.x_over_time("last",e,t,n),max_over_time:({expr:e,range:t,interval:n})=>r.x_over_time("max",e,t,n),min_over_time:({expr:e,range:t,interval:n})=>r.x_over_time("min",e,t,n),present_over_time:({expr:e,range:t,interval:n})=>r.x_over_time("present",e,t,n),stddev_over_time:({expr:e,range:t,interval:n})=>r.x_over_time("stddev",e,t,n),stdvar_over_time:({expr:e,range:t,interval:n})=>r.x_over_time("stdvar",e,t,n),sum_over_time:({expr:e,range:t,interval:n})=>r.x_over_time("sum",e,t,n),quantile_over_time:({expr:e,range:t,interval:n})=>r.x_over_time("quantile",e,t,n),offset:({units:e})=>(e=>{let t="";for(const[n,r]of Object.entries(e))r>0&&(t+=`${r}${n}`);return t.length?`offset ${t}`:""})(e),by:e=>e?` by (${e.join(", ")}) `:"",without:e=>e?` without (${e.join(", ")}) `:"",byOrWithout:({by:e,without:t})=>e?r.by(e):r.without(t),sum:({expr:e,by:t,without:n})=>`sum${r.byOrWithout({by:t,without:n})}(${e})`,min:({expr:e,by:t,without:n})=>`min${r.byOrWithout({by:t,without:n})}(${e})`,max:({expr:e,by:t,without:n})=>`max${r.byOrWithout({by:t,without:n})}(${e})`,avg:({expr:e,by:t,without:n})=>`avg${r.byOrWithout({by:t,without:n})}(${e})`,group:({expr:e,by:t,without:n})=>`group${r.byOrWithout({by:t,without:n})}(${e})`,count:({expr:e,by:t,without:n})=>`count${r.byOrWithout({by:t,without:n})}(${e})`,stddev:({expr:e,by:t,without:n})=>`stddev${r.byOrWithout({by:t,without:n})}(${e})`,stdvar:({expr:e,by:t,without:n})=>`stdvar${r.byOrWithout({by:t,without:n})}(${e})`,count_values:({expr:e,by:t,without:n,parameter:a})=>`count_values${r.byOrWithout({by:t,without:n})}(${a}, ${e})`,bottomk:({expr:e,by:t,without:n,parameter:a})=>`bottomk${r.byOrWithout({by:t,without:n})}(${a}, ${e})`,topk:({expr:e,by:t,without:n,parameter:a})=>`topk${r.byOrWithout({by:t,without:n})}(${a}, ${e})`,quantile:({expr:e,by:t,without:n,parameter:a})=>`quantile${r.byOrWithout({by:t,without:n})}(${a}, ${e})`,and:({left:e,right:t})=>`${e} and ${t}`,or:({left:e,right:t})=>`${e} or ${t}`,unless:({left:e,right:t})=>`${e} unless ${t}`,rate:({expr:e,interval:t="$__rate_interval"})=>`rate(${e}[${t}])`,increase:({expr:e,interval:t="$__range"})=>`increase(${e}[${t}])`,label_replace:({expr:e,newLabel:t,existingLabel:n,replacement:r="$1",regex:a="(.*)"})=>`label_replace(${e}, "${t}", "${r}", "${n}", "${a}")`,label_join:({expr:e,newLabel:t,separator:n=",",labels:r})=>`label_join(${e}, "${t}", "${n}", ${r.map(e=>`"${e}"`).join(", ")})`};class a{metric;selectors=new Map;constructor(e){this.metric=e.metric,e.defaultSelectors?.forEach(e=>this.setSelector(e));for(const[t,n]of Object.entries(e.values))void 0!==n&&this.selectors.set(t,[{operator:e.defaultOperator,label:t,value:n}])}setSelector(e){const t=this.selectors.get(e.label)||[];return t.push(e),this.selectors.set(e.label,t),this}toString(){const e=Array.from(this.selectors).flatMap(([e,t])=>t.map(t=>`${e}${t.operator}"${t.value}"`)).join(", ");return`${this.metric}{${e}}`}}var i;!function(e){e.equal="=",e.notEqual="!=",e.regexMatch="=~",e.notRegexMatch="!~"}(i||(i={}))},8230:(e,t,n)=>{"use strict";const{default:r,DraggableCore:a}=n(9111);e.exports=r,e.exports.default=r,e.exports.DraggableCore=a},8395:(e,t,n)=>{"use strict";const r=/\s+/g;class a{constructor(e,t){if(t=s(t),e instanceof a)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new a(e.raw,t);if(e instanceof o)return this.raw=e.value,this.set=[[e]],this.formatted=void 0,this;if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e.trim().replace(r," "),this.set=this.raw.split("||").map(e=>this.parseRange(e.trim())).filter(e=>e.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const e=this.set[0];if(this.set=this.set.filter(e=>!v(e[0])),0===this.set.length)this.set=[e];else if(this.set.length>1)for(const e of this.set)if(1===e.length&&b(e[0])){this.set=[e];break}}this.formatted=void 0}get range(){if(void 0===this.formatted){this.formatted="";for(let e=0;e<this.set.length;e++){e>0&&(this.formatted+="||");const t=this.set[e];for(let e=0;e<t.length;e++)e>0&&(this.formatted+=" "),this.formatted+=t[e].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(e){const t=((this.options.includePrerelease&&g)|(this.options.loose&&m))+":"+e,n=i.get(t);if(n)return n;const r=this.options.loose,a=r?c[d.HYPHENRANGELOOSE]:c[d.HYPHENRANGE];e=e.replace(a,C(this.options.includePrerelease)),l("hyphen replace",e),e=e.replace(c[d.COMPARATORTRIM],h),l("comparator trim",e),e=e.replace(c[d.TILDETRIM],p),l("tilde trim",e),e=e.replace(c[d.CARETTRIM],f),l("caret trim",e);let s=e.split(" ").map(e=>O(e,this.options)).join(" ").split(/\s+/).map(e=>_(e,this.options));r&&(s=s.filter(e=>(l("loose invalid filter",e,this.options),!!e.match(c[d.COMPARATORLOOSE])))),l("range list",s);const u=new Map,b=s.map(e=>new o(e,this.options));for(const e of b){if(v(e))return[e];u.set(e.value,e)}u.size>1&&u.has("")&&u.delete("");const y=[...u.values()];return i.set(t,y),y}intersects(e,t){if(!(e instanceof a))throw new TypeError("a Range is required");return this.set.some(n=>y(n,t)&&e.set.some(e=>y(e,t)&&n.every(n=>e.every(e=>n.intersects(e,t)))))}test(e){if(!e)return!1;if("string"==typeof e)try{e=new u(e,this.options)}catch(e){return!1}for(let t=0;t<this.set.length;t++)if(T(this.set[t],e,this.options))return!0;return!1}}e.exports=a;const i=new(n(1158)),s=n(7095),o=n(9524),l=n(9796),u=n(7944),{safeRe:c,t:d,comparatorTrimReplace:h,tildeTrimReplace:p,caretTrimReplace:f}=n(6850),{FLAG_INCLUDE_PRERELEASE:g,FLAG_LOOSE:m}=n(9630),v=e=>"<0.0.0-0"===e.value,b=e=>""===e.value,y=(e,t)=>{let n=!0;const r=e.slice();let a=r.pop();for(;n&&r.length;)n=r.every(e=>a.intersects(e,t)),a=r.pop();return n},O=(e,t)=>(l("comp",e,t),e=$(e,t),l("caret",e),e=x(e,t),l("tildes",e),e=P(e,t),l("xrange",e),e=k(e,t),l("stars",e),e),w=e=>!e||"x"===e.toLowerCase()||"*"===e,x=(e,t)=>e.trim().split(/\s+/).map(e=>S(e,t)).join(" "),S=(e,t)=>{const n=t.loose?c[d.TILDELOOSE]:c[d.TILDE];return e.replace(n,(t,n,r,a,i)=>{let s;return l("tilde",e,t,n,r,a,i),w(n)?s="":w(r)?s=`>=${n}.0.0 <${+n+1}.0.0-0`:w(a)?s=`>=${n}.${r}.0 <${n}.${+r+1}.0-0`:i?(l("replaceTilde pr",i),s=`>=${n}.${r}.${a}-${i} <${n}.${+r+1}.0-0`):s=`>=${n}.${r}.${a} <${n}.${+r+1}.0-0`,l("tilde return",s),s})},$=(e,t)=>e.trim().split(/\s+/).map(e=>R(e,t)).join(" "),R=(e,t)=>{l("caret",e,t);const n=t.loose?c[d.CARETLOOSE]:c[d.CARET],r=t.includePrerelease?"-0":"";return e.replace(n,(t,n,a,i,s)=>{let o;return l("caret",e,t,n,a,i,s),w(n)?o="":w(a)?o=`>=${n}.0.0${r} <${+n+1}.0.0-0`:w(i)?o="0"===n?`>=${n}.${a}.0${r} <${n}.${+a+1}.0-0`:`>=${n}.${a}.0${r} <${+n+1}.0.0-0`:s?(l("replaceCaret pr",s),o="0"===n?"0"===a?`>=${n}.${a}.${i}-${s} <${n}.${a}.${+i+1}-0`:`>=${n}.${a}.${i}-${s} <${n}.${+a+1}.0-0`:`>=${n}.${a}.${i}-${s} <${+n+1}.0.0-0`):(l("no pr"),o="0"===n?"0"===a?`>=${n}.${a}.${i}${r} <${n}.${a}.${+i+1}-0`:`>=${n}.${a}.${i}${r} <${n}.${+a+1}.0-0`:`>=${n}.${a}.${i} <${+n+1}.0.0-0`),l("caret return",o),o})},P=(e,t)=>(l("replaceXRanges",e,t),e.split(/\s+/).map(e=>E(e,t)).join(" ")),E=(e,t)=>{e=e.trim();const n=t.loose?c[d.XRANGELOOSE]:c[d.XRANGE];return e.replace(n,(n,r,a,i,s,o)=>{l("xRange",e,n,r,a,i,s,o);const u=w(a),c=u||w(i),d=c||w(s),h=d;return"="===r&&h&&(r=""),o=t.includePrerelease?"-0":"",u?n=">"===r||"<"===r?"<0.0.0-0":"*":r&&h?(c&&(i=0),s=0,">"===r?(r=">=",c?(a=+a+1,i=0,s=0):(i=+i+1,s=0)):"<="===r&&(r="<",c?a=+a+1:i=+i+1),"<"===r&&(o="-0"),n=`${r+a}.${i}.${s}${o}`):c?n=`>=${a}.0.0${o} <${+a+1}.0.0-0`:d&&(n=`>=${a}.${i}.0${o} <${a}.${+i+1}.0-0`),l("xRange return",n),n})},k=(e,t)=>(l("replaceStars",e,t),e.trim().replace(c[d.STAR],"")),_=(e,t)=>(l("replaceGTE0",e,t),e.trim().replace(c[t.includePrerelease?d.GTE0PRE:d.GTE0],"")),C=e=>(t,n,r,a,i,s,o,l,u,c,d,h)=>`${n=w(r)?"":w(a)?`>=${r}.0.0${e?"-0":""}`:w(i)?`>=${r}.${a}.0${e?"-0":""}`:s?`>=${n}`:`>=${n}${e?"-0":""}`} ${l=w(u)?"":w(c)?`<${+u+1}.0.0-0`:w(d)?`<${u}.${+c+1}.0-0`:h?`<=${u}.${c}.${d}-${h}`:e?`<${u}.${c}.${+d+1}-0`:`<=${l}`}`.trim(),T=(e,t,n)=>{for(let n=0;n<e.length;n++)if(!e[n].test(t))return!1;if(t.prerelease.length&&!n.includePrerelease){for(let n=0;n<e.length;n++)if(l(e[n].semver),e[n].semver!==o.ANY&&e[n].semver.prerelease.length>0){const r=e[n].semver;if(r.major===t.major&&r.minor===t.minor&&r.patch===t.patch)return!0}return!1}return!0}},8449:(e,t,n)=>{"use strict";const r=n(6850),a=n(9630),i=n(7944),s=n(4031),o=n(5860),l=n(7645),u=n(7994),c=n(5955),d=n(660),h=n(2966),p=n(5986),f=n(1617),g=n(9613),m=n(5380),v=n(2862),b=n(7023),y=n(2801),O=n(603),w=n(6033),x=n(144),S=n(599),$=n(6909),R=n(7659),P=n(2077),E=n(7092),k=n(3811),_=n(5334),C=n(9524),T=n(8395),D=n(1722),A=n(651),I=n(7840),L=n(7930),Q=n(3489),N=n(7494),V=n(5463),z=n(7871),M=n(4266),j=n(1112),F=n(1465),X=n(9252);e.exports={parse:o,valid:l,clean:u,inc:c,diff:d,major:h,minor:p,patch:f,prerelease:g,compare:m,rcompare:v,compareLoose:b,compareBuild:y,sort:O,rsort:w,gt:x,lt:S,eq:$,neq:R,gte:P,lte:E,cmp:k,coerce:_,Comparator:C,Range:T,satisfies:D,toComparators:A,maxSatisfying:I,minSatisfying:L,minVersion:Q,validRange:N,outside:V,gtr:z,ltr:M,intersects:j,simplifyRange:F,subset:X,SemVer:i,re:r.re,src:r.src,tokens:r.t,SEMVER_SPEC_VERSION:a.SEMVER_SPEC_VERSION,RELEASE_TYPES:a.RELEASE_TYPES,compareIdentifiers:s.compareIdentifiers,rcompareIdentifiers:s.rcompareIdentifiers}},8784:e=>{function t(e){var n,r,a="";if("string"==typeof e||"number"==typeof e)a+=e;else if("object"==typeof e)if(Array.isArray(e)){var i=e.length;for(n=0;n<i;n++)e[n]&&(r=t(e[n]))&&(a&&(a+=" "),a+=r)}else for(r in e)e[r]&&(a&&(a+=" "),a+=r);return a}function n(){for(var e,n,r=0,a="",i=arguments.length;r<i;r++)(e=arguments[r])&&(n=t(e))&&(a&&(a+=" "),a+=n);return a}e.exports=n,e.exports.clsx=n},9111:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"DraggableCore",{enumerable:!0,get:function(){return c.default}}),t.default=void 0;var r=function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return function(e,t){if(!t&&e&&e.__esModule)return e;var a,i,s={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return s;if(a=t?r:n){if(a.has(e))return a.get(e);a.set(e,s)}for(const t in e)"default"!==t&&{}.hasOwnProperty.call(e,t)&&((i=(a=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(i.get||i.set)?a(s,t,i):s[t]=e[t]);return s}(e,t)}(n(5959)),a=h(n(2688)),i=h(n(8398)),s=n(8784),o=n(2837),l=n(402),u=n(6732),c=h(n(1060)),d=h(n(7988));function h(e){return e&&e.__esModule?e:{default:e}}function p(){return p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p.apply(null,arguments)}function f(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class g extends r.Component{static getDerivedStateFromProps(e,t){let{position:n}=e,{prevPropsPosition:r}=t;return!n||r&&n.x===r.x&&n.y===r.y?null:((0,d.default)("Draggable: getDerivedStateFromProps %j",{position:n,prevPropsPosition:r}),{x:n.x,y:n.y,prevPropsPosition:{...n}})}constructor(e){super(e),f(this,"onDragStart",(e,t)=>{(0,d.default)("Draggable: onDragStart: %j",t);if(!1===this.props.onStart(e,(0,l.createDraggableData)(this,t)))return!1;this.setState({dragging:!0,dragged:!0})}),f(this,"onDrag",(e,t)=>{if(!this.state.dragging)return!1;(0,d.default)("Draggable: onDrag: %j",t);const n=(0,l.createDraggableData)(this,t),r={x:n.x,y:n.y,slackX:0,slackY:0};if(this.props.bounds){const{x:e,y:t}=r;r.x+=this.state.slackX,r.y+=this.state.slackY;const[a,i]=(0,l.getBoundPosition)(this,r.x,r.y);r.x=a,r.y=i,r.slackX=this.state.slackX+(e-r.x),r.slackY=this.state.slackY+(t-r.y),n.x=r.x,n.y=r.y,n.deltaX=r.x-this.state.x,n.deltaY=r.y-this.state.y}if(!1===this.props.onDrag(e,n))return!1;this.setState(r)}),f(this,"onDragStop",(e,t)=>{if(!this.state.dragging)return!1;if(!1===this.props.onStop(e,(0,l.createDraggableData)(this,t)))return!1;(0,d.default)("Draggable: onDragStop: %j",t);const n={dragging:!1,slackX:0,slackY:0};if(Boolean(this.props.position)){const{x:e,y:t}=this.props.position;n.x=e,n.y=t}this.setState(n)}),this.state={dragging:!1,dragged:!1,x:e.position?e.position.x:e.defaultPosition.x,y:e.position?e.position.y:e.defaultPosition.y,prevPropsPosition:{...e.position},slackX:0,slackY:0,isElementSVG:!1},!e.position||e.onDrag||e.onStop||console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}componentDidMount(){void 0!==window.SVGElement&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.state.dragging&&this.setState({dragging:!1})}findDOMNode(){return this.props?.nodeRef?.current??i.default.findDOMNode(this)}render(){const{axis:e,bounds:t,children:n,defaultPosition:a,defaultClassName:i,defaultClassNameDragging:u,defaultClassNameDragged:d,position:h,positionOffset:f,scale:g,...m}=this.props;let v={},b=null;const y=!Boolean(h)||this.state.dragging,O=h||a,w={x:(0,l.canDragX)(this)&&y?this.state.x:O.x,y:(0,l.canDragY)(this)&&y?this.state.y:O.y};this.state.isElementSVG?b=(0,o.createSVGTransform)(w,f):v=(0,o.createCSSTransform)(w,f);const x=(0,s.clsx)(n.props.className||"",i,{[u]:this.state.dragging,[d]:this.state.dragged});return r.createElement(c.default,p({},m,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),r.cloneElement(r.Children.only(n),{className:x,style:{...n.props.style,...v},transform:b}))}}t.default=g,f(g,"displayName","Draggable"),f(g,"propTypes",{...c.default.propTypes,axis:a.default.oneOf(["both","x","y","none"]),bounds:a.default.oneOfType([a.default.shape({left:a.default.number,right:a.default.number,top:a.default.number,bottom:a.default.number}),a.default.string,a.default.oneOf([!1])]),defaultClassName:a.default.string,defaultClassNameDragging:a.default.string,defaultClassNameDragged:a.default.string,defaultPosition:a.default.shape({x:a.default.number,y:a.default.number}),positionOffset:a.default.shape({x:a.default.oneOfType([a.default.number,a.default.string]),y:a.default.oneOfType([a.default.number,a.default.string])}),position:a.default.shape({x:a.default.number,y:a.default.number}),className:u.dontSetMe,style:u.dontSetMe,transform:u.dontSetMe}),f(g,"defaultProps",{...c.default.defaultProps,axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1})},9252:(e,t,n)=>{"use strict";const r=n(8395),a=n(9524),{ANY:i}=a,s=n(1722),o=n(5380),l=[new a(">=0.0.0-0")],u=[new a(">=0.0.0")],c=(e,t,n)=>{if(e===t)return!0;if(1===e.length&&e[0].semver===i){if(1===t.length&&t[0].semver===i)return!0;e=n.includePrerelease?l:u}if(1===t.length&&t[0].semver===i){if(n.includePrerelease)return!0;t=u}const r=new Set;let a,c,p,f,g,m,v;for(const t of e)">"===t.operator||">="===t.operator?a=d(a,t,n):"<"===t.operator||"<="===t.operator?c=h(c,t,n):r.add(t.semver);if(r.size>1)return null;if(a&&c){if(p=o(a.semver,c.semver,n),p>0)return null;if(0===p&&(">="!==a.operator||"<="!==c.operator))return null}for(const e of r){if(a&&!s(e,String(a),n))return null;if(c&&!s(e,String(c),n))return null;for(const r of t)if(!s(e,String(r),n))return!1;return!0}let b=!(!c||n.includePrerelease||!c.semver.prerelease.length)&&c.semver,y=!(!a||n.includePrerelease||!a.semver.prerelease.length)&&a.semver;b&&1===b.prerelease.length&&"<"===c.operator&&0===b.prerelease[0]&&(b=!1);for(const e of t){if(v=v||">"===e.operator||">="===e.operator,m=m||"<"===e.operator||"<="===e.operator,a)if(y&&e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===y.major&&e.semver.minor===y.minor&&e.semver.patch===y.patch&&(y=!1),">"===e.operator||">="===e.operator){if(f=d(a,e,n),f===e&&f!==a)return!1}else if(">="===a.operator&&!s(a.semver,String(e),n))return!1;if(c)if(b&&e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===b.major&&e.semver.minor===b.minor&&e.semver.patch===b.patch&&(b=!1),"<"===e.operator||"<="===e.operator){if(g=h(c,e,n),g===e&&g!==c)return!1}else if("<="===c.operator&&!s(c.semver,String(e),n))return!1;if(!e.operator&&(c||a)&&0!==p)return!1}return!(a&&m&&!c&&0!==p)&&(!(c&&v&&!a&&0!==p)&&(!y&&!b))},d=(e,t,n)=>{if(!e)return t;const r=o(e.semver,t.semver,n);return r>0?e:r<0||">"===t.operator&&">="===e.operator?t:e},h=(e,t,n)=>{if(!e)return t;const r=o(e.semver,t.semver,n);return r<0?e:r>0||"<"===t.operator&&"<="===e.operator?t:e};e.exports=(e,t,n={})=>{if(e===t)return!0;e=new r(e,n),t=new r(t,n);let a=!1;e:for(const r of e.set){for(const e of t.set){const t=c(r,e,n);if(a=a||null!==t,t)continue e}if(a)return!1}return!0}},9482:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var a={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=i?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(a,s,o):a[s]=e[s]}a.default=e,n&&n.set(e,a);return a}(n(5959)),i=d(n(7842)),s=d(n(7256)),o=n(414),l=n(906),u=d(n(8100)),c=d(n(7222));function d(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function p(e){return function(e){if(Array.isArray(e))return b(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||v(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach(function(t){$(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,i=[],s=!0,o=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);s=!0);}catch(e){o=!0,a=e}finally{try{s||null==n.return||n.return()}finally{if(o)throw a}}return i}(e,t)||v(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){if(e){if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?b(e,t):void 0}}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function O(e,t){return O=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},O(e,t)}function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=S(e);if(t){var i=S(this).constructor;n=Reflect.construct(a,arguments,i)}else n=a.apply(this,arguments);return function(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return x(e)}(this,n)}}function x(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(e){return S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},S(e)}function $(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var R="react-grid-layout",P=!1;try{P=/firefox/i.test(navigator.userAgent)}catch(e){}var E=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&O(e,t)}(d,e);var t,n,r,c=w(d);function d(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,d);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return $(x(e=c.call.apply(c,[this].concat(n))),"state",{activeDrag:null,layout:(0,o.synchronizeLayoutWithChildren)(e.props.layout,e.props.children,e.props.cols,(0,o.compactType)(e.props),e.props.allowOverlap),mounted:!1,oldDragItem:null,oldLayout:null,oldResizeItem:null,droppingDOMNode:null,children:[]}),$(x(e),"dragEnterCounter",0),$(x(e),"onDragStart",function(t,n,r,a){var i=a.e,s=a.node,l=e.state.layout,u=(0,o.getLayoutItem)(l,t);if(u)return e.setState({oldDragItem:(0,o.cloneLayoutItem)(u),oldLayout:l}),e.props.onDragStart(l,u,u,null,i,s)}),$(x(e),"onDrag",function(t,n,r,a){var i=a.e,s=a.node,l=e.state.oldDragItem,u=e.state.layout,c=e.props,d=c.cols,h=c.allowOverlap,p=c.preventCollision,f=(0,o.getLayoutItem)(u,t);if(f){var g={w:f.w,h:f.h,x:f.x,y:f.y,placeholder:!0,i:t};u=(0,o.moveElement)(u,f,n,r,!0,p,(0,o.compactType)(e.props),d,h),e.props.onDrag(u,l,f,g,i,s),e.setState({layout:h?u:(0,o.compact)(u,(0,o.compactType)(e.props),d),activeDrag:g})}}),$(x(e),"onDragStop",function(t,n,r,a){var i=a.e,s=a.node;if(e.state.activeDrag){var l=e.state.oldDragItem,u=e.state.layout,c=e.props,d=c.cols,h=c.preventCollision,p=c.allowOverlap,f=(0,o.getLayoutItem)(u,t);if(f){u=(0,o.moveElement)(u,f,n,r,!0,h,(0,o.compactType)(e.props),d,p),e.props.onDragStop(u,l,f,null,i,s);var g=p?u:(0,o.compact)(u,(0,o.compactType)(e.props),d),m=e.state.oldLayout;e.setState({activeDrag:null,layout:g,oldDragItem:null,oldLayout:null}),e.onLayoutMaybeChanged(g,m)}}}),$(x(e),"onResizeStart",function(t,n,r,a){var i=a.e,s=a.node,l=e.state.layout,u=(0,o.getLayoutItem)(l,t);u&&(e.setState({oldResizeItem:(0,o.cloneLayoutItem)(u),oldLayout:e.state.layout}),e.props.onResizeStart(l,u,u,null,i,s))}),$(x(e),"onResize",function(t,n,r,a){var i=a.e,s=a.node,l=e.state,u=l.layout,c=l.oldResizeItem,d=e.props,h=d.cols,p=d.preventCollision,f=d.allowOverlap,v=(0,o.withLayoutItem)(u,t,function(e){var t;if(p&&!f){var a=(0,o.getAllCollisions)(u,g(g({},e),{},{w:n,h:r})).filter(function(t){return t.i!==e.i});if(t=a.length>0){var i=1/0,s=1/0;a.forEach(function(t){t.x>e.x&&(i=Math.min(i,t.x)),t.y>e.y&&(s=Math.min(s,t.y))}),Number.isFinite(i)&&(e.w=i-e.x),Number.isFinite(s)&&(e.h=s-e.y)}}return t||(e.w=n,e.h=r),e}),b=m(v,2),y=b[0],O=b[1];if(O){var w={w:O.w,h:O.h,x:O.x,y:O.y,static:!0,i:t};e.props.onResize(y,c,O,w,i,s),e.setState({layout:f?y:(0,o.compact)(y,(0,o.compactType)(e.props),h),activeDrag:w})}}),$(x(e),"onResizeStop",function(t,n,r,a){var i=a.e,s=a.node,l=e.state,u=l.layout,c=l.oldResizeItem,d=e.props,h=d.cols,p=d.allowOverlap,f=(0,o.getLayoutItem)(u,t);e.props.onResizeStop(u,c,f,null,i,s);var g=p?u:(0,o.compact)(u,(0,o.compactType)(e.props),h),m=e.state.oldLayout;e.setState({activeDrag:null,layout:g,oldResizeItem:null,oldLayout:null}),e.onLayoutMaybeChanged(g,m)}),$(x(e),"onDragOver",function(t){var n;if(t.preventDefault(),t.stopPropagation(),P&&(null===(n=t.nativeEvent.target)||void 0===n||!n.classList.contains(R)))return!1;var r=e.props,i=r.droppingItem,s=r.onDropDragOver,o=r.margin,u=r.cols,c=r.rowHeight,d=r.maxRows,h=r.width,f=r.containerPadding,m=r.transformScale,v=null==s?void 0:s(t);if(!1===v)return e.state.droppingDOMNode&&e.removeDroppingPlaceholder(),!1;var b=g(g({},i),v),y=e.state.layout,O=t.nativeEvent,w=O.layerX,x=O.layerY,S={left:w/m,top:x/m,e:t};if(e.state.droppingDOMNode){if(e.state.droppingPosition){var $=e.state.droppingPosition,E=$.left,k=$.top;(E!=w||k!=x)&&e.setState({droppingPosition:S})}}else{var _={cols:u,margin:o,maxRows:d,rowHeight:c,containerWidth:h,containerPadding:f||o},C=(0,l.calcXY)(_,x,w,b.w,b.h);e.setState({droppingDOMNode:a.createElement("div",{key:b.i}),droppingPosition:S,layout:[].concat(p(y),[g(g({},b),{},{x:C.x,y:C.y,static:!1,isDraggable:!0})])})}}),$(x(e),"removeDroppingPlaceholder",function(){var t=e.props,n=t.droppingItem,r=t.cols,a=e.state.layout,i=(0,o.compact)(a.filter(function(e){return e.i!==n.i}),(0,o.compactType)(e.props),r);e.setState({layout:i,droppingDOMNode:null,activeDrag:null,droppingPosition:void 0})}),$(x(e),"onDragLeave",function(t){t.preventDefault(),t.stopPropagation(),e.dragEnterCounter--,0===e.dragEnterCounter&&e.removeDroppingPlaceholder()}),$(x(e),"onDragEnter",function(t){t.preventDefault(),t.stopPropagation(),e.dragEnterCounter++}),$(x(e),"onDrop",function(t){t.preventDefault(),t.stopPropagation();var n=e.props.droppingItem,r=e.state.layout,a=r.find(function(e){return e.i===n.i});e.dragEnterCounter=0,e.removeDroppingPlaceholder(),e.props.onDrop(r,a,t)}),e}return t=d,r=[{key:"getDerivedStateFromProps",value:function(e,t){var n;return t.activeDrag?null:((0,i.default)(e.layout,t.propsLayout)&&e.compactType===t.compactType?(0,o.childrenEqual)(e.children,t.children)||(n=t.layout):n=e.layout,n?{layout:(0,o.synchronizeLayoutWithChildren)(n,e.children,e.cols,(0,o.compactType)(e),e.allowOverlap),compactType:e.compactType,children:e.children,propsLayout:e.layout}:null)}}],(n=[{key:"componentDidMount",value:function(){this.setState({mounted:!0}),this.onLayoutMaybeChanged(this.state.layout,this.props.layout)}},{key:"shouldComponentUpdate",value:function(e,t){return this.props.children!==e.children||!(0,o.fastRGLPropsEqual)(this.props,e,i.default)||this.state.activeDrag!==t.activeDrag||this.state.mounted!==t.mounted||this.state.droppingPosition!==t.droppingPosition}},{key:"componentDidUpdate",value:function(e,t){if(!this.state.activeDrag){var n=this.state.layout,r=t.layout;this.onLayoutMaybeChanged(n,r)}}},{key:"containerHeight",value:function(){if(this.props.autoSize){var e=(0,o.bottom)(this.state.layout),t=this.props.containerPadding?this.props.containerPadding[1]:this.props.margin[1];return e*this.props.rowHeight+(e-1)*this.props.margin[1]+2*t+"px"}}},{key:"onLayoutMaybeChanged",value:function(e,t){t||(t=this.state.layout),(0,i.default)(t,e)||this.props.onLayoutChange(e)}},{key:"placeholder",value:function(){var e=this.state.activeDrag;if(!e)return null;var t=this.props,n=t.width,r=t.cols,i=t.margin,s=t.containerPadding,o=t.rowHeight,l=t.maxRows,c=t.useCSSTransforms,d=t.transformScale;return a.createElement(u.default,{w:e.w,h:e.h,x:e.x,y:e.y,i:e.i,className:"react-grid-placeholder",containerWidth:n,cols:r,margin:i,containerPadding:s||i,maxRows:l,rowHeight:o,isDraggable:!1,isResizable:!1,isBounded:!1,useCSSTransforms:c,transformScale:d},a.createElement("div",null))}},{key:"processGridItem",value:function(e,t){if(e&&e.key){var n=(0,o.getLayoutItem)(this.state.layout,String(e.key));if(!n)return null;var r=this.props,i=r.width,s=r.cols,l=r.margin,c=r.containerPadding,d=r.rowHeight,h=r.maxRows,p=r.isDraggable,f=r.isResizable,g=r.isBounded,m=r.useCSSTransforms,v=r.transformScale,b=r.draggableCancel,y=r.draggableHandle,O=r.resizeHandles,w=r.resizeHandle,x=this.state,S=x.mounted,$=x.droppingPosition,R="boolean"==typeof n.isDraggable?n.isDraggable:!n.static&&p,P="boolean"==typeof n.isResizable?n.isResizable:!n.static&&f,E=n.resizeHandles||O,k=R&&g&&!1!==n.isBounded;return a.createElement(u.default,{containerWidth:i,cols:s,margin:l,containerPadding:c||l,maxRows:h,rowHeight:d,cancel:b,handle:y,onDragStop:this.onDragStop,onDragStart:this.onDragStart,onDrag:this.onDrag,onResizeStart:this.onResizeStart,onResize:this.onResize,onResizeStop:this.onResizeStop,isDraggable:R,isResizable:P,isBounded:k,useCSSTransforms:m&&S,usePercentages:!S,transformScale:v,w:n.w,h:n.h,x:n.x,y:n.y,i:n.i,minH:n.minH,minW:n.minW,maxH:n.maxH,maxW:n.maxW,static:n.static,droppingPosition:t?$:void 0,resizeHandles:E,resizeHandle:w},e)}}},{key:"render",value:function(){var e=this,t=this.props,n=t.className,r=t.style,i=t.isDroppable,l=t.innerRef,u=(0,s.default)(R,n),c=g({height:this.containerHeight()},r);return a.createElement("div",{ref:l,className:u,style:c,onDrop:i?this.onDrop:o.noop,onDragLeave:i?this.onDragLeave:o.noop,onDragEnter:i?this.onDragEnter:o.noop,onDragOver:i?this.onDragOver:o.noop},a.Children.map(this.props.children,function(t){return e.processGridItem(t)}),i&&this.state.droppingDOMNode&&this.processGridItem(this.state.droppingDOMNode,!0),this.placeholder())}}])&&y(t.prototype,n),r&&y(t,r),Object.defineProperty(t,"prototype",{writable:!1}),d}(a.Component);t.default=E,$(E,"displayName","ReactGridLayout"),$(E,"propTypes",c.default),$(E,"defaultProps",{autoSize:!0,cols:12,className:"",style:{},draggableHandle:"",draggableCancel:"",containerPadding:null,rowHeight:150,maxRows:1/0,layout:[],margin:[10,10],isBounded:!1,isDraggable:!0,isResizable:!0,allowOverlap:!1,isDroppable:!1,useCSSTransforms:!0,transformScale:1,verticalCompact:!0,compactType:"vertical",preventCollision:!1,droppingItem:{i:"__dropping-elem__",h:1,w:1},resizeHandles:["se"],onLayoutChange:o.noop,onDragStart:o.noop,onDrag:o.noop,onDragStop:o.noop,onResizeStart:o.noop,onResize:o.noop,onResizeStop:o.noop,onDrop:o.noop,onDropDragOver:o.noop})},9524:(e,t,n)=>{"use strict";const r=Symbol("SemVer ANY");class a{static get ANY(){return r}constructor(e,t){if(t=i(t),e instanceof a){if(e.loose===!!t.loose)return e;e=e.value}e=e.trim().split(/\s+/).join(" "),u("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===r?this.value="":this.value=this.operator+this.semver.version,u("comp",this)}parse(e){const t=this.options.loose?s[o.COMPARATORLOOSE]:s[o.COMPARATOR],n=e.match(t);if(!n)throw new TypeError(`Invalid comparator: ${e}`);this.operator=void 0!==n[1]?n[1]:"","="===this.operator&&(this.operator=""),n[2]?this.semver=new c(n[2],this.options.loose):this.semver=r}toString(){return this.value}test(e){if(u("Comparator.test",e,this.options.loose),this.semver===r||e===r)return!0;if("string"==typeof e)try{e=new c(e,this.options)}catch(e){return!1}return l(e,this.operator,this.semver,this.options)}intersects(e,t){if(!(e instanceof a))throw new TypeError("a Comparator is required");return""===this.operator?""===this.value||new d(e.value,t).test(this.value):""===e.operator?""===e.value||new d(this.value,t).test(e.semver):(!(t=i(t)).includePrerelease||"<0.0.0-0"!==this.value&&"<0.0.0-0"!==e.value)&&(!(!t.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0")))&&(!(!this.operator.startsWith(">")||!e.operator.startsWith(">"))||(!(!this.operator.startsWith("<")||!e.operator.startsWith("<"))||(!(this.semver.version!==e.semver.version||!this.operator.includes("=")||!e.operator.includes("="))||(!!(l(this.semver,"<",e.semver,t)&&this.operator.startsWith(">")&&e.operator.startsWith("<"))||!!(l(this.semver,">",e.semver,t)&&this.operator.startsWith("<")&&e.operator.startsWith(">")))))))}}e.exports=a;const i=n(7095),{safeRe:s,t:o}=n(6850),l=n(3811),u=n(9796),c=n(7944),d=n(8395)},9613:(e,t,n)=>{"use strict";const r=n(5860);e.exports=(e,t)=>{const n=r(e,t);return n&&n.prerelease.length?n.prerelease:null}},9630:e=>{"use strict";const t=Number.MAX_SAFE_INTEGER||9007199254740991;e.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:16,MAX_SAFE_BUILD_LENGTH:250,MAX_SAFE_INTEGER:t,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:"2.0.0",FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}},9796:e=>{"use strict";const t="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};e.exports=t},9851:(e,t,n)=>{"use strict";n.d(t,{K3:()=>A});var r=n(782),a=n(7203);let i=0;class s{constructor(e,t,n,r){this.name=e,this.set=t,this.base=n,this.modified=r,this.id=i++}toString(){let{name:e}=this;for(let t of this.modified)t.name&&(e=`${t.name}(${e})`);return e}static define(e,t){let n="string"==typeof e?e:"?";if(e instanceof s&&(t=e),null==t?void 0:t.base)throw new Error("Can not derive from a modified tag");let r=new s(n,[],null,[]);if(r.set.push(r),t)for(let e of t.set)r.set.push(e);return r}static defineModifier(e){let t=new l(e);return e=>e.modified.indexOf(t)>-1?e:l.get(e.base||e,e.modified.concat(t).sort((e,t)=>e.id-t.id))}}let o=0;class l{constructor(e){this.name=e,this.instances=[],this.id=o++}static get(e,t){if(!t.length)return e;let n=t[0].instances.find(n=>{return n.base==e&&(r=t,a=n.modified,r.length==a.length&&r.every((e,t)=>e==a[t]));var r,a});if(n)return n;let r=[],a=new s(e.name,r,e,t);for(let e of t)e.instances.push(a);let i=function(e){let t=[[]];for(let n=0;n<e.length;n++)for(let r=0,a=t.length;r<a;r++)t.push(t[r].concat(e[n]));return t.sort((e,t)=>t.length-e.length)}(t);for(let t of e.set)if(!t.modified.length)for(let e of i)r.push(l.get(t,e));return a}}const u=new a.uY;class c{constructor(e,t,n,r){this.tags=e,this.mode=t,this.context=n,this.next=r}get opaque(){return 0==this.mode}get inherit(){return 1==this.mode}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}}c.empty=new c([],2,null);const d=s.define,h=d(),p=d(),f=d(p),g=d(p),m=d(),v=d(m),b=d(m),y=d(),O=d(y),w=d(),x=d(),S=d(),$=d(S),R=d(),P={comment:h,lineComment:d(h),blockComment:d(h),docComment:d(h),name:p,variableName:d(p),typeName:f,tagName:d(f),propertyName:g,attributeName:d(g),className:d(p),labelName:d(p),namespace:d(p),macroName:d(p),literal:m,string:v,docString:d(v),character:d(v),attributeValue:d(v),number:b,integer:d(b),float:d(b),bool:d(m),regexp:d(m),escape:d(m),color:d(m),url:d(m),keyword:w,self:d(w),null:d(w),atom:d(w),unit:d(w),modifier:d(w),operatorKeyword:d(w),controlKeyword:d(w),definitionKeyword:d(w),moduleKeyword:d(w),operator:x,derefOperator:d(x),arithmeticOperator:d(x),logicOperator:d(x),bitwiseOperator:d(x),compareOperator:d(x),updateOperator:d(x),definitionOperator:d(x),typeOperator:d(x),controlOperator:d(x),punctuation:S,separator:d(S),bracket:$,angleBracket:d($),squareBracket:d($),paren:d($),brace:d($),content:y,heading:O,heading1:d(O),heading2:d(O),heading3:d(O),heading4:d(O),heading5:d(O),heading6:d(O),contentSeparator:d(y),list:d(y),quote:d(y),emphasis:d(y),strong:d(y),link:d(y),monospace:d(y),strikethrough:d(y),inserted:d(),deleted:d(),changed:d(),invalid:d(),meta:R,documentMeta:d(R),annotation:d(R),processingInstruction:d(R),definition:s.defineModifier("definition"),constant:s.defineModifier("constant"),function:s.defineModifier("function"),standard:s.defineModifier("standard"),local:s.defineModifier("local"),special:s.defineModifier("special")};for(let e in P){let t=P[e];t instanceof s&&(t.name=e)}!function(e,t){let n=Object.create(null);for(let t of e)if(Array.isArray(t.tag))for(let e of t.tag)n[e.id]=t.class;else n[t.tag.id]=t.class;let{scope:r,all:a=null}=t||{}}([{tag:P.link,class:"tok-link"},{tag:P.heading,class:"tok-heading"},{tag:P.emphasis,class:"tok-emphasis"},{tag:P.strong,class:"tok-strong"},{tag:P.keyword,class:"tok-keyword"},{tag:P.atom,class:"tok-atom"},{tag:P.bool,class:"tok-bool"},{tag:P.url,class:"tok-url"},{tag:P.labelName,class:"tok-labelName"},{tag:P.inserted,class:"tok-inserted"},{tag:P.deleted,class:"tok-deleted"},{tag:P.literal,class:"tok-literal"},{tag:P.string,class:"tok-string"},{tag:P.number,class:"tok-number"},{tag:[P.regexp,P.escape,P.special(P.string)],class:"tok-string2"},{tag:P.variableName,class:"tok-variableName"},{tag:P.local(P.variableName),class:"tok-variableName tok-local"},{tag:P.definition(P.variableName),class:"tok-variableName tok-definition"},{tag:P.special(P.variableName),class:"tok-variableName2"},{tag:P.definition(P.propertyName),class:"tok-propertyName tok-definition"},{tag:P.typeName,class:"tok-typeName"},{tag:P.namespace,class:"tok-namespace"},{tag:P.className,class:"tok-className"},{tag:P.macroName,class:"tok-macroName"},{tag:P.propertyName,class:"tok-propertyName"},{tag:P.operator,class:"tok-operator"},{tag:P.comment,class:"tok-comment"},{tag:P.meta,class:"tok-meta"},{tag:P.invalid,class:"tok-invalid"},{tag:P.punctuation,class:"tok-punctuation"}]);const E={inf:158,nan:159,bool:1,ignoring:2,on:3,group_left:4,group_right:5,offset:6},k=(e,t)=>E[e.toLowerCase()]||-1,_={avg:8,atan2:7,bottomk:9,count:10,count_values:11,group:12,max:13,min:14,quantile:15,limitk:16,limit_ratio:17,stddev:18,stdvar:19,sum:20,topk:21,by:22,without:23,and:24,or:25,unless:26,start:27,end:28},C=(e,t)=>_[e.toLowerCase()]||-1,T=function(e){let t=Object.create(null);for(let n in e){let r=e[n];Array.isArray(r)||(r=[r]);for(let e of n.split(" "))if(e){let n=[],a=2,i=e;for(let t=0;;){if("..."==i&&t>0&&t+3==e.length){a=1;break}let r=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(i);if(!r)throw new RangeError("Invalid path: "+e);if(n.push("*"==r[0]?"":'"'==r[0][0]?JSON.parse(r[0]):r[0]),t+=r[0].length,t==e.length)break;let s=e[t++];if(t==e.length&&"!"==s){a=0;break}if("/"!=s)throw new RangeError("Invalid path: "+e);i=e.slice(t)}let s=n.length-1,o=n[s];if(!o)throw new RangeError("Invalid path: "+e);let l=new c(r,a,s>0?n.slice(0,s):null);t[o]=l.sort(t[o])}}return u.add(t)}({LineComment:P.comment,LabelName:P.labelName,StringLiteral:P.string,NumberDurationLiteral:P.number,NumberDurationLiteralInDurationContext:P.number,Identifier:P.variableName,"Abs Absent AbsentOverTime Acos Acosh Asin Asinh Atan Atanh AvgOverTime Ceil Changes Clamp ClampMax ClampMin Cos Cosh CountOverTime DaysInMonth DayOfMonth DayOfWeek DayOfYear Deg Delta Deriv Exp Floor HistogramAvg HistogramCount HistogramFraction HistogramQuantile HistogramSum DoubleExponentialSmoothing Hour Idelta Increase Irate LabelReplace LabelJoin LastOverTime Ln Log10 Log2 MaxOverTime MinOverTime Minute Month Pi PredictLinear PresentOverTime QuantileOverTime Rad Rate Resets Round Scalar Sgn Sin Sinh Sort SortDesc SortByLabel SortByLabelDesc Sqrt StddevOverTime StdvarOverTime SumOverTime Tan Tanh Time Timestamp Vector Year":P.function(P.variableName),"Avg Bottomk Count Count_values Group LimitK LimitRatio Max Min Quantile Stddev Stdvar Sum Topk":P.operatorKeyword,"By Without Bool On Ignoring GroupLeft GroupRight Offset Start End":P.modifier,"And Unless Or":P.logicOperator,"Sub Add Mul Mod Div Atan2 Eql Neq Lte Lss Gte Gtr EqlRegex EqlSingle NeqRegex Pow At":P.operator,UnaryOp:P.arithmeticOperator,"( )":P.paren,"[ ]":P.squareBracket,"{ }":P.brace,"⚠":P.invalid}),D={__proto__:null,absent_over_time:335,absent:337,abs:339,acos:341,acosh:343,asin:345,asinh:347,atan:349,atanh:351,avg_over_time:353,ceil:355,changes:357,clamp:359,clamp_max:361,clamp_min:363,cos:365,cosh:367,count_over_time:369,days_in_month:371,day_of_month:373,day_of_week:375,day_of_year:377,deg:379,delta:381,deriv:383,exp:385,floor:387,histogram_count:389,histogram_fraction:391,histogram_quantile:393,histogram_stddev:395,histogram_stdvar:397,histogram_sum:399,histogram_avg:401,double_exponential_smoothing:403,hour:405,idelta:407,increase:409,info:411,irate:413,label_replace:415,label_join:417,last_over_time:419,ln:421,log10:423,log2:425,mad_over_time:427,max_over_time:429,min_over_time:431,minute:433,month:435,pi:437,predict_linear:439,present_over_time:441,quantile_over_time:443,rad:445,rate:447,resets:449,round:451,scalar:453,sgn:455,sin:457,sinh:459,sort:461,sort_desc:463,sort_by_label:465,sort_by_label_desc:467,sqrt:469,stddev_over_time:471,stdvar_over_time:473,sum_over_time:475,tan:477,tanh:479,timestamp:481,time:483,vector:485,year:487},A=r.U1.deserialize({version:14,states:"9bOYQPOOO'tQPOOOOQO'#C|'#C|O'yQPO'#C{Q(UQQOOOOQO'#De'#DeO(PQPO'#DdOOQO'#FY'#FYO)cQPO'#F_OYQPO'#F[OYQPO'#F^O0WQSO'#FaO0cQQO'#F`OOQO'#F`'#F`OOQO'#Ft'#FtOOQO'#Df'#DfOOQO'#Dh'#DhOOQO'#Di'#DiOOQO'#Dj'#DjOOQO'#Dk'#DkOOQO'#Dl'#DlOOQO'#Dm'#DmOOQO'#Dn'#DnOOQO'#Do'#DoOOQO'#Dp'#DpOOQO'#Dq'#DqOOQO'#Dr'#DrOOQO'#Ds'#DsOOQO'#Dt'#DtOOQO'#Du'#DuOOQO'#Dv'#DvOOQO'#Dw'#DwOOQO'#Dx'#DxOOQO'#Dy'#DyOOQO'#Dz'#DzOOQO'#D{'#D{OOQO'#D|'#D|OOQO'#D}'#D}OOQO'#EO'#EOOOQO'#EP'#EPOOQO'#EQ'#EQOOQO'#ER'#EROOQO'#ES'#ESOOQO'#ET'#ETOOQO'#EU'#EUOOQO'#EV'#EVOOQO'#EW'#EWOOQO'#EX'#EXOOQO'#EY'#EYOOQO'#EZ'#EZOOQO'#E['#E[OOQO'#E]'#E]OOQO'#E^'#E^OOQO'#E_'#E_OOQO'#E`'#E`OOQO'#Ea'#EaOOQO'#Eb'#EbOOQO'#Ec'#EcOOQO'#Ed'#EdOOQO'#Ee'#EeOOQO'#Ef'#EfOOQO'#Eg'#EgOOQO'#Eh'#EhOOQO'#Ei'#EiOOQO'#Ej'#EjOOQO'#Ek'#EkOOQO'#El'#ElOOQO'#Em'#EmOOQO'#En'#EnOOQO'#Eo'#EoOOQO'#Ep'#EpOOQO'#Eq'#EqOOQO'#Er'#ErOOQO'#Es'#EsOOQO'#Et'#EtOOQO'#Eu'#EuOOQO'#Ev'#EvOOQO'#Ew'#EwOOQO'#Ex'#ExOOQO'#Ey'#EyOOQO'#Ez'#EzOOQO'#E{'#E{OOQO'#E|'#E|OOQO'#E}'#E}OOQO'#FO'#FOOOQO'#FP'#FPOOQO'#FQ'#FQOOQO'#FR'#FROOQO'#FS'#FSOOQO'#FT'#FTOOQO'#FU'#FUOOQO'#FV'#FVQOQPOOO1|QPO'#C}O2RQPO'#DSO(PQPO,59gO2YQQO,59gO3vQPO,59oO3vQPO,59oO3vQPO,59oO3vQPO,59oO3vQPO,59oO:kQPO,5;rO:kQPO,5;uO:|QPO,5<SOOQO,5:O,5:OOOQO,5;t,5;tO;eQQO,5;vO;lQQO,5;xOOQO'#DQ'#DQO=SQPO'#FbO=bQPO,5;{OOQO,5;{,5;{O=nQPO,5;{OOQO,5;z,5;zO=vQSO'#DOOOQO,59i,59iOOQO,59n,59nO>RQQO,59nOOQO1G/R1G/ROOQO'#DV'#DVO1|QPO'#DWOOQO'#Fx'#FxO>]QPO'#FxOYQPO1G/ZOYQPO1G/ZOYQPO1G/ZOYQPO1G/ZOYQPO1G/ZOOQO'#FX'#FXOD}QPO'#FXOEYQSO1G1^OOQO1G1a1G1aOEbQPO'#FYOOQO'#Fj'#FjOOQO1G1n1G1nOEmQPO1G1nOOQO1G1b1G1bOOQO'#Fc'#FcOErQPO,5;|OEwQPO,5<ROE|QSO1G1gOFXQPO1G1gOOQO1G1g1G1gOOQO,59j,59jOFaQPO,59jOYQPO'#FmOFiQPO1G/YOOQO1G/Y1G/YOFqQPO,59rOOQO,5<d,5<dONmQQO7+$uON}QQO7+$uO!!cQQO7+$uO!!yQQO7+$uO!$bQQO7+$uOOQO,5;s,5;sOOQO7+&x7+&xO!${QPO7+&}O!%SQPO7+'YOOQO1G1h1G1hOOQO1G1m1G1mO!%XQPO,5<YOOQO,5<Y,5<YOOQO7+'R7+'RO!%mQSO7+'ROOQO-E9l-E9lO!%xQSO1G/UO!&TQPO1G/UOOQO1G/U1G/UO!&]QQO,5<XOOQO-E9k-E9kOOQO7+$t7+$tO!&gQPO1G/^OOQO<<Ji<<JiO!-RQPO<<JiOOQO<<Jt<<JtOOQO<<Jm<<JmP!-WQSO'#FnOOQO,5<W,5<WOOQO7+$p7+$pO!-`QSO7+$pOOQO-E9j-E9jOOQO7+$x7+$xOOQOAN@TAN@TOOQO<<H[<<H[P!-kQSO'#Fl",stateData:"!-s~O$gOSmOS~OWQOXQOYQOZQO[QO]QO^QO_QO`QOaQObQOcQOdQOeQOu^O!Z[O$dVO$eVO$iXO$m_O$n`O$oaO$pbO$qcO$rdO$seO$tfO$ugO$vhO$wiO$xjO$ykO$zlO${mO$|nO$}oO%OpO%PqO%QrO%RsO%StO%TuO%UvO%VwO%WxO%XyO%YzO%Z{O%[|O%]}O%^!OO%_!PO%`!QO%a!RO%b!SO%c!TO%d!UO%e!VO%f!WO%g!XO%h!YO%i!ZO%j![O%k!]O%l!^O%m!_O%n!`O%o!aO%p!bO%q!cO%r!dO%s!eO%t!fO%u!gO%v!hO%w!iO%x!jO%y!kO%z!lO%{!mO%|!nO%}!oO&O!pO&P!qO&Q!rO&R!sO&S!tO&T!uO&U!vO&V!wO&W!xO&X!yO&Y!zO&Z!{O&[!|O&]!}O&_WO&`WO&aVO&dZO~O!Z#OO~Of#POg#PO$i#QO~OU#ZOV#TOh#WOi#XOj#WOx#TO{#TO|#TO}#TO!O#UO!P#UO!Q#VO!R#VO!S#VO!T#VO!U#VO!V#VO$]#[O&^#YO~O$d#^O$e#^O&a#^OW$RXX$RXY$RXZ$RX[$RX]$RX^$RX_$RX`$RXa$RXb$RXc$RXd$RXe$RXu$RX!Z$RX$d$RX$e$RX$i$RX$m$RX$n$RX$o$RX$p$RX$q$RX$r$RX$s$RX$t$RX$u$RX$v$RX$w$RX$x$RX$y$RX$z$RX${$RX$|$RX$}$RX%O$RX%P$RX%Q$RX%R$RX%S$RX%T$RX%U$RX%V$RX%W$RX%X$RX%Y$RX%Z$RX%[$RX%]$RX%^$RX%_$RX%`$RX%a$RX%b$RX%c$RX%d$RX%e$RX%f$RX%g$RX%h$RX%i$RX%j$RX%k$RX%l$RX%m$RX%n$RX%o$RX%p$RX%q$RX%r$RX%s$RX%t$RX%u$RX%v$RX%w$RX%x$RX%y$RX%z$RX%{$RX%|$RX%}$RX&O$RX&P$RX&Q$RX&R$RX&S$RX&T$RX&U$RX&V$RX&W$RX&X$RX&Y$RX&Z$RX&[$RX&]$RX&_$RX&`$RX&a$RX&d$RX~Os#bOu#aO&e#dO~O&dZOU$SXV$SXh$SXi$SXj$SXx$SX{$SX|$SX}$SX!O$SX!P$SX!Q$SX!R$SX!S$SX!T$SX!U$SX!V$SX$]$SX$c$SX&^$SX$k$SX$j$SX~O$i#gO~O$k#iO~PYOf#POg#POUoaVoahoaioajoaxoa{oa|oa}oa!Ooa!Poa!Qoa!Roa!Soa!Toa!Uoa!Voa$]oa$coa&^oa$koa$joa~OP#lOQ#mOR#mOW$lPX$lPY$lPZ$lP[$lP]$lP^$lP_$lP`$lPa$lPb$lPc$lPd$lPe$lPu$lP!Z$lP$d$lP$e$lP$i$lP$m$lP$n$lP$o$lP$p$lP$q$lP$r$lP$s$lP$t$lP$u$lP$v$lP$w$lP$x$lP$y$lP$z$lP${$lP$|$lP$}$lP%O$lP%P$lP%Q$lP%R$lP%S$lP%T$lP%U$lP%V$lP%W$lP%X$lP%Y$lP%Z$lP%[$lP%]$lP%^$lP%_$lP%`$lP%a$lP%b$lP%c$lP%d$lP%e$lP%f$lP%g$lP%h$lP%i$lP%j$lP%k$lP%l$lP%m$lP%n$lP%o$lP%p$lP%q$lP%r$lP%s$lP%t$lP%u$lP%v$lP%w$lP%x$lP%y$lP%z$lP%{$lP%|$lP%}$lP&O$lP&P$lP&Q$lP&R$lP&S$lP&T$lP&U$lP&V$lP&W$lP&X$lP&Y$lP&Z$lP&[$lP&]$lP&_$lP&`$lP&a$lP&d$lP~O$d#uO$e#uO&_#vO&`#vO&a#uO~Ok#zOl#zO$dVO$eVO&_#yO&`#yO&aVO~O$k#}O~P(UOx#TOU$QaV$Qah$Qai$Qaj$Qa{$Qa|$Qa}$Qa!O$Qa!P$Qa!Q$Qa!R$Qa!S$Qa!T$Qa!U$Qa!V$Qa$]$Qa$c$Qa&^$Qa$k$Qa$j$Qa~O!V$OO$W$OO$X$OO$Y$OO~O!V$OO$W$OO$X$OO$Y$OO$j$RO&e$TO~Os$VOu#aO$k$UO~O$j$WO$k$YO~P(UOQ#mOR#mOW$lXX$lXY$lXZ$lX[$lX]$lX^$lX_$lX`$lXa$lXb$lXc$lXd$lXe$lXu$lX!Z$lX$d$lX$e$lX$i$lX$m$lX$n$lX$o$lX$p$lX$q$lX$r$lX$s$lX$t$lX$u$lX$v$lX$w$lX$x$lX$y$lX$z$lX${$lX$|$lX$}$lX%O$lX%P$lX%Q$lX%R$lX%S$lX%T$lX%U$lX%V$lX%W$lX%X$lX%Y$lX%Z$lX%[$lX%]$lX%^$lX%_$lX%`$lX%a$lX%b$lX%c$lX%d$lX%e$lX%f$lX%g$lX%h$lX%i$lX%j$lX%k$lX%l$lX%m$lX%n$lX%o$lX%p$lX%q$lX%r$lX%s$lX%t$lX%u$lX%v$lX%w$lX%x$lX%y$lX%z$lX%{$lX%|$lX%}$lX&O$lX&P$lX&Q$lX&R$lX&S$lX&T$lX&U$lX&V$lX&W$lX&X$lX&Y$lX&Z$lX&[$lX&]$lX&_$lX&`$lX&a$lX&d$lX~O$d$bO$e$bO&a$bO~O&b$cO&c$dO~O$d#^O$e#^O&a#^O~O$i$eO~Ou$fO~Ou$gO~Os#bOu#aO&e$jO~O$j$kO&e$jO~O$j$mO$k$oO~O$j$WO$k$rO~OS$sOT$sOWzaXzaYzaZza[za]za^za_za`zaazabzaczadzaezauza!Zza$dza$eza$iza$mza$nza$oza$pza$qza$rza$sza$tza$uza$vza$wza$xza$yza$zza${za$|za$}za%Oza%Pza%Qza%Rza%Sza%Tza%Uza%Vza%Wza%Xza%Yza%Zza%[za%]za%^za%_za%`za%aza%bza%cza%dza%eza%fza%gza%hza%iza%jza%kza%lza%mza%nza%oza%pza%qza%rza%sza%tza%uza%vza%wza%xza%yza%zza%{za%|za%}za&Oza&Pza&Qza&Rza&Sza&Tza&Uza&Vza&Wza&Xza&Yza&Zza&[za&]za&_za&`za&aza&dza~Ox#TOUwqhwqiwqjwq!Owq!Pwq!Qwq!Rwq!Swq!Twq!Uwq!Vwq$]wq$cwq&^wq$kwq$jwq~OVwq{wq|wq}wq~PMcOV#TO{#TO|#TO}#TO~PMcOV#TOx#TO{#TO|#TO}#TO!O#UO!P#UOUwqhwqiwqjwq$]wq$cwq&^wq$kwq$jwq~O!Qwq!Rwq!Swq!Twq!Uwq!Vwq~P! _O!Q#VO!R#VO!S#VO!T#VO!U#VO!V#VO~P! _OV#TOh#WOj#WOx#TO{#TO|#TO}#TO!O#UO!P#UO!Q#VO!R#VO!S#VO!T#VO!U#VO!V#VO~OUwqiwq$]wq$cwq&^wq$kwq$jwq~P!#aO&b$tO~P:kO$k$vO~O!V$OO$W$OO$X$OO$Y$OO$j$ba&e$ba~Os#bOu#aO&e$wO~Os$yOu#aO$k$zO~O$j${O$k$zO~O$j$aa$k$aa~P(UO$i#gOWziXziYziZzi[zi]zi^zi_zi`ziazibziczidzieziuzi!Zzi$dzi$ezi$mzi$nzi$ozi$pzi$qzi$rzi$szi$tzi$uzi$vzi$wzi$xzi$yzi$zzi${zi$|zi$}zi%Ozi%Pzi%Qzi%Rzi%Szi%Tzi%Uzi%Vzi%Wzi%Xzi%Yzi%Zzi%[zi%]zi%^zi%_zi%`zi%azi%bzi%czi%dzi%ezi%fzi%gzi%hzi%izi%jzi%kzi%lzi%mzi%nzi%ozi%pzi%qzi%rzi%szi%tzi%uzi%vzi%wzi%xzi%yzi%zzi%{zi%|zi%}zi&Ozi&Pzi&Qzi&Rzi&Szi&Tzi&Uzi&Vzi&Wzi&Xzi&Yzi&Zzi&[zi&]zi&_zi&`zi&azi&dzi~O&b%OO~Os#bOu#aO~Os$yOu#aO$k%PO~Os$yOu#aO~O",goto:")v$mPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPP$n$z%W%^P%gP%w$nP&Q&XPPPPPPPPPPP$n&c&oP&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o$n&{'U$n$n$n$n'e$n'q(Q(YPPP(Q$nP(aP(d(j(pPPPPP(wPPP)ge^OXY#Q#p#q#r#s#t$WeROXY#Q#p#q#r#s#t$WQ#RRR#k#SQ#h#PQ$Z#mR$}$sQ#cZQ$V#gU$h$R$k$xV$y$m${%QQ#SRQ#]UR#k#RZ#o#T#U#V#W#XY#n#T#U#V#W#XR$[#oeUOXY#Q#p#q#r#s#t$WeTOXY#Q#p#q#r#s#t$WQ#w#YQ#x#ZR$u$dd^OXY#Q#p#q#r#s#t$WR#{#[eYOXY#Q#p#q#r#s#t$Wd]OXY#Q#p#q#r#s#t$WR#f[Q#eZV$i$R$k$xQ$P#bT$Q#c$hR#|#[Q$n$VR$|$nQ$X#jR$q$XS$S#c#eR$l$SQSOQ#_XQ#`YQ#j#QQ$]#pQ$^#qQ$_#rQ$`#sQ$a#tR$p$WQ#p#TQ#q#UQ#r#VQ#s#WR#t#X",nodeNames:"⚠ Bool Ignoring On GroupLeft GroupRight Offset Atan2 Avg Bottomk Count CountValues Group Max Min Quantile LimitK LimitRatio Stddev Stdvar Sum Topk By Without And Or Unless Start End LineComment PromQL AggregateExpr AggregateOp AggregateModifier GroupingLabels LabelName QuotedLabelName StringLiteral FunctionCallBody BinaryExpr Pow BoolModifier MatchingModifierClause Mul Div Mod Add Sub Eql Gte Gtr Lte Lss Neq FunctionCall FunctionIdentifier AbsentOverTime Identifier Absent Abs Acos Acosh Asin Asinh Atan Atanh AvgOverTime Ceil Changes Clamp ClampMax ClampMin Cos Cosh CountOverTime DaysInMonth DayOfMonth DayOfWeek DayOfYear Deg Delta Deriv Exp Floor HistogramCount HistogramFraction HistogramQuantile HistogramStdDev HistogramStdVar HistogramSum HistogramAvg DoubleExponentialSmoothing Hour Idelta Increase Info Irate LabelReplace LabelJoin LastOverTime Ln Log10 Log2 MadOverTime MaxOverTime MinOverTime Minute Month Pi PredictLinear PresentOverTime QuantileOverTime Rad Rate Resets Round Scalar Sgn Sin Sinh Sort SortDesc SortByLabel SortByLabelDesc Sqrt StddevOverTime StdvarOverTime SumOverTime Tan Tanh Timestamp Time Vector Year MatrixSelector NumberDurationLiteralInDurationContext NumberDurationLiteral OffsetExpr ParenExpr SubqueryExpr UnaryExpr UnaryOp VectorSelector LabelMatchers UnquotedLabelMatcher MatchOp EqlSingle EqlRegex NeqRegex QuotedLabelMatcher StepInvariantExpr At AtModifierPreprocessors MetricName",maxTerm:251,nodeProps:[["group",-12,31,37,39,54,134,136,137,138,139,140,142,150,"Expr"]],propSources:[T],skippedNodes:[0,29],repeatNodeCount:3,tokenData:"4k~RwX^#lpq#lqr$ars$tst&luv'Twx'Yxy({yz)Qz{)V{|)[|})c}!O)h!O!P)o!P!Q*u!Q!R*z!R![+u![!]1O!^!_1z!_!`2X!`!a2n!b!c2{!c!}3Q!}#O3h#P#Q3m#Q#R3r#R#S3Q#S#T3w#T#o3Q#o#p4a#q#r4f#y#z#l$f$g#l#BY#BZ#l$IS$I_#l$I|$JO#l$JT$JU#l$KV$KW#l&FU&FV#l~#qY$g~X^#lpq#l#y#z#l$f$g#l#BY#BZ#l$IS$I_#l$I|$JO#l$JT$JU#l$KV$KW#l&FU&FV#l~$dQ!_!`$j#r#s$o~$oO!V~~$tO$Y~~$yWu~OY$tZr$trs%cs#O$t#O#P%h#P;'S$t;'S;=`&f<%lO$t~%hOu~~%kRO;'S$t;'S;=`%t;=`O$t~%yXu~OY$tZr$trs%cs#O$t#O#P%h#P;'S$t;'S;=`&f;=`<%l$t<%lO$t~&iP;=`<%l$t~&qSm~OY&lZ;'S&l;'S;=`&}<%lO&l~'QP;=`<%l&l~'YO}~~'_Wu~OY'YZw'Ywx%cx#O'Y#O#P'w#P;'S'Y;'S;=`(u<%lO'Y~'zRO;'S'Y;'S;=`(T;=`O'Y~(YXu~OY'YZw'Ywx%cx#O'Y#O#P'w#P;'S'Y;'S;=`(u;=`<%l'Y<%lO'Y~(xP;=`<%l'Y~)QO$i~~)VO$k~~)[O{~R)cO&`P!OQ~)hO$j~R)oO&_P!PQ~)rP!Q![)u~)zS&a~!Q![)u!g!h*W#R#S)o#X#Y*W~*ZR{|*d}!O*d!Q![*j~*gP!Q![*j~*oQ&a~!Q![*j#R#S*d~*zO|~~+P[&a~!O!P)o!Q![+u!g!h*W#R#S,m#W#X-X#X#Y*W#[#]-p#a#b.U#g#h.x#k#l/Z#l#m0d#m#n/u~+zZ&a~!O!P)o!Q![+u!g!h*W#R#S,m#W#X-X#X#Y*W#[#]-p#a#b.U#g#h.x#k#l/Z#m#n/u~,pP!Q![,s~,xT&a~!O!P)o!Q![,s!g!h*W#R#S,m#X#Y*W~-^P&a~!Q![-a~-dS!Q![-a#[#]-p#a#b.U#g#h.x~-uP&a~!Q![-x~-{R!Q![-x#a#b.U#g#h.x~.ZQ&a~!Q![.a#g#h.s~.dR!Q![.a#a#b.m#g#h.x~.pP#g#h.s~.xO&a~~.}P&a~!Q![/Q~/TQ!Q![/Q#a#b.m~/`P&a~!Q![/c~/fT!Q![/c#W#X-X#[#]-p#a#b.U#g#h.x~/zP&a~!Q![/}~0QU!Q![/}#W#X-X#[#]-p#a#b.U#g#h.x#k#l/Z~0gR!Q![0p!c!i0p#T#Z0p~0uR&a~!Q![0p!c!i0p#T#Z0pV1VT&cS!ZR!Q![1f![!]1f!c!}1f#R#S1f#T#o1fR1kT!ZR!Q![1f![!]1f!c!}1f#R#S1f#T#o1f~2PP!U~!_!`2S~2XO!T~~2^Q$WP!_!`2d#r#s2iQ2iO!QQ~2nO$X~~2sP!S~!_!`2v~2{O!R~~3QO$]~V3XT!ZRsS!Q![3Q![!]1f!c!}3Q#R#S3Q#T#o3Q~3mO&^~~3rO&b~~3wOx~~3zTO#S3w#S#T%c#T;'S3w;'S;=`4Z<%lO3w~4^P;=`<%l3w~4fO&d~~4kO&e~",tokenizers:[0,1,2],topRules:{PromQL:[0,30],MetricName:[1,153]},specialized:[{term:57,get:(e,t)=>k(e)<<1,external:k},{term:57,get:(e,t)=>C(e)<<1|1,external:C,extend:!0},{term:57,get:e=>D[e]||-1}],tokenPrec:0})},9954:(e,t,n)=>{"use strict";t.__esModule=!0,t.cloneElement=function(e,t){t.style&&e.props.style&&(t.style=s(s({},e.props.style),t.style));t.className&&e.props.className&&(t.className=e.props.className+" "+t.className);return a.default.cloneElement(e,t)};var r,a=(r=n(5959))&&r.__esModule?r:{default:r};function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach(function(t){o(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function o(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}}}]);
//# sourceMappingURL=946.js.map?_cache=30dc5752e7c494feb342